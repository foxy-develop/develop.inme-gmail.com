{"version":3,"sources":["webpack:///./src/assets/crystal.png","webpack:///./src/views/Login.vue?3380","webpack:///./src/assets/logo.svg","webpack:///./src/views/Login.vue?fe1f","webpack:///./src/components/login-form/index.vue?a3e6","webpack:///./node_modules/imask/esm/_rollupPluginBabelHelpers-3c58f0e3.js","webpack:///./node_modules/imask/esm/core/utils.js","webpack:///./node_modules/imask/esm/core/action-details.js","webpack:///./node_modules/imask/esm/core/change-details.js","webpack:///./node_modules/imask/esm/core/continuous-tail-details.js","webpack:///./node_modules/imask/esm/core/holder.js","webpack:///./node_modules/imask/esm/masked/base.js","webpack:///./node_modules/imask/esm/masked/factory.js","webpack:///./node_modules/imask/esm/masked/pattern/input-definition.js","webpack:///./node_modules/imask/esm/masked/pattern/fixed-definition.js","webpack:///./node_modules/imask/esm/masked/pattern/chunk-tail-details.js","webpack:///./node_modules/imask/esm/masked/pattern.js","webpack:///./node_modules/imask/esm/masked/range.js","webpack:///./node_modules/imask/esm/masked/date.js","webpack:///./node_modules/imask/esm/controls/mask-element.js","webpack:///./node_modules/imask/esm/controls/html-mask-element.js","webpack:///./node_modules/imask/esm/controls/html-contenteditable-mask-element.js","webpack:///./node_modules/imask/esm/controls/input.js","webpack:///./node_modules/imask/esm/imask.js","webpack:///./node_modules/vue-imask/esm/component.js","webpack:///./node_modules/vue-imask/esm/directive.js","webpack:///./node_modules/imask/esm/masked/enum.js","webpack:///./node_modules/imask/esm/masked/number.js","webpack:///./node_modules/imask/esm/masked/regexp.js","webpack:///./node_modules/imask/esm/masked/function.js","webpack:///./node_modules/imask/esm/masked/dynamic.js","webpack:///./node_modules/imask/esm/masked/pipe.js","webpack:///./node_modules/imask/esm/index.js","webpack:///./src/constants/country.codes.js","webpack:///src/components/login-form/index.vue","webpack:///./src/components/login-form/index.vue?6593","webpack:///./src/components/login-form/index.vue","webpack:///src/views/Login.vue","webpack:///./src/views/Login.vue?09c2","webpack:///./src/views/Login.vue","webpack:///./src/components/login-form/index.vue?7267","webpack:///./node_modules/core-js/modules/es.array.slice.js"],"names":["module","exports","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","staticRenderFns","class","getErrorMessage","on","$event","preventDefault","login","isPhoneApproved","_v","ref","model","value","callback","$$v","password","expression","country","mask","phone","loading","_s","_typeof","obj","Symbol","iterator","constructor","prototype","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","_defineProperty","_inherits","subClass","superClass","create","_setPrototypeOf","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","p","_objectWithoutPropertiesLoose","source","excluded","sourceKeys","keys","indexOf","_objectWithoutProperties","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","call","_assertThisInitialized","self","ReferenceError","_possibleConstructorReturn","_superPropBase","object","property","hasOwnProperty","_get","receiver","Reflect","get","base","desc","getOwnPropertyDescriptor","set","_set","isStrict","s","Error","_slicedToArray","arr","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","Array","isArray","toString","_arr","_n","_d","_e","undefined","_i","next","done","push","err","isString","str","String","DIRECTION","NONE","LEFT","FORCE_LEFT","RIGHT","FORCE_RIGHT","forceDirection","direction","escapeRegExp","replace","objectIncludes","b","a","arrA","arrB","dateA","Date","dateB","getTime","regexpA","RegExp","regexpB","ActionDetails","cursorPos","oldValue","oldSelection","slice","startChangePos","start","Math","min","substr","insertedCount","max","end","removedCount","substring","ChangeDetails","details","assign","inserted","rawInserted","skip","tailShift","ContinuousTailDetails","arguments","from","stop","tail","masked","append","aggregate","_appendPlaceholder","pos","shiftChar","state","IMask","el","opts","InputMask","Masked","_value","_update","DEFAULTS","isInitialized","withValueRefresh","bind","reset","input","doCommit","fromPos","toPos","extractInput","appendTo","ch","flags","doPrepare","checkTail","consistentState","_appendCharRaw","consistentTail","appended","doValidate","beforeTailState","overwrite","shiftBefore","tailDetails","appendTail","_beforeTailState","ci","_appendChar","fn","_refreshing","rawInput","rawInputValue","ret","_isolated","prepare","validate","parent","commit","format","parse","deleteCount","removeDirection","tailPos","extractTail","nearestInputPos","changeDetails","remove","resolve","doParse","doFormat","raw","v","maskedClass","MaskedRegExp","MaskedPattern","MaskedDate","Number","MaskedNumber","MaskedDynamic","Function","MaskedFunction","console","warn","createMask","MaskedClass","DEFAULT_INPUT_DEFINITIONS","PatternInputDefinition","blockOpts","_isFilled","isOptional","lazy","placeholderChar","Boolean","_this$masked","apply","_this$masked2","_this$masked3","minPos","maxPos","boundPos","isComplete","_this$masked4","_this$parent","unmaskedValue","PatternFixedDefinition","_isRawInput","char","isResolved","isUnmasking","ChunksTailDetails","chunks","map","join","tailChunk","lastChunk","extendLast","extend","firstTailChunk","shift","blockIndex","chunk","lastBlockIter","_mapPosToBlock","chunkBlock","index","_stops","_blocks","remainChars","chunkShiftPos","splice","c","cstate","_Masked","definitions","_rebuildMask","_this","defs","_maskedBlocks","pattern","unmaskingBlock","optionalBlock","blocks","_ret","bNames","filter","bName","sort","maskedBlock","_isInput","STOP_CHAR","ESCAPE_CHAR","def","forEach","blockIter","bi","_block","blockDetails","_this2","chunkTail","_forEachBlocksInRange","bFromPos","bToPos","blockChunk","_findStopBefore","_blockStartPos","_","stopBefore","si","toBlockIndex","_this3","startBlockIter","startBlockIndex","endBlockIndex","args","bDetails","accVal","_block2","blockStartPos","offset","reduce","fromBlockIter","toBlockIter","isSameBlock","fromBlockStartPos","fromBlockEndPos","removeDetails","beginBlockData","beginBlockOffset","beginBlockIndex","beginBlock","beginBlockCursorPos","cursorAtRight","cursorAtLeft","searchBlockIndex","blockIndexAtLeft","blockAtLeft","blockInputPos","firstInputAtRight","blockAtRight","_blockInputPos","_bi","_block3","_blockInputPos2","firstFilledBlockIndexAtRight","_bi2","filledBlock","_blockInputPos3","firstEmptyInputBlockIndex","firstFilledInputBlockIndex","_bi3","_block4","_blockInputPos4","_bi4","_block5","_blockInputPos5","blockAlignedPos","isInput","_bi5","_block6","_blockInputPos6","firstInputBlockAlignedIndex","firstInputBlockAlignedPos","_bi6","_block7","_blockInputPos7","_bi7","_block8","_blockInputPos8","_bi8","_block9","_blockInputPos9","alignedPos","name","maskedBlocks","_this4","indices","gi","maskedState","every","block","InputDefinition","FixedDefinition","_MaskedPattern","MaskedRange","to","maxLength","fromStr","padStart","toStr","sameCharsCount","repeat","minstr","maxstr","_ref","match","_ref2","placeholder","num","padEnd","autofix","val","prepStr","nextVal","_this$boundaries","boundaries","_this$boundaries2","_get2","firstNonZero","search","_matchFrom","_this$boundaries3","_this$boundaries4","_len","_key","concat","GET_DEFAULT_BLOCKS","Y","getFullYear","m","getMonth","d","getDate","bk","date","isDateExist","typedValue","day","month","year","_str$split","split","_str$split2","MaskElement","selectionStart","selectionEnd","_unsafeSelect","e","handlers","_unsafeSelectionStart","_unsafeSelectionEnd","_MaskElement","HTMLMaskElement","_handlers","setSelectionRange","event","_toggleEventHandler","EVENTS_MAP","handler","removeEventListener","addEventListener","getRootNode","document","rootElement","activeElement","selectionChange","drop","click","focus","_HTMLMaskElement","HTMLContenteditableMaskElement","createRange","range","setStart","firstChild","setEnd","lastChild","root","selection","getSelection","removeAllRanges","addRange","anchorOffset","textContent","isContentEditable","tagName","_listeners","_unmaskedValue","_saveSelection","_onInput","_onChange","_onDrop","_onFocus","_onClick","alignCursor","alignCursorFriendly","_bindEvents","updateValue","bindEvents","unbindEvents","ev","listeners","l","_selection","newUnmaskedValue","newValue","isChanged","_fireChangeEvents","restOpts","updateMask","maskEquals","updateOpts","updateOptions","updateControl","_delayUpdateCursor","_abortUpdateCursor","_changingCursorPos","_cursorChanging","setTimeout","_fireEvent","clearTimeout","hIndex","oldRawValue","removed","updateCursor","stopPropagation","_unbindEvents","isActive","select","IMaskComponent","createElement","domProps","maskRef","$listeners","$props","$emit","mounted","_initMask","destroyed","_destroyMask","computed","maskOptions","_extractOptionsFromProps","watch","_maskValue","_updateValue","_onAccept","$el","deep","methods","prop","undefinedProp","unmask","_onComplete","destroy","validator","type","required","default","radix","thousandsSeparator","mapToRadix","scale","signed","normalizeZeros","padFractionalZeros","dispatch","MaskedEnum","enum","some","_updateRegExps","allowNegative","midInput","mid","_numberRegExpInput","_numberRegExp","_mapToRadixRegExp","_thousandsSeparatorRegExp","parts","_removeThousandsSeparators","extendOnSeparators","count","_separatorsCount","_this$_adjustRangeWit","_adjustRangeWithSeparators","_this$_adjustRangeWit2","prevBeforeTailValue","prevBeforeTailSeparatorsCount","_separatorsCountFromSlice","appendDetails","_insertThousandsSeparators","beforeTailValue","beforeTailSeparatorsCount","searchFrom","separatorPos","separatorAroundFromPos","_findSeparatorAround","separatorAroundToPos","_this$_adjustRangeWit3","_this$_adjustRangeWit4","valueBeforePos","valueAfterPos","separatorAtLeftPos","separatorAtLeftEndPos","separatorAtRightPos","regexp","valid","test","number","isNaN","validnum","formatted","_normalizeZeros","_padFractionalZeros","sign","zeros","n","currentMask","compiledMasks","_this$currentMask","_applyDispatch","prevValueBeforeTail","inputValue","insertValue","_rawInputValue","tailValue","prevMask","prevMaskState","doDispatch","_this$currentMask2","_this$currentMask3","_this$currentMask4","_this$currentMask5","_get3","_len2","_key2","_this$currentMask6","_get4","_len3","_key3","currentMaskRef","mi","inputs","weight","i1","i2","PIPE_TYPE","MASKED","UNMASKED","TYPED","createPipe","runIsolated","pipe","pipeArgs","globalThis","allCountries","iso2","dialCode","priority","areaCodes","$","isObject","toAbsoluteIndex","toLength","toIndexedObject","createProperty","wellKnownSymbol","arrayMethodHasSpeciesSupport","arrayMethodUsesToLength","HAS_SPECIES_SUPPORT","USES_TO_LENGTH","ACCESSORS","0","1","SPECIES","nativeSlice","proto","forced","result","O","k","fin"],"mappings":"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","file":"js/Login.cc228da4.js","sourcesContent":["module.exports = __webpack_public_path__ + \"img/crystal.799f2834.png\";","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&id=0bb4e1a5&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&id=0bb4e1a5&scoped=true&lang=scss&\"","module.exports = __webpack_public_path__ + \"img/logo.d0674c4f.svg\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.enableLoader)?_c('div',{staticClass:\"main-loader\"}):_c('div',{staticClass:\"auth\"},[_c('img',{staticClass:\"auth__img\",attrs:{\"src\":require(\"../assets/crystal.png\"),\"alt\":\"crystal\"}}),_c('img',{staticClass:\"auth__logo\",attrs:{\"src\":require(\"../assets/logo.svg\"),\"alt\":\"ARTDOCK\"}}),_c('LoginForm')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:[ 'login-form', {'has-error' : !!_vm.getErrorMessage } ]},[_c('form',{staticClass:\"login-form__form\",on:{\"submit\":function($event){$event.preventDefault();return _vm.login($event)}}},[_c('label',{staticClass:\"login-form__label\"},[(!_vm.isPhoneApproved)?_c('span',[_vm._v(\"  : \")]):_c('span',{staticClass:\"login-form__title\"},[_vm._v(\"    :\")]),(!_vm.isPhoneApproved)?_c('div',{staticClass:\"login-form__check\"},[_c('i',{class:['flag-icon','flag-icon-' + _vm.country, _vm.isPhoneApproved && 'flag-icon--reverse']}),_c('imask-input',{ref:\"phone\",staticClass:\"login-form__input phone-input\",attrs:{\"mask\":_vm.mask,\"unmask\":false,\"inputmode\":\"numeric\"},model:{value:(_vm.phone),callback:function ($$v) {_vm.phone=$$v},expression:\"phone\"}})],1):_c('div',{staticClass:\"login-form__check\"},[_c('imask-input',{ref:\"password\",staticClass:\"login-form__input login-form__input--password\",attrs:{\"inputmode\":\"numeric\",\"type\":\"password\"},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}})],1)]),_c('button',{staticClass:\"login-form__btn\",attrs:{\"type\":\"submit\",\"disabled\":_vm.loading}},[_vm._v(\" \"+_vm._s(_vm.loading ? \"\" : _vm.isPhoneApproved ? '': '')+\" \")])]),_c('div',{staticClass:\"login-form__notif\"},[_vm._v(_vm._s(_vm.getErrorMessage))])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = _getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}\n\nfunction _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get;\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = _superPropBase(target, property);\n\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}\n\nfunction set(target, property, value, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.set) {\n    set = Reflect.set;\n  } else {\n    set = function set(target, property, value, receiver) {\n      var base = _superPropBase(target, property);\n\n      var desc;\n\n      if (base) {\n        desc = Object.getOwnPropertyDescriptor(base, property);\n\n        if (desc.set) {\n          desc.set.call(receiver, value);\n          return true;\n        } else if (!desc.writable) {\n          return false;\n        }\n      }\n\n      desc = Object.getOwnPropertyDescriptor(receiver, property);\n\n      if (desc) {\n        if (!desc.writable) {\n          return false;\n        }\n\n        desc.value = value;\n        Object.defineProperty(receiver, property, desc);\n      } else {\n        _defineProperty(receiver, property, value);\n      }\n\n      return true;\n    };\n  }\n\n  return set(target, property, value, receiver);\n}\n\nfunction _set(target, property, value, receiver, isStrict) {\n  var s = set(target, property, value, receiver || target);\n\n  if (!s && isStrict) {\n    throw new Error('failed to set property');\n  }\n\n  return value;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nexport { _typeof as _, _createClass as a, _classCallCheck as b, _objectWithoutProperties as c, _inherits as d, _possibleConstructorReturn as e, _getPrototypeOf as f, _get as g, _set as h, _slicedToArray as i };\n","import { _ as _typeof } from '../_rollupPluginBabelHelpers-3c58f0e3.js';\n\n/** Checks if value is string */\nfunction isString(str) {\n  return typeof str === 'string' || str instanceof String;\n}\n/**\r\n  Direction\r\n  @prop {string} NONE\r\n  @prop {string} LEFT\r\n  @prop {string} FORCE_LEFT\r\n  @prop {string} RIGHT\r\n  @prop {string} FORCE_RIGHT\r\n*/\n\nvar DIRECTION = {\n  NONE: 'NONE',\n  LEFT: 'LEFT',\n  FORCE_LEFT: 'FORCE_LEFT',\n  RIGHT: 'RIGHT',\n  FORCE_RIGHT: 'FORCE_RIGHT'\n};\n/**\r\n  Direction\r\n  @enum {string}\r\n*/\n\n/** Returns next char index in direction */\nfunction indexInDirection(pos, direction) {\n  if (direction === DIRECTION.LEFT) --pos;\n  return pos;\n}\n/** Returns next char position in direction */\n\nfunction posInDirection(pos, direction) {\n  switch (direction) {\n    case DIRECTION.LEFT:\n    case DIRECTION.FORCE_LEFT:\n      return --pos;\n\n    case DIRECTION.RIGHT:\n    case DIRECTION.FORCE_RIGHT:\n      return ++pos;\n\n    default:\n      return pos;\n  }\n}\n/** */\n\nfunction forceDirection(direction) {\n  switch (direction) {\n    case DIRECTION.LEFT:\n      return DIRECTION.FORCE_LEFT;\n\n    case DIRECTION.RIGHT:\n      return DIRECTION.FORCE_RIGHT;\n\n    default:\n      return direction;\n  }\n}\n/** Escapes regular expression control chars */\n\nfunction escapeRegExp(str) {\n  return str.replace(/([.*+?^=!:${}()|[\\]/\\\\])/g, '\\\\$1');\n} // cloned from https://github.com/epoberezkin/fast-deep-equal with small changes\n\nfunction objectIncludes(b, a) {\n  if (a === b) return true;\n  var arrA = Array.isArray(a),\n      arrB = Array.isArray(b),\n      i;\n\n  if (arrA && arrB) {\n    if (a.length != b.length) return false;\n\n    for (i = 0; i < a.length; i++) {\n      if (!objectIncludes(a[i], b[i])) return false;\n    }\n\n    return true;\n  }\n\n  if (arrA != arrB) return false;\n\n  if (a && b && _typeof(a) === 'object' && _typeof(b) === 'object') {\n    var dateA = a instanceof Date,\n        dateB = b instanceof Date;\n    if (dateA && dateB) return a.getTime() == b.getTime();\n    if (dateA != dateB) return false;\n    var regexpA = a instanceof RegExp,\n        regexpB = b instanceof RegExp;\n    if (regexpA && regexpB) return a.toString() == b.toString();\n    if (regexpA != regexpB) return false;\n    var keys = Object.keys(a); // if (keys.length !== Object.keys(b).length) return false;\n\n    for (i = 0; i < keys.length; i++) {\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n    }\n\n    for (i = 0; i < keys.length; i++) {\n      if (!objectIncludes(b[keys[i]], a[keys[i]])) return false;\n    }\n\n    return true;\n  } else if (a && b && typeof a === 'function' && typeof b === 'function') {\n    return a.toString() === b.toString();\n  }\n\n  return false;\n}\n/** Selection range */\n\nexport { DIRECTION, escapeRegExp, forceDirection, indexInDirection, isString, objectIncludes, posInDirection };\n","import { a as _createClass, b as _classCallCheck } from '../_rollupPluginBabelHelpers-3c58f0e3.js';\nimport { DIRECTION } from './utils.js';\n\n/** Provides details of changing input */\n\nvar ActionDetails =\n/*#__PURE__*/\nfunction () {\n  /** Current input value */\n\n  /** Current cursor position */\n\n  /** Old input value */\n\n  /** Old selection */\n  function ActionDetails(value, cursorPos, oldValue, oldSelection) {\n    _classCallCheck(this, ActionDetails);\n\n    this.value = value;\n    this.cursorPos = cursorPos;\n    this.oldValue = oldValue;\n    this.oldSelection = oldSelection; // double check if left part was changed (autofilling, other non-standard input triggers)\n\n    while (this.value.slice(0, this.startChangePos) !== this.oldValue.slice(0, this.startChangePos)) {\n      --this.oldSelection.start;\n    }\n  }\n  /**\r\n    Start changing position\r\n    @readonly\r\n  */\n\n\n  _createClass(ActionDetails, [{\n    key: \"startChangePos\",\n    get: function get() {\n      return Math.min(this.cursorPos, this.oldSelection.start);\n    }\n    /**\r\n      Inserted symbols count\r\n      @readonly\r\n    */\n\n  }, {\n    key: \"insertedCount\",\n    get: function get() {\n      return this.cursorPos - this.startChangePos;\n    }\n    /**\r\n      Inserted symbols\r\n      @readonly\r\n    */\n\n  }, {\n    key: \"inserted\",\n    get: function get() {\n      return this.value.substr(this.startChangePos, this.insertedCount);\n    }\n    /**\r\n      Removed symbols count\r\n      @readonly\r\n    */\n\n  }, {\n    key: \"removedCount\",\n    get: function get() {\n      // Math.max for opposite operation\n      return Math.max(this.oldSelection.end - this.startChangePos || // for Delete\n      this.oldValue.length - this.value.length, 0);\n    }\n    /**\r\n      Removed symbols\r\n      @readonly\r\n    */\n\n  }, {\n    key: \"removed\",\n    get: function get() {\n      return this.oldValue.substr(this.startChangePos, this.removedCount);\n    }\n    /**\r\n      Unchanged head symbols\r\n      @readonly\r\n    */\n\n  }, {\n    key: \"head\",\n    get: function get() {\n      return this.value.substring(0, this.startChangePos);\n    }\n    /**\r\n      Unchanged tail symbols\r\n      @readonly\r\n    */\n\n  }, {\n    key: \"tail\",\n    get: function get() {\n      return this.value.substring(this.startChangePos + this.insertedCount);\n    }\n    /**\r\n      Remove direction\r\n      @readonly\r\n    */\n\n  }, {\n    key: \"removeDirection\",\n    get: function get() {\n      if (!this.removedCount || this.insertedCount) return DIRECTION.NONE; // align right if delete at right or if range removed (event with backspace)\n\n      return this.oldSelection.end === this.cursorPos || this.oldSelection.start === this.cursorPos ? DIRECTION.RIGHT : DIRECTION.LEFT;\n    }\n  }]);\n\n  return ActionDetails;\n}();\n\nexport default ActionDetails;\n","import { a as _createClass, b as _classCallCheck } from '../_rollupPluginBabelHelpers-3c58f0e3.js';\n\n/**\r\n  Provides details of changing model value\r\n  @param {Object} [details]\r\n  @param {string} [details.inserted] - Inserted symbols\r\n  @param {boolean} [details.skip] - Can skip chars\r\n  @param {number} [details.removeCount] - Removed symbols count\r\n  @param {number} [details.tailShift] - Additional offset if any changes occurred before tail\r\n*/\nvar ChangeDetails =\n/*#__PURE__*/\nfunction () {\n  /** Inserted symbols */\n\n  /** Can skip chars */\n\n  /** Additional offset if any changes occurred before tail */\n\n  /** Raw inserted is used by dynamic mask */\n  function ChangeDetails(details) {\n    _classCallCheck(this, ChangeDetails);\n\n    Object.assign(this, {\n      inserted: '',\n      rawInserted: '',\n      skip: false,\n      tailShift: 0\n    }, details);\n  }\n  /**\r\n    Aggregate changes\r\n    @returns {ChangeDetails} `this`\r\n  */\n\n\n  _createClass(ChangeDetails, [{\n    key: \"aggregate\",\n    value: function aggregate(details) {\n      this.rawInserted += details.rawInserted;\n      this.skip = this.skip || details.skip;\n      this.inserted += details.inserted;\n      this.tailShift += details.tailShift;\n      return this;\n    }\n    /** Total offset considering all changes */\n\n  }, {\n    key: \"offset\",\n    get: function get() {\n      return this.tailShift + this.inserted.length;\n    }\n  }]);\n\n  return ChangeDetails;\n}();\n\nexport default ChangeDetails;\n","import { a as _createClass, b as _classCallCheck } from '../_rollupPluginBabelHelpers-3c58f0e3.js';\n\n/** Provides details of continuous extracted tail */\nvar ContinuousTailDetails =\n/*#__PURE__*/\nfunction () {\n  /** Tail value as string */\n\n  /** Tail start position */\n\n  /** Start position */\n  function ContinuousTailDetails() {\n    var value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    var from = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    var stop = arguments.length > 2 ? arguments[2] : undefined;\n\n    _classCallCheck(this, ContinuousTailDetails);\n\n    this.value = value;\n    this.from = from;\n    this.stop = stop;\n  }\n\n  _createClass(ContinuousTailDetails, [{\n    key: \"toString\",\n    value: function toString() {\n      return this.value;\n    }\n  }, {\n    key: \"extend\",\n    value: function extend(tail) {\n      this.value += String(tail);\n    }\n  }, {\n    key: \"appendTo\",\n    value: function appendTo(masked) {\n      return masked.append(this.toString(), {\n        tail: true\n      }).aggregate(masked._appendPlaceholder());\n    }\n  }, {\n    key: \"shiftBefore\",\n    value: function shiftBefore(pos) {\n      if (this.from >= pos || !this.value.length) return '';\n      var shiftChar = this.value[0];\n      this.value = this.value.slice(1);\n      return shiftChar;\n    }\n  }, {\n    key: \"state\",\n    get: function get() {\n      return {\n        value: this.value,\n        from: this.from,\n        stop: this.stop\n      };\n    },\n    set: function set(state) {\n      Object.assign(this, state);\n    }\n  }]);\n\n  return ContinuousTailDetails;\n}();\n\nexport default ContinuousTailDetails;\n","/**\r\n * Applies mask on element.\r\n * @constructor\r\n * @param {HTMLInputElement|HTMLTextAreaElement|MaskElement} el - Element to apply mask\r\n * @param {Object} opts - Custom mask options\r\n * @return {InputMask}\r\n */\nfunction IMask(el) {\n  var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  // currently available only for input-like elements\n  return new IMask.InputMask(el, opts);\n}\n\nexport default IMask;\n","import { a as _createClass, b as _classCallCheck } from '../_rollupPluginBabelHelpers-3c58f0e3.js';\nimport { isString } from '../core/utils.js';\nimport ChangeDetails from '../core/change-details.js';\nimport ContinuousTailDetails from '../core/continuous-tail-details.js';\nimport IMask from '../core/holder.js';\n\n/** Supported mask type */\n\n/** Provides common masking stuff */\nvar Masked =\n/*#__PURE__*/\nfunction () {\n  // $Shape<MaskedOptions>; TODO after fix https://github.com/facebook/flow/issues/4773\n\n  /** @type {Mask} */\n\n  /** */\n  // $FlowFixMe no ideas\n\n  /** Transforms value before mask processing */\n\n  /** Validates if value is acceptable */\n\n  /** Does additional processing in the end of editing */\n\n  /** Format typed value to string */\n\n  /** Parse strgin to get typed value */\n\n  /** Enable characters overwriting */\n\n  /** */\n  function Masked(opts) {\n    _classCallCheck(this, Masked);\n\n    this._value = '';\n\n    this._update(Object.assign({}, Masked.DEFAULTS, {}, opts));\n\n    this.isInitialized = true;\n  }\n  /** Sets and applies new options */\n\n\n  _createClass(Masked, [{\n    key: \"updateOptions\",\n    value: function updateOptions(opts) {\n      if (!Object.keys(opts).length) return;\n      this.withValueRefresh(this._update.bind(this, opts));\n    }\n    /**\r\n      Sets new options\r\n      @protected\r\n    */\n\n  }, {\n    key: \"_update\",\n    value: function _update(opts) {\n      Object.assign(this, opts);\n    }\n    /** Mask state */\n\n  }, {\n    key: \"reset\",\n\n    /** Resets value */\n    value: function reset() {\n      this._value = '';\n    }\n    /** */\n\n  }, {\n    key: \"resolve\",\n\n    /** Resolve new value */\n    value: function resolve(value) {\n      this.reset();\n      this.append(value, {\n        input: true\n      }, '');\n      this.doCommit();\n      return this.value;\n    }\n    /** */\n\n  }, {\n    key: \"nearestInputPos\",\n\n    /** Finds nearest input position in direction */\n    value: function nearestInputPos(cursorPos, direction) {\n      return cursorPos;\n    }\n    /** Extracts value in range considering flags */\n\n  }, {\n    key: \"extractInput\",\n    value: function extractInput() {\n      var fromPos = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.value.length;\n      return this.value.slice(fromPos, toPos);\n    }\n    /** Extracts tail in range */\n\n  }, {\n    key: \"extractTail\",\n    value: function extractTail() {\n      var fromPos = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.value.length;\n      return new ContinuousTailDetails(this.extractInput(fromPos, toPos), fromPos);\n    }\n    /** Appends tail */\n    // $FlowFixMe no ideas\n\n  }, {\n    key: \"appendTail\",\n    value: function appendTail(tail) {\n      if (isString(tail)) tail = new ContinuousTailDetails(String(tail));\n      return tail.appendTo(this);\n    }\n    /** Appends char */\n\n  }, {\n    key: \"_appendCharRaw\",\n    value: function _appendCharRaw(ch) {\n      var flags = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      ch = this.doPrepare(ch, flags);\n      if (!ch) return new ChangeDetails();\n      this._value += ch;\n      return new ChangeDetails({\n        inserted: ch,\n        rawInserted: ch\n      });\n    }\n    /** Appends char */\n\n  }, {\n    key: \"_appendChar\",\n    value: function _appendChar(ch) {\n      var flags = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var checkTail = arguments.length > 2 ? arguments[2] : undefined;\n      var consistentState = this.state;\n\n      var details = this._appendCharRaw(ch, flags);\n\n      if (details.inserted) {\n        var consistentTail;\n        var appended = this.doValidate(flags) !== false;\n\n        if (appended && checkTail != null) {\n          // validation ok, check tail\n          var beforeTailState = this.state;\n\n          if (this.overwrite) {\n            consistentTail = checkTail.state;\n            checkTail.shiftBefore(this.value.length);\n          }\n\n          var tailDetails = this.appendTail(checkTail);\n          appended = tailDetails.rawInserted === checkTail.toString(); // if ok, rollback state after tail\n\n          if (appended && tailDetails.inserted) this.state = beforeTailState;\n        } // revert all if something went wrong\n\n\n        if (!appended) {\n          details = new ChangeDetails();\n          this.state = consistentState;\n          if (checkTail && consistentTail) checkTail.state = consistentTail;\n        }\n      }\n\n      return details;\n    }\n    /** Appends optional placeholder at end */\n\n  }, {\n    key: \"_appendPlaceholder\",\n    value: function _appendPlaceholder() {\n      return new ChangeDetails();\n    }\n    /** Appends symbols considering flags */\n    // $FlowFixMe no ideas\n\n  }, {\n    key: \"append\",\n    value: function append(str, flags, tail) {\n      if (!isString(str)) throw new Error('value should be string');\n      var details = new ChangeDetails();\n      var checkTail = isString(tail) ? new ContinuousTailDetails(String(tail)) : tail;\n      if (flags.tail) flags._beforeTailState = this.state;\n\n      for (var ci = 0; ci < str.length; ++ci) {\n        details.aggregate(this._appendChar(str[ci], flags, checkTail));\n      } // append tail but aggregate only tailShift\n\n\n      if (checkTail != null) {\n        details.tailShift += this.appendTail(checkTail).tailShift; // TODO it's a good idea to clear state after appending ends\n        // but it causes bugs when one append calls another (when dynamic dispatch set rawInputValue)\n        // this._resetBeforeTailState();\n      }\n\n      return details;\n    }\n    /** */\n\n  }, {\n    key: \"remove\",\n    value: function remove() {\n      var fromPos = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.value.length;\n      this._value = this.value.slice(0, fromPos) + this.value.slice(toPos);\n      return new ChangeDetails();\n    }\n    /** Calls function and reapplies current value */\n\n  }, {\n    key: \"withValueRefresh\",\n    value: function withValueRefresh(fn) {\n      if (this._refreshing || !this.isInitialized) return fn();\n      this._refreshing = true;\n      var rawInput = this.rawInputValue;\n      var value = this.value;\n      var ret = fn();\n      this.rawInputValue = rawInput; // append lost trailing chars at end\n\n      if (this.value !== value && value.indexOf(this._value) === 0) {\n        this.append(value.slice(this._value.length), {}, '');\n      }\n\n      delete this._refreshing;\n      return ret;\n    }\n    /** */\n\n  }, {\n    key: \"runIsolated\",\n    value: function runIsolated(fn) {\n      if (this._isolated || !this.isInitialized) return fn(this);\n      this._isolated = true;\n      var state = this.state;\n      var ret = fn(this);\n      this.state = state;\n      delete this._isolated;\n      return ret;\n    }\n    /**\r\n      Prepares string before mask processing\r\n      @protected\r\n    */\n\n  }, {\n    key: \"doPrepare\",\n    value: function doPrepare(str) {\n      var flags = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      return this.prepare ? this.prepare(str, this, flags) : str;\n    }\n    /**\r\n      Validates if value is acceptable\r\n      @protected\r\n    */\n\n  }, {\n    key: \"doValidate\",\n    value: function doValidate(flags) {\n      return (!this.validate || this.validate(this.value, this, flags)) && (!this.parent || this.parent.doValidate(flags));\n    }\n    /**\r\n      Does additional processing in the end of editing\r\n      @protected\r\n    */\n\n  }, {\n    key: \"doCommit\",\n    value: function doCommit() {\n      if (this.commit) this.commit(this.value, this);\n    }\n    /** */\n\n  }, {\n    key: \"doFormat\",\n    value: function doFormat(value) {\n      return this.format ? this.format(value, this) : value;\n    }\n    /** */\n\n  }, {\n    key: \"doParse\",\n    value: function doParse(str) {\n      return this.parse ? this.parse(str, this) : str;\n    }\n    /** */\n\n  }, {\n    key: \"splice\",\n    value: function splice(start, deleteCount, inserted, removeDirection) {\n      var tailPos = start + deleteCount;\n      var tail = this.extractTail(tailPos);\n      var startChangePos = this.nearestInputPos(start, removeDirection);\n      var changeDetails = new ChangeDetails({\n        tailShift: startChangePos - start // adjust tailShift if start was aligned\n\n      }).aggregate(this.remove(startChangePos)).aggregate(this.append(inserted, {\n        input: true\n      }, tail));\n      return changeDetails;\n    }\n  }, {\n    key: \"state\",\n    get: function get() {\n      return {\n        _value: this.value\n      };\n    },\n    set: function set(state) {\n      this._value = state._value;\n    }\n  }, {\n    key: \"value\",\n    get: function get() {\n      return this._value;\n    },\n    set: function set(value) {\n      this.resolve(value);\n    }\n  }, {\n    key: \"unmaskedValue\",\n    get: function get() {\n      return this.value;\n    },\n    set: function set(value) {\n      this.reset();\n      this.append(value, {}, '');\n      this.doCommit();\n    }\n    /** */\n\n  }, {\n    key: \"typedValue\",\n    get: function get() {\n      return this.doParse(this.value);\n    },\n    set: function set(value) {\n      this.value = this.doFormat(value);\n    }\n    /** Value that includes raw user input */\n\n  }, {\n    key: \"rawInputValue\",\n    get: function get() {\n      return this.extractInput(0, this.value.length, {\n        raw: true\n      });\n    },\n    set: function set(value) {\n      this.reset();\n      this.append(value, {\n        raw: true\n      }, '');\n      this.doCommit();\n    }\n    /** */\n\n  }, {\n    key: \"isComplete\",\n    get: function get() {\n      return true;\n    }\n  }]);\n\n  return Masked;\n}();\nMasked.DEFAULTS = {\n  format: function format(v) {\n    return v;\n  },\n  parse: function parse(v) {\n    return v;\n  }\n};\nIMask.Masked = Masked;\n\nexport default Masked;\n","import '../_rollupPluginBabelHelpers-3c58f0e3.js';\nimport { isString } from '../core/utils.js';\nimport IMask from '../core/holder.js';\n\n/** Get Masked class by mask type */\n\nfunction maskedClass(mask) {\n  if (mask == null) {\n    throw new Error('mask property should be defined');\n  } // $FlowFixMe\n\n\n  if (mask instanceof RegExp) return IMask.MaskedRegExp; // $FlowFixMe\n\n  if (isString(mask)) return IMask.MaskedPattern; // $FlowFixMe\n\n  if (mask instanceof Date || mask === Date) return IMask.MaskedDate; // $FlowFixMe\n\n  if (mask instanceof Number || typeof mask === 'number' || mask === Number) return IMask.MaskedNumber; // $FlowFixMe\n\n  if (Array.isArray(mask) || mask === Array) return IMask.MaskedDynamic; // $FlowFixMe\n\n  if (IMask.Masked && mask.prototype instanceof IMask.Masked) return mask; // $FlowFixMe\n\n  if (mask instanceof Function) return IMask.MaskedFunction;\n  console.warn('Mask not found for mask', mask); // eslint-disable-line no-console\n  // $FlowFixMe\n\n  return IMask.Masked;\n}\n/** Creates new {@link Masked} depending on mask type */\n\nfunction createMask(opts) {\n  // $FlowFixMe\n  if (IMask.Masked && opts instanceof IMask.Masked) return opts;\n  opts = Object.assign({}, opts);\n  var mask = opts.mask; // $FlowFixMe\n\n  if (IMask.Masked && mask instanceof IMask.Masked) return mask;\n  var MaskedClass = maskedClass(mask);\n  if (!MaskedClass) throw new Error('Masked class is not found for provided mask, appropriate module needs to be import manually before creating mask.');\n  return new MaskedClass(opts);\n}\nIMask.createMask = createMask;\n\nexport default createMask;\nexport { maskedClass };\n","import { a as _createClass, b as _classCallCheck, c as _objectWithoutProperties } from '../../_rollupPluginBabelHelpers-3c58f0e3.js';\nimport { DIRECTION } from '../../core/utils.js';\nimport ChangeDetails from '../../core/change-details.js';\nimport '../../core/holder.js';\nimport createMask from '../factory.js';\n\nvar DEFAULT_INPUT_DEFINITIONS = {\n  '0': /\\d/,\n  'a': /[\\u0041-\\u005A\\u0061-\\u007A\\u00AA\\u00B5\\u00BA\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0\\u08A2-\\u08AC\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097F\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C33\\u0C35-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191C\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2183\\u2184\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005\\u3006\\u3031-\\u3035\\u303B\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA697\\uA6A0-\\uA6E5\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA793\\uA7A0-\\uA7AA\\uA7F8-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA80-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]/,\n  // http://stackoverflow.com/a/22075070\n  '*': /./\n};\n/** */\n\nvar PatternInputDefinition =\n/*#__PURE__*/\nfunction () {\n  /** */\n\n  /** */\n\n  /** */\n\n  /** */\n\n  /** */\n\n  /** */\n  function PatternInputDefinition(opts) {\n    _classCallCheck(this, PatternInputDefinition);\n\n    var mask = opts.mask,\n        blockOpts = _objectWithoutProperties(opts, [\"mask\"]);\n\n    this.masked = createMask({\n      mask: mask\n    });\n    Object.assign(this, blockOpts);\n  }\n\n  _createClass(PatternInputDefinition, [{\n    key: \"reset\",\n    value: function reset() {\n      this._isFilled = false;\n      this.masked.reset();\n    }\n  }, {\n    key: \"remove\",\n    value: function remove() {\n      var fromPos = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.value.length;\n\n      if (fromPos === 0 && toPos >= 1) {\n        this._isFilled = false;\n        return this.masked.remove(fromPos, toPos);\n      }\n\n      return new ChangeDetails();\n    }\n  }, {\n    key: \"_appendChar\",\n    value: function _appendChar(str) {\n      var flags = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      if (this._isFilled) return new ChangeDetails();\n      var state = this.masked.state; // simulate input\n\n      var details = this.masked._appendChar(str, flags);\n\n      if (details.inserted && this.doValidate(flags) === false) {\n        details.inserted = details.rawInserted = '';\n        this.masked.state = state;\n      }\n\n      if (!details.inserted && !this.isOptional && !this.lazy && !flags.input) {\n        details.inserted = this.placeholderChar;\n      }\n\n      details.skip = !details.inserted && !this.isOptional;\n      this._isFilled = Boolean(details.inserted);\n      return details;\n    }\n  }, {\n    key: \"append\",\n    value: function append() {\n      var _this$masked;\n\n      return (_this$masked = this.masked).append.apply(_this$masked, arguments);\n    }\n  }, {\n    key: \"_appendPlaceholder\",\n    value: function _appendPlaceholder() {\n      var details = new ChangeDetails();\n      if (this._isFilled || this.isOptional) return details;\n      this._isFilled = true;\n      details.inserted = this.placeholderChar;\n      return details;\n    }\n  }, {\n    key: \"extractTail\",\n    value: function extractTail() {\n      var _this$masked2;\n\n      return (_this$masked2 = this.masked).extractTail.apply(_this$masked2, arguments);\n    }\n  }, {\n    key: \"appendTail\",\n    value: function appendTail() {\n      var _this$masked3;\n\n      return (_this$masked3 = this.masked).appendTail.apply(_this$masked3, arguments);\n    }\n  }, {\n    key: \"extractInput\",\n    value: function extractInput() {\n      var fromPos = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.value.length;\n      var flags = arguments.length > 2 ? arguments[2] : undefined;\n      return this.masked.extractInput(fromPos, toPos, flags);\n    }\n  }, {\n    key: \"nearestInputPos\",\n    value: function nearestInputPos(cursorPos) {\n      var direction = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : DIRECTION.NONE;\n      var minPos = 0;\n      var maxPos = this.value.length;\n      var boundPos = Math.min(Math.max(cursorPos, minPos), maxPos);\n\n      switch (direction) {\n        case DIRECTION.LEFT:\n        case DIRECTION.FORCE_LEFT:\n          return this.isComplete ? boundPos : minPos;\n\n        case DIRECTION.RIGHT:\n        case DIRECTION.FORCE_RIGHT:\n          return this.isComplete ? boundPos : maxPos;\n\n        case DIRECTION.NONE:\n        default:\n          return boundPos;\n      }\n    }\n  }, {\n    key: \"doValidate\",\n    value: function doValidate() {\n      var _this$masked4, _this$parent;\n\n      return (_this$masked4 = this.masked).doValidate.apply(_this$masked4, arguments) && (!this.parent || (_this$parent = this.parent).doValidate.apply(_this$parent, arguments));\n    }\n  }, {\n    key: \"doCommit\",\n    value: function doCommit() {\n      this.masked.doCommit();\n    }\n  }, {\n    key: \"value\",\n    get: function get() {\n      return this.masked.value || (this._isFilled && !this.isOptional ? this.placeholderChar : '');\n    }\n  }, {\n    key: \"unmaskedValue\",\n    get: function get() {\n      return this.masked.unmaskedValue;\n    }\n  }, {\n    key: \"isComplete\",\n    get: function get() {\n      return Boolean(this.masked.value) || this.isOptional;\n    }\n  }, {\n    key: \"state\",\n    get: function get() {\n      return {\n        masked: this.masked.state,\n        _isFilled: this._isFilled\n      };\n    },\n    set: function set(state) {\n      this.masked.state = state.masked;\n      this._isFilled = state._isFilled;\n    }\n  }]);\n\n  return PatternInputDefinition;\n}();\n\nexport default PatternInputDefinition;\nexport { DEFAULT_INPUT_DEFINITIONS };\n","import { a as _createClass, b as _classCallCheck } from '../../_rollupPluginBabelHelpers-3c58f0e3.js';\nimport { DIRECTION, isString } from '../../core/utils.js';\nimport ChangeDetails from '../../core/change-details.js';\nimport ContinuousTailDetails from '../../core/continuous-tail-details.js';\n\nvar PatternFixedDefinition =\n/*#__PURE__*/\nfunction () {\n  /** */\n\n  /** */\n\n  /** */\n\n  /** */\n  function PatternFixedDefinition(opts) {\n    _classCallCheck(this, PatternFixedDefinition);\n\n    Object.assign(this, opts);\n    this._value = '';\n  }\n\n  _createClass(PatternFixedDefinition, [{\n    key: \"reset\",\n    value: function reset() {\n      this._isRawInput = false;\n      this._value = '';\n    }\n  }, {\n    key: \"remove\",\n    value: function remove() {\n      var fromPos = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this._value.length;\n      this._value = this._value.slice(0, fromPos) + this._value.slice(toPos);\n      if (!this._value) this._isRawInput = false;\n      return new ChangeDetails();\n    }\n  }, {\n    key: \"nearestInputPos\",\n    value: function nearestInputPos(cursorPos) {\n      var direction = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : DIRECTION.NONE;\n      var minPos = 0;\n      var maxPos = this._value.length;\n\n      switch (direction) {\n        case DIRECTION.LEFT:\n        case DIRECTION.FORCE_LEFT:\n          return minPos;\n\n        case DIRECTION.NONE:\n        case DIRECTION.RIGHT:\n        case DIRECTION.FORCE_RIGHT:\n        default:\n          return maxPos;\n      }\n    }\n  }, {\n    key: \"extractInput\",\n    value: function extractInput() {\n      var fromPos = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this._value.length;\n      var flags = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      return flags.raw && this._isRawInput && this._value.slice(fromPos, toPos) || '';\n    }\n  }, {\n    key: \"_appendChar\",\n    value: function _appendChar(str) {\n      var flags = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var details = new ChangeDetails();\n      if (this._value) return details;\n      var appended = this.char === str[0];\n      var isResolved = appended && (this.isUnmasking || flags.input || flags.raw) && !flags.tail;\n      if (isResolved) details.rawInserted = this.char;\n      this._value = details.inserted = this.char;\n      this._isRawInput = isResolved && (flags.raw || flags.input);\n      return details;\n    }\n  }, {\n    key: \"_appendPlaceholder\",\n    value: function _appendPlaceholder() {\n      var details = new ChangeDetails();\n      if (this._value) return details;\n      this._value = details.inserted = this.char;\n      return details;\n    }\n  }, {\n    key: \"extractTail\",\n    value: function extractTail() {\n      var toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.value.length;\n      return new ContinuousTailDetails('');\n    } // $FlowFixMe no ideas\n\n  }, {\n    key: \"appendTail\",\n    value: function appendTail(tail) {\n      if (isString(tail)) tail = new ContinuousTailDetails(String(tail));\n      return tail.appendTo(this);\n    }\n  }, {\n    key: \"append\",\n    value: function append(str, flags, tail) {\n      var details = this._appendChar(str, flags);\n\n      if (tail != null) {\n        details.tailShift += this.appendTail(tail).tailShift;\n      }\n\n      return details;\n    }\n  }, {\n    key: \"doCommit\",\n    value: function doCommit() {}\n  }, {\n    key: \"value\",\n    get: function get() {\n      return this._value;\n    }\n  }, {\n    key: \"unmaskedValue\",\n    get: function get() {\n      return this.isUnmasking ? this.value : '';\n    }\n  }, {\n    key: \"isComplete\",\n    get: function get() {\n      return true;\n    }\n  }, {\n    key: \"state\",\n    get: function get() {\n      return {\n        _value: this._value,\n        _isRawInput: this._isRawInput\n      };\n    },\n    set: function set(state) {\n      Object.assign(this, state);\n    }\n  }]);\n\n  return PatternFixedDefinition;\n}();\n\nexport default PatternFixedDefinition;\n","import { a as _createClass, b as _classCallCheck, c as _objectWithoutProperties } from '../../_rollupPluginBabelHelpers-3c58f0e3.js';\nimport { isString } from '../../core/utils.js';\nimport ChangeDetails from '../../core/change-details.js';\nimport ContinuousTailDetails from '../../core/continuous-tail-details.js';\nimport IMask from '../../core/holder.js';\n\nvar ChunksTailDetails =\n/*#__PURE__*/\nfunction () {\n  /** */\n  function ChunksTailDetails() {\n    var chunks = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    var from = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n    _classCallCheck(this, ChunksTailDetails);\n\n    this.chunks = chunks;\n    this.from = from;\n  }\n\n  _createClass(ChunksTailDetails, [{\n    key: \"toString\",\n    value: function toString() {\n      return this.chunks.map(String).join('');\n    } // $FlowFixMe no ideas\n\n  }, {\n    key: \"extend\",\n    value: function extend(tailChunk) {\n      if (!String(tailChunk)) return;\n      if (isString(tailChunk)) tailChunk = new ContinuousTailDetails(String(tailChunk));\n      var lastChunk = this.chunks[this.chunks.length - 1];\n      var extendLast = lastChunk && ( // if stops are same or tail has no stop\n      lastChunk.stop === tailChunk.stop || tailChunk.stop == null) && // if tail chunk goes just after last chunk\n      tailChunk.from === lastChunk.from + lastChunk.toString().length;\n\n      if (tailChunk instanceof ContinuousTailDetails) {\n        // check the ability to extend previous chunk\n        if (extendLast) {\n          // extend previous chunk\n          lastChunk.extend(tailChunk.toString());\n        } else {\n          // append new chunk\n          this.chunks.push(tailChunk);\n        }\n      } else if (tailChunk instanceof ChunksTailDetails) {\n        if (tailChunk.stop == null) {\n          // unwrap floating chunks to parent, keeping `from` pos\n          var firstTailChunk;\n\n          while (tailChunk.chunks.length && tailChunk.chunks[0].stop == null) {\n            firstTailChunk = tailChunk.chunks.shift();\n            firstTailChunk.from += tailChunk.from;\n            this.extend(firstTailChunk);\n          }\n        } // if tail chunk still has value\n\n\n        if (tailChunk.toString()) {\n          // if chunks contains stops, then popup stop to container\n          tailChunk.stop = tailChunk.blockIndex;\n          this.chunks.push(tailChunk);\n        }\n      }\n    }\n  }, {\n    key: \"appendTo\",\n    value: function appendTo(masked) {\n      // $FlowFixMe\n      if (!(masked instanceof IMask.MaskedPattern)) {\n        var tail = new ContinuousTailDetails(this.toString());\n        return tail.appendTo(masked);\n      }\n\n      var details = new ChangeDetails();\n\n      for (var ci = 0; ci < this.chunks.length && !details.skip; ++ci) {\n        var chunk = this.chunks[ci];\n\n        var lastBlockIter = masked._mapPosToBlock(masked.value.length);\n\n        var stop = chunk.stop;\n        var chunkBlock = void 0;\n\n        if (stop && ( // if block not found or stop is behind lastBlock\n        !lastBlockIter || lastBlockIter.index <= stop)) {\n          if (chunk instanceof ChunksTailDetails || // for continuous block also check if stop is exist\n          masked._stops.indexOf(stop) >= 0) {\n            details.aggregate(masked._appendPlaceholder(stop));\n          }\n\n          chunkBlock = chunk instanceof ChunksTailDetails && masked._blocks[stop];\n        }\n\n        if (chunkBlock) {\n          var tailDetails = chunkBlock.appendTail(chunk);\n          tailDetails.skip = false; // always ignore skip, it will be set on last\n\n          details.aggregate(tailDetails);\n          masked._value += tailDetails.inserted; // get not inserted chars\n\n          var remainChars = chunk.toString().slice(tailDetails.rawInserted.length);\n          if (remainChars) details.aggregate(masked.append(remainChars, {\n            tail: true\n          }));\n        } else {\n          details.aggregate(masked.append(chunk.toString(), {\n            tail: true\n          }));\n        }\n      }\n      return details;\n    }\n  }, {\n    key: \"shiftBefore\",\n    value: function shiftBefore(pos) {\n      if (this.from >= pos || !this.chunks.length) return '';\n      var chunkShiftPos = pos - this.from;\n      var ci = 0;\n\n      while (ci < this.chunks.length) {\n        var chunk = this.chunks[ci];\n        var shiftChar = chunk.shiftBefore(chunkShiftPos);\n\n        if (chunk.toString()) {\n          // chunk still contains value\n          // but not shifted - means no more available chars to shift\n          if (!shiftChar) break;\n          ++ci;\n        } else {\n          // clean if chunk has no value\n          this.chunks.splice(ci, 1);\n        }\n\n        if (shiftChar) return shiftChar;\n      }\n\n      return '';\n    }\n  }, {\n    key: \"state\",\n    get: function get() {\n      return {\n        chunks: this.chunks.map(function (c) {\n          return c.state;\n        }),\n        from: this.from,\n        stop: this.stop,\n        blockIndex: this.blockIndex\n      };\n    },\n    set: function set(state) {\n      var chunks = state.chunks,\n          props = _objectWithoutProperties(state, [\"chunks\"]);\n\n      Object.assign(this, props);\n      this.chunks = chunks.map(function (cstate) {\n        var chunk = \"chunks\" in cstate ? new ChunksTailDetails() : new ContinuousTailDetails(); // $FlowFixMe already checked above\n\n        chunk.state = cstate;\n        return chunk;\n      });\n    }\n  }]);\n\n  return ChunksTailDetails;\n}();\n\nexport default ChunksTailDetails;\n","import { d as _inherits, a as _createClass, b as _classCallCheck, e as _possibleConstructorReturn, f as _getPrototypeOf, g as _get, c as _objectWithoutProperties, h as _set } from '../_rollupPluginBabelHelpers-3c58f0e3.js';\nimport { forceDirection, DIRECTION } from '../core/utils.js';\nimport ChangeDetails from '../core/change-details.js';\nimport '../core/continuous-tail-details.js';\nimport IMask from '../core/holder.js';\nimport Masked from './base.js';\nimport createMask from './factory.js';\nimport PatternInputDefinition, { DEFAULT_INPUT_DEFINITIONS } from './pattern/input-definition.js';\nimport PatternFixedDefinition from './pattern/fixed-definition.js';\nimport ChunksTailDetails from './pattern/chunk-tail-details.js';\n\n/**\r\n  Pattern mask\r\n  @param {Object} opts\r\n  @param {Object} opts.blocks\r\n  @param {Object} opts.definitions\r\n  @param {string} opts.placeholderChar\r\n  @param {boolean} opts.lazy\r\n*/\nvar MaskedPattern =\n/*#__PURE__*/\nfunction (_Masked) {\n  _inherits(MaskedPattern, _Masked);\n\n  /** */\n\n  /** */\n\n  /** Single char for empty input */\n\n  /** Show placeholder only when needed */\n  function MaskedPattern() {\n    var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, MaskedPattern);\n\n    // TODO type $Shape<MaskedPatternOptions>={} does not work\n    opts.definitions = Object.assign({}, DEFAULT_INPUT_DEFINITIONS, opts.definitions);\n    return _possibleConstructorReturn(this, _getPrototypeOf(MaskedPattern).call(this, Object.assign({}, MaskedPattern.DEFAULTS, {}, opts)));\n  }\n  /**\r\n    @override\r\n    @param {Object} opts\r\n  */\n\n\n  _createClass(MaskedPattern, [{\n    key: \"_update\",\n    value: function _update() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      opts.definitions = Object.assign({}, this.definitions, opts.definitions);\n\n      _get(_getPrototypeOf(MaskedPattern.prototype), \"_update\", this).call(this, opts);\n\n      this._rebuildMask();\n    }\n    /** */\n\n  }, {\n    key: \"_rebuildMask\",\n    value: function _rebuildMask() {\n      var _this = this;\n\n      var defs = this.definitions;\n      this._blocks = [];\n      this._stops = [];\n      this._maskedBlocks = {};\n      var pattern = this.mask;\n      if (!pattern || !defs) return;\n      var unmaskingBlock = false;\n      var optionalBlock = false;\n\n      for (var i = 0; i < pattern.length; ++i) {\n        if (this.blocks) {\n          var _ret = function () {\n            var p = pattern.slice(i);\n            var bNames = Object.keys(_this.blocks).filter(function (bName) {\n              return p.indexOf(bName) === 0;\n            }); // order by key length\n\n            bNames.sort(function (a, b) {\n              return b.length - a.length;\n            }); // use block name with max length\n\n            var bName = bNames[0];\n\n            if (bName) {\n              var maskedBlock = createMask(Object.assign({\n                parent: _this,\n                lazy: _this.lazy,\n                placeholderChar: _this.placeholderChar,\n                overwrite: _this.overwrite\n              }, _this.blocks[bName]));\n\n              if (maskedBlock) {\n                _this._blocks.push(maskedBlock); // store block index\n\n\n                if (!_this._maskedBlocks[bName]) _this._maskedBlocks[bName] = [];\n\n                _this._maskedBlocks[bName].push(_this._blocks.length - 1);\n              }\n\n              i += bName.length - 1;\n              return \"continue\";\n            }\n          }();\n\n          if (_ret === \"continue\") continue;\n        }\n\n        var char = pattern[i];\n\n        var _isInput = char in defs;\n\n        if (char === MaskedPattern.STOP_CHAR) {\n          this._stops.push(this._blocks.length);\n\n          continue;\n        }\n\n        if (char === '{' || char === '}') {\n          unmaskingBlock = !unmaskingBlock;\n          continue;\n        }\n\n        if (char === '[' || char === ']') {\n          optionalBlock = !optionalBlock;\n          continue;\n        }\n\n        if (char === MaskedPattern.ESCAPE_CHAR) {\n          ++i;\n          char = pattern[i];\n          if (!char) break;\n          _isInput = false;\n        }\n\n        var def = _isInput ? new PatternInputDefinition({\n          parent: this,\n          lazy: this.lazy,\n          placeholderChar: this.placeholderChar,\n          mask: defs[char],\n          isOptional: optionalBlock\n        }) : new PatternFixedDefinition({\n          char: char,\n          isUnmasking: unmaskingBlock\n        });\n\n        this._blocks.push(def);\n      }\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"reset\",\n\n    /**\r\n      @override\r\n    */\n    value: function reset() {\n      _get(_getPrototypeOf(MaskedPattern.prototype), \"reset\", this).call(this);\n\n      this._blocks.forEach(function (b) {\n        return b.reset();\n      });\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"doCommit\",\n\n    /**\r\n      @override\r\n    */\n    value: function doCommit() {\n      this._blocks.forEach(function (b) {\n        return b.doCommit();\n      });\n\n      _get(_getPrototypeOf(MaskedPattern.prototype), \"doCommit\", this).call(this);\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"appendTail\",\n\n    /**\r\n      @override\r\n    */\n    value: function appendTail(tail) {\n      return _get(_getPrototypeOf(MaskedPattern.prototype), \"appendTail\", this).call(this, tail).aggregate(this._appendPlaceholder());\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"_appendCharRaw\",\n    value: function _appendCharRaw(ch) {\n      var flags = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      ch = this.doPrepare(ch, flags);\n\n      var blockIter = this._mapPosToBlock(this.value.length);\n\n      var details = new ChangeDetails();\n      if (!blockIter) return details;\n\n      for (var bi = blockIter.index;; ++bi) {\n        var _block = this._blocks[bi];\n        if (!_block) break;\n\n        var blockDetails = _block._appendChar(ch, flags);\n\n        var skip = blockDetails.skip;\n        details.aggregate(blockDetails);\n        if (skip || blockDetails.rawInserted) break; // go next char\n      }\n\n      return details;\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"extractTail\",\n    value: function extractTail() {\n      var _this2 = this;\n\n      var fromPos = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.value.length;\n      var chunkTail = new ChunksTailDetails();\n      if (fromPos === toPos) return chunkTail;\n\n      this._forEachBlocksInRange(fromPos, toPos, function (b, bi, bFromPos, bToPos) {\n        var blockChunk = b.extractTail(bFromPos, bToPos);\n        blockChunk.stop = _this2._findStopBefore(bi);\n        blockChunk.from = _this2._blockStartPos(bi);\n        if (blockChunk instanceof ChunksTailDetails) blockChunk.blockIndex = bi;\n        chunkTail.extend(blockChunk);\n      });\n\n      return chunkTail;\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"extractInput\",\n    value: function extractInput() {\n      var fromPos = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.value.length;\n      var flags = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      if (fromPos === toPos) return '';\n      var input = '';\n\n      this._forEachBlocksInRange(fromPos, toPos, function (b, _, fromPos, toPos) {\n        input += b.extractInput(fromPos, toPos, flags);\n      });\n\n      return input;\n    }\n  }, {\n    key: \"_findStopBefore\",\n    value: function _findStopBefore(blockIndex) {\n      var stopBefore;\n\n      for (var si = 0; si < this._stops.length; ++si) {\n        var stop = this._stops[si];\n        if (stop <= blockIndex) stopBefore = stop;else break;\n      }\n\n      return stopBefore;\n    }\n    /** Appends placeholder depending on laziness */\n\n  }, {\n    key: \"_appendPlaceholder\",\n    value: function _appendPlaceholder(toBlockIndex) {\n      var _this3 = this;\n\n      var details = new ChangeDetails();\n      if (this.lazy && toBlockIndex == null) return details;\n\n      var startBlockIter = this._mapPosToBlock(this.value.length);\n\n      if (!startBlockIter) return details;\n      var startBlockIndex = startBlockIter.index;\n      var endBlockIndex = toBlockIndex != null ? toBlockIndex : this._blocks.length;\n\n      this._blocks.slice(startBlockIndex, endBlockIndex).forEach(function (b) {\n        if (!b.lazy || toBlockIndex != null) {\n          // $FlowFixMe `_blocks` may not be present\n          var args = b._blocks != null ? [b._blocks.length] : [];\n\n          var bDetails = b._appendPlaceholder.apply(b, args);\n\n          _this3._value += bDetails.inserted;\n          details.aggregate(bDetails);\n        }\n      });\n\n      return details;\n    }\n    /** Finds block in pos */\n\n  }, {\n    key: \"_mapPosToBlock\",\n    value: function _mapPosToBlock(pos) {\n      var accVal = '';\n\n      for (var bi = 0; bi < this._blocks.length; ++bi) {\n        var _block2 = this._blocks[bi];\n        var blockStartPos = accVal.length;\n        accVal += _block2.value;\n\n        if (pos <= accVal.length) {\n          return {\n            index: bi,\n            offset: pos - blockStartPos\n          };\n        }\n      }\n    }\n    /** */\n\n  }, {\n    key: \"_blockStartPos\",\n    value: function _blockStartPos(blockIndex) {\n      return this._blocks.slice(0, blockIndex).reduce(function (pos, b) {\n        return pos += b.value.length;\n      }, 0);\n    }\n    /** */\n\n  }, {\n    key: \"_forEachBlocksInRange\",\n    value: function _forEachBlocksInRange(fromPos) {\n      var toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.value.length;\n      var fn = arguments.length > 2 ? arguments[2] : undefined;\n\n      var fromBlockIter = this._mapPosToBlock(fromPos);\n\n      if (fromBlockIter) {\n        var toBlockIter = this._mapPosToBlock(toPos); // process first block\n\n\n        var isSameBlock = toBlockIter && fromBlockIter.index === toBlockIter.index;\n        var fromBlockStartPos = fromBlockIter.offset;\n        var fromBlockEndPos = toBlockIter && isSameBlock ? toBlockIter.offset : this._blocks[fromBlockIter.index].value.length;\n        fn(this._blocks[fromBlockIter.index], fromBlockIter.index, fromBlockStartPos, fromBlockEndPos);\n\n        if (toBlockIter && !isSameBlock) {\n          // process intermediate blocks\n          for (var bi = fromBlockIter.index + 1; bi < toBlockIter.index; ++bi) {\n            fn(this._blocks[bi], bi, 0, this._blocks[bi].value.length);\n          } // process last block\n\n\n          fn(this._blocks[toBlockIter.index], toBlockIter.index, 0, toBlockIter.offset);\n        }\n      }\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"remove\",\n    value: function remove() {\n      var fromPos = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.value.length;\n\n      var removeDetails = _get(_getPrototypeOf(MaskedPattern.prototype), \"remove\", this).call(this, fromPos, toPos);\n\n      this._forEachBlocksInRange(fromPos, toPos, function (b, _, bFromPos, bToPos) {\n        removeDetails.aggregate(b.remove(bFromPos, bToPos));\n      });\n\n      return removeDetails;\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"nearestInputPos\",\n    value: function nearestInputPos(cursorPos) {\n      var direction = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : DIRECTION.NONE;\n      // TODO refactor - extract alignblock\n      var beginBlockData = this._mapPosToBlock(cursorPos) || {\n        index: 0,\n        offset: 0\n      };\n      var beginBlockOffset = beginBlockData.offset,\n          beginBlockIndex = beginBlockData.index;\n      var beginBlock = this._blocks[beginBlockIndex];\n      if (!beginBlock) return cursorPos;\n      var beginBlockCursorPos = beginBlockOffset; // if position inside block - try to adjust it\n\n      if (beginBlockCursorPos !== 0 && beginBlockCursorPos < beginBlock.value.length) {\n        beginBlockCursorPos = beginBlock.nearestInputPos(beginBlockOffset, forceDirection(direction));\n      }\n\n      var cursorAtRight = beginBlockCursorPos === beginBlock.value.length;\n      var cursorAtLeft = beginBlockCursorPos === 0; //  cursor is INSIDE first block (not at bounds)\n\n      if (!cursorAtLeft && !cursorAtRight) return this._blockStartPos(beginBlockIndex) + beginBlockCursorPos;\n      var searchBlockIndex = cursorAtRight ? beginBlockIndex + 1 : beginBlockIndex;\n\n      if (direction === DIRECTION.NONE) {\n        // NONE direction used to calculate start input position if no chars were removed\n        // FOR NONE:\n        // -\n        // input|any\n        // ->\n        //  any|input\n        // <-\n        //  filled-input|any\n        // check if first block at left is input\n        if (searchBlockIndex > 0) {\n          var blockIndexAtLeft = searchBlockIndex - 1;\n          var blockAtLeft = this._blocks[blockIndexAtLeft];\n          var blockInputPos = blockAtLeft.nearestInputPos(0, DIRECTION.NONE); // is input\n\n          if (!blockAtLeft.value.length || blockInputPos !== blockAtLeft.value.length) {\n            return this._blockStartPos(searchBlockIndex);\n          }\n        } // ->\n\n\n        var firstInputAtRight = searchBlockIndex;\n\n        for (var bi = firstInputAtRight; bi < this._blocks.length; ++bi) {\n          var blockAtRight = this._blocks[bi];\n\n          var _blockInputPos = blockAtRight.nearestInputPos(0, DIRECTION.NONE);\n\n          if (!blockAtRight.value.length || _blockInputPos !== blockAtRight.value.length) {\n            return this._blockStartPos(bi) + _blockInputPos;\n          }\n        } // <-\n        // find first non-fixed symbol\n\n\n        for (var _bi = searchBlockIndex - 1; _bi >= 0; --_bi) {\n          var _block3 = this._blocks[_bi];\n\n          var _blockInputPos2 = _block3.nearestInputPos(0, DIRECTION.NONE); // is input\n\n\n          if (!_block3.value.length || _blockInputPos2 !== _block3.value.length) {\n            return this._blockStartPos(_bi) + _block3.value.length;\n          }\n        }\n\n        return cursorPos;\n      }\n\n      if (direction === DIRECTION.LEFT || direction === DIRECTION.FORCE_LEFT) {\n        // -\n        //  any|filled-input\n        // <-\n        //  any|first not empty is not-len-aligned\n        //  not-0-aligned|any\n        // ->\n        //  any|not-len-aligned or end\n        // check if first block at right is filled input\n        var firstFilledBlockIndexAtRight;\n\n        for (var _bi2 = searchBlockIndex; _bi2 < this._blocks.length; ++_bi2) {\n          if (this._blocks[_bi2].value) {\n            firstFilledBlockIndexAtRight = _bi2;\n            break;\n          }\n        }\n\n        if (firstFilledBlockIndexAtRight != null) {\n          var filledBlock = this._blocks[firstFilledBlockIndexAtRight];\n\n          var _blockInputPos3 = filledBlock.nearestInputPos(0, DIRECTION.RIGHT);\n\n          if (_blockInputPos3 === 0 && filledBlock.unmaskedValue.length) {\n            // filled block is input\n            return this._blockStartPos(firstFilledBlockIndexAtRight) + _blockInputPos3;\n          }\n        } // <-\n        // find this vars\n\n\n        var firstFilledInputBlockIndex = -1;\n        var firstEmptyInputBlockIndex; // TODO consider nested empty inputs\n\n        for (var _bi3 = searchBlockIndex - 1; _bi3 >= 0; --_bi3) {\n          var _block4 = this._blocks[_bi3];\n\n          var _blockInputPos4 = _block4.nearestInputPos(_block4.value.length, DIRECTION.FORCE_LEFT);\n\n          if (!_block4.value || _blockInputPos4 !== 0) firstEmptyInputBlockIndex = _bi3;\n\n          if (_blockInputPos4 !== 0) {\n            if (_blockInputPos4 !== _block4.value.length) {\n              // aligned inside block - return immediately\n              return this._blockStartPos(_bi3) + _blockInputPos4;\n            } else {\n              // found filled\n              firstFilledInputBlockIndex = _bi3;\n              break;\n            }\n          }\n        }\n\n        if (direction === DIRECTION.LEFT) {\n          // try find first empty input before start searching position only when not forced\n          for (var _bi4 = firstFilledInputBlockIndex + 1; _bi4 <= Math.min(searchBlockIndex, this._blocks.length - 1); ++_bi4) {\n            var _block5 = this._blocks[_bi4];\n\n            var _blockInputPos5 = _block5.nearestInputPos(0, DIRECTION.NONE);\n\n            var blockAlignedPos = this._blockStartPos(_bi4) + _blockInputPos5;\n\n            if (blockAlignedPos > cursorPos) break; // if block is not lazy input\n\n            if (_blockInputPos5 !== _block5.value.length) return blockAlignedPos;\n          }\n        } // process overflow\n\n\n        if (firstFilledInputBlockIndex >= 0) {\n          return this._blockStartPos(firstFilledInputBlockIndex) + this._blocks[firstFilledInputBlockIndex].value.length;\n        } // for lazy if has aligned left inside fixed and has came to the start - use start position\n\n\n        if (direction === DIRECTION.FORCE_LEFT || this.lazy && !this.extractInput() && !isInput(this._blocks[searchBlockIndex])) {\n          return 0;\n        }\n\n        if (firstEmptyInputBlockIndex != null) {\n          return this._blockStartPos(firstEmptyInputBlockIndex);\n        } // find first input\n\n\n        for (var _bi5 = searchBlockIndex; _bi5 < this._blocks.length; ++_bi5) {\n          var _block6 = this._blocks[_bi5];\n\n          var _blockInputPos6 = _block6.nearestInputPos(0, DIRECTION.NONE); // is input\n\n\n          if (!_block6.value.length || _blockInputPos6 !== _block6.value.length) {\n            return this._blockStartPos(_bi5) + _blockInputPos6;\n          }\n        }\n\n        return 0;\n      }\n\n      if (direction === DIRECTION.RIGHT || direction === DIRECTION.FORCE_RIGHT) {\n        // ->\n        //  any|not-len-aligned and filled\n        //  any|not-len-aligned\n        // <-\n        //  not-0-aligned or start|any\n        var firstInputBlockAlignedIndex;\n        var firstInputBlockAlignedPos;\n\n        for (var _bi6 = searchBlockIndex; _bi6 < this._blocks.length; ++_bi6) {\n          var _block7 = this._blocks[_bi6];\n\n          var _blockInputPos7 = _block7.nearestInputPos(0, DIRECTION.NONE);\n\n          if (_blockInputPos7 !== _block7.value.length) {\n            firstInputBlockAlignedPos = this._blockStartPos(_bi6) + _blockInputPos7;\n            firstInputBlockAlignedIndex = _bi6;\n            break;\n          }\n        }\n\n        if (firstInputBlockAlignedIndex != null && firstInputBlockAlignedPos != null) {\n          for (var _bi7 = firstInputBlockAlignedIndex; _bi7 < this._blocks.length; ++_bi7) {\n            var _block8 = this._blocks[_bi7];\n\n            var _blockInputPos8 = _block8.nearestInputPos(0, DIRECTION.FORCE_RIGHT);\n\n            if (_blockInputPos8 !== _block8.value.length) {\n              return this._blockStartPos(_bi7) + _blockInputPos8;\n            }\n          }\n\n          return direction === DIRECTION.FORCE_RIGHT ? this.value.length : firstInputBlockAlignedPos;\n        }\n\n        for (var _bi8 = Math.min(searchBlockIndex, this._blocks.length - 1); _bi8 >= 0; --_bi8) {\n          var _block9 = this._blocks[_bi8];\n\n          var _blockInputPos9 = _block9.nearestInputPos(_block9.value.length, DIRECTION.LEFT);\n\n          if (_blockInputPos9 !== 0) {\n            var alignedPos = this._blockStartPos(_bi8) + _blockInputPos9;\n\n            if (alignedPos >= cursorPos) return alignedPos;\n            break;\n          }\n        }\n      }\n\n      return cursorPos;\n    }\n    /** Get block by name */\n\n  }, {\n    key: \"maskedBlock\",\n    value: function maskedBlock(name) {\n      return this.maskedBlocks(name)[0];\n    }\n    /** Get all blocks by name */\n\n  }, {\n    key: \"maskedBlocks\",\n    value: function maskedBlocks(name) {\n      var _this4 = this;\n\n      var indices = this._maskedBlocks[name];\n      if (!indices) return [];\n      return indices.map(function (gi) {\n        return _this4._blocks[gi];\n      });\n    }\n  }, {\n    key: \"state\",\n    get: function get() {\n      return Object.assign({}, _get(_getPrototypeOf(MaskedPattern.prototype), \"state\", this), {\n        _blocks: this._blocks.map(function (b) {\n          return b.state;\n        })\n      });\n    },\n    set: function set(state) {\n      var _blocks = state._blocks,\n          maskedState = _objectWithoutProperties(state, [\"_blocks\"]);\n\n      this._blocks.forEach(function (b, bi) {\n        return b.state = _blocks[bi];\n      });\n\n      _set(_getPrototypeOf(MaskedPattern.prototype), \"state\", maskedState, this, true);\n    }\n  }, {\n    key: \"isComplete\",\n    get: function get() {\n      return this._blocks.every(function (b) {\n        return b.isComplete;\n      });\n    }\n  }, {\n    key: \"unmaskedValue\",\n    get: function get() {\n      return this._blocks.reduce(function (str, b) {\n        return str += b.unmaskedValue;\n      }, '');\n    },\n    set: function set(unmaskedValue) {\n      _set(_getPrototypeOf(MaskedPattern.prototype), \"unmaskedValue\", unmaskedValue, this, true);\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"value\",\n    get: function get() {\n      // TODO return _value when not in change?\n      return this._blocks.reduce(function (str, b) {\n        return str += b.value;\n      }, '');\n    },\n    set: function set(value) {\n      _set(_getPrototypeOf(MaskedPattern.prototype), \"value\", value, this, true);\n    }\n  }]);\n\n  return MaskedPattern;\n}(Masked);\nMaskedPattern.DEFAULTS = {\n  lazy: true,\n  placeholderChar: '_'\n};\nMaskedPattern.STOP_CHAR = '`';\nMaskedPattern.ESCAPE_CHAR = '\\\\';\nMaskedPattern.InputDefinition = PatternInputDefinition;\nMaskedPattern.FixedDefinition = PatternFixedDefinition;\n\nfunction isInput(block) {\n  if (!block) return false;\n  var value = block.value;\n  return !value || block.nearestInputPos(0, DIRECTION.NONE) !== value.length;\n}\n\nIMask.MaskedPattern = MaskedPattern;\n\nexport default MaskedPattern;\n","import { d as _inherits, a as _createClass, b as _classCallCheck, e as _possibleConstructorReturn, f as _getPrototypeOf, g as _get, i as _slicedToArray } from '../_rollupPluginBabelHelpers-3c58f0e3.js';\nimport '../core/utils.js';\nimport '../core/change-details.js';\nimport '../core/continuous-tail-details.js';\nimport IMask from '../core/holder.js';\nimport './base.js';\nimport './factory.js';\nimport './pattern/input-definition.js';\nimport './pattern/fixed-definition.js';\nimport './pattern/chunk-tail-details.js';\nimport MaskedPattern from './pattern.js';\n\n/** Pattern which accepts ranges */\n\nvar MaskedRange =\n/*#__PURE__*/\nfunction (_MaskedPattern) {\n  _inherits(MaskedRange, _MaskedPattern);\n\n  function MaskedRange() {\n    _classCallCheck(this, MaskedRange);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(MaskedRange).apply(this, arguments));\n  }\n\n  _createClass(MaskedRange, [{\n    key: \"_update\",\n\n    /**\r\n      @override\r\n    */\n    value: function _update(opts) {\n      // TODO type\n      opts = Object.assign({\n        to: this.to || 0,\n        from: this.from || 0\n      }, opts);\n      var maxLength = String(opts.to).length;\n      if (opts.maxLength != null) maxLength = Math.max(maxLength, opts.maxLength);\n      opts.maxLength = maxLength;\n      var fromStr = String(opts.from).padStart(maxLength, '0');\n      var toStr = String(opts.to).padStart(maxLength, '0');\n      var sameCharsCount = 0;\n\n      while (sameCharsCount < toStr.length && toStr[sameCharsCount] === fromStr[sameCharsCount]) {\n        ++sameCharsCount;\n      }\n\n      opts.mask = toStr.slice(0, sameCharsCount).replace(/0/g, '\\\\0') + '0'.repeat(maxLength - sameCharsCount);\n\n      _get(_getPrototypeOf(MaskedRange.prototype), \"_update\", this).call(this, opts);\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"boundaries\",\n    value: function boundaries(str) {\n      var minstr = '';\n      var maxstr = '';\n\n      var _ref = str.match(/^(\\D*)(\\d*)(\\D*)/) || [],\n          _ref2 = _slicedToArray(_ref, 3),\n          placeholder = _ref2[1],\n          num = _ref2[2];\n\n      if (num) {\n        minstr = '0'.repeat(placeholder.length) + num;\n        maxstr = '9'.repeat(placeholder.length) + num;\n      }\n\n      minstr = minstr.padEnd(this.maxLength, '0');\n      maxstr = maxstr.padEnd(this.maxLength, '9');\n      return [minstr, maxstr];\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"doPrepare\",\n    value: function doPrepare(str) {\n      var flags = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      str = _get(_getPrototypeOf(MaskedRange.prototype), \"doPrepare\", this).call(this, str, flags).replace(/\\D/g, '');\n      if (!this.autofix) return str;\n      var fromStr = String(this.from).padStart(this.maxLength, '0');\n      var toStr = String(this.to).padStart(this.maxLength, '0');\n      var val = this.value;\n      var prepStr = '';\n\n      for (var ci = 0; ci < str.length; ++ci) {\n        var nextVal = val + prepStr + str[ci];\n\n        var _this$boundaries = this.boundaries(nextVal),\n            _this$boundaries2 = _slicedToArray(_this$boundaries, 2),\n            minstr = _this$boundaries2[0],\n            maxstr = _this$boundaries2[1];\n\n        if (Number(maxstr) < this.from) prepStr += fromStr[nextVal.length - 1];else if (Number(minstr) > this.to) prepStr += toStr[nextVal.length - 1];else prepStr += str[ci];\n      }\n\n      return prepStr;\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"doValidate\",\n    value: function doValidate() {\n      var _get2;\n\n      var str = this.value;\n      var firstNonZero = str.search(/[^0]/);\n      if (firstNonZero === -1 && str.length <= this._matchFrom) return true;\n\n      var _this$boundaries3 = this.boundaries(str),\n          _this$boundaries4 = _slicedToArray(_this$boundaries3, 2),\n          minstr = _this$boundaries4[0],\n          maxstr = _this$boundaries4[1];\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return this.from <= Number(maxstr) && Number(minstr) <= this.to && (_get2 = _get(_getPrototypeOf(MaskedRange.prototype), \"doValidate\", this)).call.apply(_get2, [this].concat(args));\n    }\n  }, {\n    key: \"_matchFrom\",\n\n    /**\r\n      Optionally sets max length of pattern.\r\n      Used when pattern length is longer then `to` param length. Pads zeros at start in this case.\r\n    */\n\n    /** Min bound */\n\n    /** Max bound */\n\n    /** */\n    get: function get() {\n      return this.maxLength - String(this.from).length;\n    }\n  }, {\n    key: \"isComplete\",\n    get: function get() {\n      return _get(_getPrototypeOf(MaskedRange.prototype), \"isComplete\", this) && Boolean(this.value);\n    }\n  }]);\n\n  return MaskedRange;\n}(MaskedPattern);\nIMask.MaskedRange = MaskedRange;\n\nexport default MaskedRange;\n","import { d as _inherits, a as _createClass, i as _slicedToArray, b as _classCallCheck, e as _possibleConstructorReturn, f as _getPrototypeOf, g as _get, h as _set } from '../_rollupPluginBabelHelpers-3c58f0e3.js';\nimport '../core/utils.js';\nimport '../core/change-details.js';\nimport '../core/continuous-tail-details.js';\nimport IMask from '../core/holder.js';\nimport './base.js';\nimport './factory.js';\nimport './pattern/input-definition.js';\nimport './pattern/fixed-definition.js';\nimport './pattern/chunk-tail-details.js';\nimport MaskedPattern from './pattern.js';\nimport MaskedRange from './range.js';\n\n/** Date mask */\n\nvar MaskedDate =\n/*#__PURE__*/\nfunction (_MaskedPattern) {\n  _inherits(MaskedDate, _MaskedPattern);\n\n  /** Pattern mask for date according to {@link MaskedDate#format} */\n\n  /** Start date */\n\n  /** End date */\n\n  /** */\n\n  /**\r\n    @param {Object} opts\r\n  */\n  function MaskedDate(opts) {\n    _classCallCheck(this, MaskedDate);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(MaskedDate).call(this, Object.assign({}, MaskedDate.DEFAULTS, {}, opts)));\n  }\n  /**\r\n    @override\r\n  */\n\n\n  _createClass(MaskedDate, [{\n    key: \"_update\",\n    value: function _update(opts) {\n      if (opts.mask === Date) delete opts.mask;\n      if (opts.pattern) opts.mask = opts.pattern;\n      var blocks = opts.blocks;\n      opts.blocks = Object.assign({}, MaskedDate.GET_DEFAULT_BLOCKS()); // adjust year block\n\n      if (opts.min) opts.blocks.Y.from = opts.min.getFullYear();\n      if (opts.max) opts.blocks.Y.to = opts.max.getFullYear();\n\n      if (opts.min && opts.max && opts.blocks.Y.from === opts.blocks.Y.to) {\n        opts.blocks.m.from = opts.min.getMonth() + 1;\n        opts.blocks.m.to = opts.max.getMonth() + 1;\n\n        if (opts.blocks.m.from === opts.blocks.m.to) {\n          opts.blocks.d.from = opts.min.getDate();\n          opts.blocks.d.to = opts.max.getDate();\n        }\n      }\n\n      Object.assign(opts.blocks, blocks); // add autofix\n\n      Object.keys(opts.blocks).forEach(function (bk) {\n        var b = opts.blocks[bk];\n        if (!('autofix' in b)) b.autofix = opts.autofix;\n      });\n\n      _get(_getPrototypeOf(MaskedDate.prototype), \"_update\", this).call(this, opts);\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"doValidate\",\n    value: function doValidate() {\n      var _get2;\n\n      var date = this.date;\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return (_get2 = _get(_getPrototypeOf(MaskedDate.prototype), \"doValidate\", this)).call.apply(_get2, [this].concat(args)) && (!this.isComplete || this.isDateExist(this.value) && date != null && (this.min == null || this.min <= date) && (this.max == null || date <= this.max));\n    }\n    /** Checks if date is exists */\n\n  }, {\n    key: \"isDateExist\",\n    value: function isDateExist(str) {\n      return this.format(this.parse(str, this), this).indexOf(str) >= 0;\n    }\n    /** Parsed Date */\n\n  }, {\n    key: \"date\",\n    get: function get() {\n      return this.typedValue;\n    },\n    set: function set(date) {\n      this.typedValue = date;\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"typedValue\",\n    get: function get() {\n      return this.isComplete ? _get(_getPrototypeOf(MaskedDate.prototype), \"typedValue\", this) : null;\n    },\n    set: function set(value) {\n      _set(_getPrototypeOf(MaskedDate.prototype), \"typedValue\", value, this, true);\n    }\n  }]);\n\n  return MaskedDate;\n}(MaskedPattern);\nMaskedDate.DEFAULTS = {\n  pattern: 'd{.}`m{.}`Y',\n  format: function format(date) {\n    var day = String(date.getDate()).padStart(2, '0');\n    var month = String(date.getMonth() + 1).padStart(2, '0');\n    var year = date.getFullYear();\n    return [day, month, year].join('.');\n  },\n  parse: function parse(str) {\n    var _str$split = str.split('.'),\n        _str$split2 = _slicedToArray(_str$split, 3),\n        day = _str$split2[0],\n        month = _str$split2[1],\n        year = _str$split2[2];\n\n    return new Date(year, month - 1, day);\n  }\n};\n\nMaskedDate.GET_DEFAULT_BLOCKS = function () {\n  return {\n    d: {\n      mask: MaskedRange,\n      from: 1,\n      to: 31,\n      maxLength: 2\n    },\n    m: {\n      mask: MaskedRange,\n      from: 1,\n      to: 12,\n      maxLength: 2\n    },\n    Y: {\n      mask: MaskedRange,\n      from: 1900,\n      to: 9999\n    }\n  };\n};\n\nIMask.MaskedDate = MaskedDate;\n\nexport default MaskedDate;\n","import { a as _createClass, b as _classCallCheck } from '../_rollupPluginBabelHelpers-3c58f0e3.js';\nimport IMask from '../core/holder.js';\n\n/**\r\n  Generic element API to use with mask\r\n  @interface\r\n*/\nvar MaskElement =\n/*#__PURE__*/\nfunction () {\n  function MaskElement() {\n    _classCallCheck(this, MaskElement);\n  }\n\n  _createClass(MaskElement, [{\n    key: \"select\",\n\n    /** Safely sets element selection */\n    value: function select(start, end) {\n      if (start == null || end == null || start === this.selectionStart && end === this.selectionEnd) return;\n\n      try {\n        this._unsafeSelect(start, end);\n      } catch (e) {}\n    }\n    /** Should be overriden in subclasses */\n\n  }, {\n    key: \"_unsafeSelect\",\n    value: function _unsafeSelect(start, end) {}\n    /** Should be overriden in subclasses */\n\n  }, {\n    key: \"bindEvents\",\n\n    /** Should be overriden in subclasses */\n    value: function bindEvents(handlers) {}\n    /** Should be overriden in subclasses */\n\n  }, {\n    key: \"unbindEvents\",\n    value: function unbindEvents() {}\n  }, {\n    key: \"selectionStart\",\n\n    /** */\n\n    /** */\n\n    /** */\n\n    /** Safely returns selection start */\n    get: function get() {\n      var start;\n\n      try {\n        start = this._unsafeSelectionStart;\n      } catch (e) {}\n\n      return start != null ? start : this.value.length;\n    }\n    /** Safely returns selection end */\n\n  }, {\n    key: \"selectionEnd\",\n    get: function get() {\n      var end;\n\n      try {\n        end = this._unsafeSelectionEnd;\n      } catch (e) {}\n\n      return end != null ? end : this.value.length;\n    }\n  }, {\n    key: \"isActive\",\n    get: function get() {\n      return false;\n    }\n  }]);\n\n  return MaskElement;\n}();\nIMask.MaskElement = MaskElement;\n\nexport default MaskElement;\n","import { d as _inherits, a as _createClass, b as _classCallCheck, e as _possibleConstructorReturn, f as _getPrototypeOf } from '../_rollupPluginBabelHelpers-3c58f0e3.js';\nimport IMask from '../core/holder.js';\nimport MaskElement from './mask-element.js';\n\n/** Bridge between HTMLElement and {@link Masked} */\n\nvar HTMLMaskElement =\n/*#__PURE__*/\nfunction (_MaskElement) {\n  _inherits(HTMLMaskElement, _MaskElement);\n\n  /** Mapping between HTMLElement events and mask internal events */\n\n  /** HTMLElement to use mask on */\n\n  /**\r\n    @param {HTMLInputElement|HTMLTextAreaElement} input\r\n  */\n  function HTMLMaskElement(input) {\n    var _this;\n\n    _classCallCheck(this, HTMLMaskElement);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(HTMLMaskElement).call(this));\n    _this.input = input;\n    _this._handlers = {};\n    return _this;\n  }\n  /** */\n  // $FlowFixMe https://github.com/facebook/flow/issues/2839\n\n\n  _createClass(HTMLMaskElement, [{\n    key: \"_unsafeSelect\",\n\n    /**\r\n      Sets HTMLElement selection\r\n      @override\r\n    */\n    value: function _unsafeSelect(start, end) {\n      this.input.setSelectionRange(start, end);\n    }\n    /**\r\n      HTMLElement value\r\n      @override\r\n    */\n\n  }, {\n    key: \"bindEvents\",\n\n    /**\r\n      Binds HTMLElement events to mask internal events\r\n      @override\r\n    */\n    value: function bindEvents(handlers) {\n      var _this2 = this;\n\n      Object.keys(handlers).forEach(function (event) {\n        return _this2._toggleEventHandler(HTMLMaskElement.EVENTS_MAP[event], handlers[event]);\n      });\n    }\n    /**\r\n      Unbinds HTMLElement events to mask internal events\r\n      @override\r\n    */\n\n  }, {\n    key: \"unbindEvents\",\n    value: function unbindEvents() {\n      var _this3 = this;\n\n      Object.keys(this._handlers).forEach(function (event) {\n        return _this3._toggleEventHandler(event);\n      });\n    }\n    /** */\n\n  }, {\n    key: \"_toggleEventHandler\",\n    value: function _toggleEventHandler(event, handler) {\n      if (this._handlers[event]) {\n        this.input.removeEventListener(event, this._handlers[event]);\n        delete this._handlers[event];\n      }\n\n      if (handler) {\n        this.input.addEventListener(event, handler);\n        this._handlers[event] = handler;\n      }\n    }\n  }, {\n    key: \"rootElement\",\n    get: function get() {\n      return this.input.getRootNode ? this.input.getRootNode() : document;\n    }\n    /**\r\n      Is element in focus\r\n      @readonly\r\n    */\n\n  }, {\n    key: \"isActive\",\n    get: function get() {\n      //$FlowFixMe\n      return this.input === this.rootElement.activeElement;\n    }\n    /**\r\n      Returns HTMLElement selection start\r\n      @override\r\n    */\n\n  }, {\n    key: \"_unsafeSelectionStart\",\n    get: function get() {\n      return this.input.selectionStart;\n    }\n    /**\r\n      Returns HTMLElement selection end\r\n      @override\r\n    */\n\n  }, {\n    key: \"_unsafeSelectionEnd\",\n    get: function get() {\n      return this.input.selectionEnd;\n    }\n  }, {\n    key: \"value\",\n    get: function get() {\n      return this.input.value;\n    },\n    set: function set(value) {\n      this.input.value = value;\n    }\n  }]);\n\n  return HTMLMaskElement;\n}(MaskElement);\nHTMLMaskElement.EVENTS_MAP = {\n  selectionChange: 'keydown',\n  input: 'input',\n  drop: 'drop',\n  click: 'click',\n  focus: 'focus',\n  commit: 'blur'\n};\nIMask.HTMLMaskElement = HTMLMaskElement;\n\nexport default HTMLMaskElement;\n","import { d as _inherits, a as _createClass, b as _classCallCheck, e as _possibleConstructorReturn, f as _getPrototypeOf } from '../_rollupPluginBabelHelpers-3c58f0e3.js';\nimport IMask from '../core/holder.js';\nimport './mask-element.js';\nimport HTMLMaskElement from './html-mask-element.js';\n\nvar HTMLContenteditableMaskElement =\n/*#__PURE__*/\nfunction (_HTMLMaskElement) {\n  _inherits(HTMLContenteditableMaskElement, _HTMLMaskElement);\n\n  function HTMLContenteditableMaskElement() {\n    _classCallCheck(this, HTMLContenteditableMaskElement);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(HTMLContenteditableMaskElement).apply(this, arguments));\n  }\n\n  _createClass(HTMLContenteditableMaskElement, [{\n    key: \"_unsafeSelect\",\n\n    /**\r\n      Sets HTMLElement selection\r\n      @override\r\n    */\n    value: function _unsafeSelect(start, end) {\n      if (!this.rootElement.createRange) return;\n      var range = this.rootElement.createRange();\n      range.setStart(this.input.firstChild || this.input, start);\n      range.setEnd(this.input.lastChild || this.input, end);\n      var root = this.rootElement;\n      var selection = root.getSelection && root.getSelection();\n\n      if (selection) {\n        selection.removeAllRanges();\n        selection.addRange(range);\n      }\n    }\n    /**\r\n      HTMLElement value\r\n      @override\r\n    */\n\n  }, {\n    key: \"_unsafeSelectionStart\",\n\n    /**\r\n      Returns HTMLElement selection start\r\n      @override\r\n    */\n    get: function get() {\n      var root = this.rootElement;\n      var selection = root.getSelection && root.getSelection();\n      return selection && selection.anchorOffset;\n    }\n    /**\r\n      Returns HTMLElement selection end\r\n      @override\r\n    */\n\n  }, {\n    key: \"_unsafeSelectionEnd\",\n    get: function get() {\n      var root = this.rootElement;\n      var selection = root.getSelection && root.getSelection();\n      return selection && this._unsafeSelectionStart + String(selection).length;\n    }\n  }, {\n    key: \"value\",\n    get: function get() {\n      // $FlowFixMe\n      return this.input.textContent;\n    },\n    set: function set(value) {\n      this.input.textContent = value;\n    }\n  }]);\n\n  return HTMLContenteditableMaskElement;\n}(HTMLMaskElement);\nIMask.HTMLContenteditableMaskElement = HTMLContenteditableMaskElement;\n\nexport default HTMLContenteditableMaskElement;\n","import { a as _createClass, b as _classCallCheck, c as _objectWithoutProperties } from '../_rollupPluginBabelHelpers-3c58f0e3.js';\nimport { objectIncludes, DIRECTION } from '../core/utils.js';\nimport ActionDetails from '../core/action-details.js';\nimport '../core/change-details.js';\nimport '../core/continuous-tail-details.js';\nimport IMask from '../core/holder.js';\nimport '../masked/base.js';\nimport createMask, { maskedClass } from '../masked/factory.js';\nimport '../masked/pattern/input-definition.js';\nimport '../masked/pattern/fixed-definition.js';\nimport '../masked/pattern/chunk-tail-details.js';\nimport '../masked/pattern.js';\nimport '../masked/range.js';\nimport MaskedDate from '../masked/date.js';\nimport MaskElement from './mask-element.js';\nimport HTMLMaskElement from './html-mask-element.js';\nimport HTMLContenteditableMaskElement from './html-contenteditable-mask-element.js';\n\n/** Listens to element events and controls changes between element and {@link Masked} */\n\nvar InputMask =\n/*#__PURE__*/\nfunction () {\n  /**\r\n    View element\r\n    @readonly\r\n  */\n\n  /**\r\n    Internal {@link Masked} model\r\n    @readonly\r\n  */\n\n  /**\r\n    @param {MaskElement|HTMLInputElement|HTMLTextAreaElement} el\r\n    @param {Object} opts\r\n  */\n  function InputMask(el, opts) {\n    _classCallCheck(this, InputMask);\n\n    this.el = el instanceof MaskElement ? el : el.isContentEditable && el.tagName !== 'INPUT' && el.tagName !== 'TEXTAREA' ? new HTMLContenteditableMaskElement(el) : new HTMLMaskElement(el);\n    this.masked = createMask(opts);\n    this._listeners = {};\n    this._value = '';\n    this._unmaskedValue = '';\n    this._saveSelection = this._saveSelection.bind(this);\n    this._onInput = this._onInput.bind(this);\n    this._onChange = this._onChange.bind(this);\n    this._onDrop = this._onDrop.bind(this);\n    this._onFocus = this._onFocus.bind(this);\n    this._onClick = this._onClick.bind(this);\n    this.alignCursor = this.alignCursor.bind(this);\n    this.alignCursorFriendly = this.alignCursorFriendly.bind(this);\n\n    this._bindEvents(); // refresh\n\n\n    this.updateValue();\n\n    this._onChange();\n  }\n  /** Read or update mask */\n\n\n  _createClass(InputMask, [{\n    key: \"maskEquals\",\n    value: function maskEquals(mask) {\n      return mask == null || mask === this.masked.mask || mask === Date && this.masked instanceof MaskedDate;\n    }\n  }, {\n    key: \"_bindEvents\",\n\n    /**\r\n      Starts listening to element events\r\n      @protected\r\n    */\n    value: function _bindEvents() {\n      this.el.bindEvents({\n        selectionChange: this._saveSelection,\n        input: this._onInput,\n        drop: this._onDrop,\n        click: this._onClick,\n        focus: this._onFocus,\n        commit: this._onChange\n      });\n    }\n    /**\r\n      Stops listening to element events\r\n      @protected\r\n     */\n\n  }, {\n    key: \"_unbindEvents\",\n    value: function _unbindEvents() {\n      if (this.el) this.el.unbindEvents();\n    }\n    /**\r\n      Fires custom event\r\n      @protected\r\n     */\n\n  }, {\n    key: \"_fireEvent\",\n    value: function _fireEvent(ev) {\n      var listeners = this._listeners[ev];\n      if (!listeners) return;\n      listeners.forEach(function (l) {\n        return l();\n      });\n    }\n    /**\r\n      Current selection start\r\n      @readonly\r\n    */\n\n  }, {\n    key: \"_saveSelection\",\n\n    /**\r\n      Stores current selection\r\n      @protected\r\n    */\n    value: function _saveSelection()\n    /* ev */\n    {\n      if (this.value !== this.el.value) {\n        console.warn('Element value was changed outside of mask. Syncronize mask using `mask.updateValue()` to work properly.'); // eslint-disable-line no-console\n      }\n\n      this._selection = {\n        start: this.selectionStart,\n        end: this.cursorPos\n      };\n    }\n    /** Syncronizes model value from view */\n\n  }, {\n    key: \"updateValue\",\n    value: function updateValue() {\n      this.masked.value = this.el.value;\n      this._value = this.masked.value;\n    }\n    /** Syncronizes view from model value, fires change events */\n\n  }, {\n    key: \"updateControl\",\n    value: function updateControl() {\n      var newUnmaskedValue = this.masked.unmaskedValue;\n      var newValue = this.masked.value;\n      var isChanged = this.unmaskedValue !== newUnmaskedValue || this.value !== newValue;\n      this._unmaskedValue = newUnmaskedValue;\n      this._value = newValue;\n      if (this.el.value !== newValue) this.el.value = newValue;\n      if (isChanged) this._fireChangeEvents();\n    }\n    /** Updates options with deep equal check, recreates @{link Masked} model if mask type changes */\n\n  }, {\n    key: \"updateOptions\",\n    value: function updateOptions(opts) {\n      var mask = opts.mask,\n          restOpts = _objectWithoutProperties(opts, [\"mask\"]);\n\n      var updateMask = !this.maskEquals(mask);\n      var updateOpts = !objectIncludes(this.masked, restOpts);\n      if (updateMask) this.mask = mask;\n      if (updateOpts) this.masked.updateOptions(restOpts);\n      if (updateMask || updateOpts) this.updateControl();\n    }\n    /** Updates cursor */\n\n  }, {\n    key: \"updateCursor\",\n    value: function updateCursor(cursorPos) {\n      if (cursorPos == null) return;\n      this.cursorPos = cursorPos; // also queue change cursor for mobile browsers\n\n      this._delayUpdateCursor(cursorPos);\n    }\n    /**\r\n      Delays cursor update to support mobile browsers\r\n      @private\r\n    */\n\n  }, {\n    key: \"_delayUpdateCursor\",\n    value: function _delayUpdateCursor(cursorPos) {\n      var _this = this;\n\n      this._abortUpdateCursor();\n\n      this._changingCursorPos = cursorPos;\n      this._cursorChanging = setTimeout(function () {\n        if (!_this.el) return; // if was destroyed\n\n        _this.cursorPos = _this._changingCursorPos;\n\n        _this._abortUpdateCursor();\n      }, 10);\n    }\n    /**\r\n      Fires custom events\r\n      @protected\r\n    */\n\n  }, {\n    key: \"_fireChangeEvents\",\n    value: function _fireChangeEvents() {\n      this._fireEvent('accept');\n\n      if (this.masked.isComplete) this._fireEvent('complete');\n    }\n    /**\r\n      Aborts delayed cursor update\r\n      @private\r\n    */\n\n  }, {\n    key: \"_abortUpdateCursor\",\n    value: function _abortUpdateCursor() {\n      if (this._cursorChanging) {\n        clearTimeout(this._cursorChanging);\n        delete this._cursorChanging;\n      }\n    }\n    /** Aligns cursor to nearest available position */\n\n  }, {\n    key: \"alignCursor\",\n    value: function alignCursor() {\n      this.cursorPos = this.masked.nearestInputPos(this.cursorPos, DIRECTION.LEFT);\n    }\n    /** Aligns cursor only if selection is empty */\n\n  }, {\n    key: \"alignCursorFriendly\",\n    value: function alignCursorFriendly() {\n      if (this.selectionStart !== this.cursorPos) return; // skip if range is selected\n\n      this.alignCursor();\n    }\n    /** Adds listener on custom event */\n\n  }, {\n    key: \"on\",\n    value: function on(ev, handler) {\n      if (!this._listeners[ev]) this._listeners[ev] = [];\n\n      this._listeners[ev].push(handler);\n\n      return this;\n    }\n    /** Removes custom event listener */\n\n  }, {\n    key: \"off\",\n    value: function off(ev, handler) {\n      if (!this._listeners[ev]) return this;\n\n      if (!handler) {\n        delete this._listeners[ev];\n        return this;\n      }\n\n      var hIndex = this._listeners[ev].indexOf(handler);\n\n      if (hIndex >= 0) this._listeners[ev].splice(hIndex, 1);\n      return this;\n    }\n    /** Handles view input event */\n\n  }, {\n    key: \"_onInput\",\n    value: function _onInput() {\n      this._abortUpdateCursor(); // fix strange IE behavior\n\n\n      if (!this._selection) return this.updateValue();\n      var details = new ActionDetails( // new state\n      this.el.value, this.cursorPos, // old state\n      this.value, this._selection);\n      var oldRawValue = this.masked.rawInputValue;\n      var offset = this.masked.splice(details.startChangePos, details.removed.length, details.inserted, details.removeDirection).offset; // force align in remove direction only if no input chars were removed\n      // otherwise we still need to align with NONE (to get out from fixed symbols for instance)\n\n      var removeDirection = oldRawValue === this.masked.rawInputValue ? details.removeDirection : DIRECTION.NONE;\n      var cursorPos = this.masked.nearestInputPos(details.startChangePos + offset, removeDirection);\n      this.updateControl();\n      this.updateCursor(cursorPos);\n    }\n    /** Handles view change event and commits model value */\n\n  }, {\n    key: \"_onChange\",\n    value: function _onChange() {\n      if (this.value !== this.el.value) {\n        this.updateValue();\n      }\n\n      this.masked.doCommit();\n      this.updateControl();\n\n      this._saveSelection();\n    }\n    /** Handles view drop event, prevents by default */\n\n  }, {\n    key: \"_onDrop\",\n    value: function _onDrop(ev) {\n      ev.preventDefault();\n      ev.stopPropagation();\n    }\n    /** Restore last selection on focus */\n\n  }, {\n    key: \"_onFocus\",\n    value: function _onFocus(ev) {\n      this.alignCursorFriendly();\n    }\n    /** Restore last selection on focus */\n\n  }, {\n    key: \"_onClick\",\n    value: function _onClick(ev) {\n      this.alignCursorFriendly();\n    }\n    /** Unbind view events and removes element reference */\n\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this._unbindEvents(); // $FlowFixMe why not do so?\n\n\n      this._listeners.length = 0; // $FlowFixMe\n\n      delete this.el;\n    }\n  }, {\n    key: \"mask\",\n    get: function get() {\n      return this.masked.mask;\n    },\n    set: function set(mask) {\n      if (this.maskEquals(mask)) return;\n\n      if (this.masked.constructor === maskedClass(mask)) {\n        this.masked.updateOptions({\n          mask: mask\n        });\n        return;\n      }\n\n      var masked = createMask({\n        mask: mask\n      });\n      masked.unmaskedValue = this.masked.unmaskedValue;\n      this.masked = masked;\n    }\n    /** Raw value */\n\n  }, {\n    key: \"value\",\n    get: function get() {\n      return this._value;\n    },\n    set: function set(str) {\n      this.masked.value = str;\n      this.updateControl();\n      this.alignCursor();\n    }\n    /** Unmasked value */\n\n  }, {\n    key: \"unmaskedValue\",\n    get: function get() {\n      return this._unmaskedValue;\n    },\n    set: function set(str) {\n      this.masked.unmaskedValue = str;\n      this.updateControl();\n      this.alignCursor();\n    }\n    /** Typed unmasked value */\n\n  }, {\n    key: \"typedValue\",\n    get: function get() {\n      return this.masked.typedValue;\n    },\n    set: function set(val) {\n      this.masked.typedValue = val;\n      this.updateControl();\n      this.alignCursor();\n    }\n  }, {\n    key: \"selectionStart\",\n    get: function get() {\n      return this._cursorChanging ? this._changingCursorPos : this.el.selectionStart;\n    }\n    /** Current cursor position */\n\n  }, {\n    key: \"cursorPos\",\n    get: function get() {\n      return this._cursorChanging ? this._changingCursorPos : this.el.selectionEnd;\n    },\n    set: function set(pos) {\n      if (!this.el.isActive) return;\n      this.el.select(pos, pos);\n\n      this._saveSelection();\n    }\n  }]);\n\n  return InputMask;\n}();\nIMask.InputMask = InputMask;\n\nexport default InputMask;\n","import './_rollupPluginBabelHelpers-3c58f0e3.js';\nimport './core/utils.js';\nimport './core/action-details.js';\nimport './core/change-details.js';\nimport './core/continuous-tail-details.js';\nimport IMask from './core/holder.js';\nimport './masked/base.js';\nimport './masked/factory.js';\nimport './masked/pattern/input-definition.js';\nimport './masked/pattern/fixed-definition.js';\nimport './masked/pattern/chunk-tail-details.js';\nimport './masked/pattern.js';\nimport './masked/range.js';\nimport './masked/date.js';\nimport './controls/mask-element.js';\nimport './controls/html-mask-element.js';\nimport './controls/html-contenteditable-mask-element.js';\nimport './controls/input.js';\n\n\n\nexport default IMask;\n","import IMask from 'imask/esm/imask';\n\nvar IMaskComponent = {\n  name: 'imask-input',\n  render: function render(createElement) {\n    var _this = this;\n\n    var props = {\n      domProps: {\n        value: this.maskRef ? this.maskRef.value : this.value\n      },\n      on: Object.assign({}, this.$listeners)\n    }; // if there is no mask use default input event\n\n    if (!this.$props.mask) {\n      props.on.input = function (event) {\n        return _this.$emit('input', event.target.value);\n      };\n    } else {\n      delete props.on.input;\n    }\n\n    return createElement('input', props);\n  },\n  mounted: function mounted() {\n    if (!this.$props.mask) return;\n\n    this._initMask();\n  },\n  destroyed: function destroyed() {\n    this._destroyMask();\n  },\n  computed: {\n    maskOptions: function maskOptions() {\n      return this._extractOptionsFromProps(this.$props);\n    }\n  },\n  watch: {\n    '$props': {\n      handler: function handler(props) {\n        var maskOptions = this.maskOptions;\n\n        if (maskOptions.mask) {\n          if (this.maskRef) {\n            this.maskRef.updateOptions(maskOptions);\n\n            if ('value' in props && (props.value !== this._maskValue() || // handle cases like Number('') === 0,\n            // for details see https://github.com/uNmAnNeR/imaskjs/issues/134\n            typeof props.value !== 'string' && this.maskRef.value === '' && !this.maskRef.el.isActive)) {\n              this._updateValue();\n            }\n          } else {\n            this._initMask(maskOptions);\n\n            if (props.value !== this._maskValue()) this._onAccept();\n          }\n        } else {\n          this._destroyMask();\n\n          if ('value' in props) this.$el.value = props.value;\n        }\n      },\n      deep: true\n    }\n  },\n  methods: {\n    _extractOptionsFromProps: function _extractOptionsFromProps(props) {\n      props = Object.assign({}, props); // keep only defined props\n\n      Object.keys(props).filter(function (prop) {\n        return props[prop] === undefined;\n      }).forEach(function (undefinedProp) {\n        delete props[undefinedProp];\n      });\n      delete props.value;\n      delete props.unmask;\n      return props;\n    },\n    _maskValue: function _maskValue() {\n      if (this.unmask === 'typed') return this.maskRef.typedValue;\n      if (this.unmask) return this.maskRef.unmaskedValue;\n      return this.maskRef.value;\n    },\n    _updateValue: function _updateValue() {\n      var value = this.value == null ? '' : this.value;\n      if (this.unmask === 'typed') this.maskRef.typedValue = value;else if (this.unmask) this.maskRef.unmaskedValue = value;else this.maskRef.value = value;\n    },\n    _onAccept: function _onAccept() {\n      var val = this._maskValue();\n\n      this.$emit('input', val);\n      this.$emit('accept', val);\n    },\n    _onComplete: function _onComplete() {\n      this.$emit('complete', this._maskValue());\n    },\n    _initMask: function _initMask() {\n      var maskOptions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.maskOptions;\n      this.maskRef = IMask(this.$el, maskOptions).on('accept', this._onAccept.bind(this)).on('complete', this._onComplete.bind(this));\n\n      this._updateValue();\n    },\n    _destroyMask: function _destroyMask() {\n      if (this.maskRef) {\n        this.maskRef.destroy();\n        delete this.maskRef;\n      }\n    }\n  },\n  props: {\n    // common\n    mask: {},\n    value: {},\n    unmask: {\n      validator: function validator(value) {\n        return value === 'typed' || typeof value === 'boolean';\n      }\n    },\n    prepare: Function,\n    validate: Function,\n    commit: Function,\n    overwrite: {\n      type: Boolean,\n      required: false,\n      default: undefined\n    },\n    // pattern\n    placeholderChar: String,\n    lazy: {\n      type: Boolean,\n      required: false,\n      default: undefined\n    },\n    definitions: Object,\n    blocks: Object,\n    // date\n    pattern: String,\n    format: Function,\n    parse: Function,\n    autofix: {\n      type: Boolean,\n      required: false,\n      default: undefined\n    },\n    // number\n    radix: String,\n    thousandsSeparator: String,\n    mapToRadix: Array,\n    scale: Number,\n    signed: {\n      type: Boolean,\n      required: false,\n      default: undefined\n    },\n    normalizeZeros: {\n      type: Boolean,\n      required: false,\n      default: undefined\n    },\n    padFractionalZeros: {\n      type: Boolean,\n      required: false,\n      default: undefined\n    },\n    min: [Number, Date],\n    max: [Number, Date],\n    // dynamic\n    dispatch: Function\n  }\n};\n\nexport default IMaskComponent;\n","import IMask from 'imask/esm/imask';\n\nvar IMaskDirective = {\n  name: 'imask',\n  bind: function bind(el, _ref) {\n    var options = _ref.value;\n    if (!options) return;\n    initMask(el, options);\n  },\n  update: function update(el, _ref2) {\n    var options = _ref2.value;\n\n    if (options) {\n      if (el.maskRef) {\n        el.maskRef.updateOptions(options);\n        if (el.value !== el.maskRef.value) el.maskRef._onChange();\n      } else initMask(el, options);\n    } else {\n      destroyMask(el);\n    }\n  },\n  unbind: function unbind(el) {\n    destroyMask(el);\n  }\n};\n\nfunction fireEvent(el, eventName, data) {\n  var e = document.createEvent('CustomEvent');\n  e.initCustomEvent(eventName, true, true, data);\n  el.dispatchEvent(e);\n}\n\nfunction initMask(el, opts) {\n  el.maskRef = IMask(el, opts).on('accept', function () {\n    return fireEvent(el, 'accept', el.maskRef);\n  }).on('complete', function () {\n    return fireEvent(el, 'complete', el.maskRef);\n  });\n}\n\nfunction destroyMask(el) {\n  if (el.maskRef) {\n    el.maskRef.destroy();\n    delete el.maskRef;\n  }\n}\n\nexport default IMaskDirective;\n","import { d as _inherits, a as _createClass, b as _classCallCheck, e as _possibleConstructorReturn, f as _getPrototypeOf, g as _get } from '../_rollupPluginBabelHelpers-3c58f0e3.js';\nimport '../core/utils.js';\nimport '../core/change-details.js';\nimport '../core/continuous-tail-details.js';\nimport IMask from '../core/holder.js';\nimport './base.js';\nimport './factory.js';\nimport './pattern/input-definition.js';\nimport './pattern/fixed-definition.js';\nimport './pattern/chunk-tail-details.js';\nimport MaskedPattern from './pattern.js';\n\n/** Pattern which validates enum values */\n\nvar MaskedEnum =\n/*#__PURE__*/\nfunction (_MaskedPattern) {\n  _inherits(MaskedEnum, _MaskedPattern);\n\n  function MaskedEnum() {\n    _classCallCheck(this, MaskedEnum);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(MaskedEnum).apply(this, arguments));\n  }\n\n  _createClass(MaskedEnum, [{\n    key: \"_update\",\n\n    /**\r\n      @override\r\n      @param {Object} opts\r\n    */\n    value: function _update(opts) {\n      // TODO type\n      if (opts.enum) opts.mask = '*'.repeat(opts.enum[0].length);\n\n      _get(_getPrototypeOf(MaskedEnum.prototype), \"_update\", this).call(this, opts);\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"doValidate\",\n    value: function doValidate() {\n      var _this = this,\n          _get2;\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return this.enum.some(function (e) {\n        return e.indexOf(_this.unmaskedValue) >= 0;\n      }) && (_get2 = _get(_getPrototypeOf(MaskedEnum.prototype), \"doValidate\", this)).call.apply(_get2, [this].concat(args));\n    }\n  }]);\n\n  return MaskedEnum;\n}(MaskedPattern);\nIMask.MaskedEnum = MaskedEnum;\n\nexport default MaskedEnum;\n","import { d as _inherits, a as _createClass, b as _classCallCheck, e as _possibleConstructorReturn, f as _getPrototypeOf, g as _get, i as _slicedToArray, h as _set } from '../_rollupPluginBabelHelpers-3c58f0e3.js';\nimport { escapeRegExp, DIRECTION } from '../core/utils.js';\nimport ChangeDetails from '../core/change-details.js';\nimport '../core/continuous-tail-details.js';\nimport IMask from '../core/holder.js';\nimport Masked from './base.js';\n\n/**\r\n  Number mask\r\n  @param {Object} opts\r\n  @param {string} opts.radix - Single char\r\n  @param {string} opts.thousandsSeparator - Single char\r\n  @param {Array<string>} opts.mapToRadix - Array of single chars\r\n  @param {number} opts.min\r\n  @param {number} opts.max\r\n  @param {number} opts.scale - Digits after point\r\n  @param {boolean} opts.signed - Allow negative\r\n  @param {boolean} opts.normalizeZeros - Flag to remove leading and trailing zeros in the end of editing\r\n  @param {boolean} opts.padFractionalZeros - Flag to pad trailing zeros after point in the end of editing\r\n*/\nvar MaskedNumber =\n/*#__PURE__*/\nfunction (_Masked) {\n  _inherits(MaskedNumber, _Masked);\n\n  /** Single char */\n\n  /** Single char */\n\n  /** Array of single chars */\n\n  /** */\n\n  /** */\n\n  /** Digits after point */\n\n  /** */\n\n  /** Flag to remove leading and trailing zeros in the end of editing */\n\n  /** Flag to pad trailing zeros after point in the end of editing */\n  function MaskedNumber(opts) {\n    _classCallCheck(this, MaskedNumber);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(MaskedNumber).call(this, Object.assign({}, MaskedNumber.DEFAULTS, {}, opts)));\n  }\n  /**\r\n    @override\r\n  */\n\n\n  _createClass(MaskedNumber, [{\n    key: \"_update\",\n    value: function _update(opts) {\n      _get(_getPrototypeOf(MaskedNumber.prototype), \"_update\", this).call(this, opts);\n\n      this._updateRegExps();\n    }\n    /** */\n\n  }, {\n    key: \"_updateRegExps\",\n    value: function _updateRegExps() {\n      // use different regexp to process user input (more strict, input suffix) and tail shifting\n      var start = '^' + (this.allowNegative ? '[+|\\\\-]?' : '');\n      var midInput = '(0|([1-9]+\\\\d*))?';\n      var mid = '\\\\d*';\n      var end = (this.scale ? '(' + escapeRegExp(this.radix) + '\\\\d{0,' + this.scale + '})?' : '') + '$';\n      this._numberRegExpInput = new RegExp(start + midInput + end);\n      this._numberRegExp = new RegExp(start + mid + end);\n      this._mapToRadixRegExp = new RegExp('[' + this.mapToRadix.map(escapeRegExp).join('') + ']', 'g');\n      this._thousandsSeparatorRegExp = new RegExp(escapeRegExp(this.thousandsSeparator), 'g');\n    }\n    /** */\n\n  }, {\n    key: \"_removeThousandsSeparators\",\n    value: function _removeThousandsSeparators(value) {\n      return value.replace(this._thousandsSeparatorRegExp, '');\n    }\n    /** */\n\n  }, {\n    key: \"_insertThousandsSeparators\",\n    value: function _insertThousandsSeparators(value) {\n      // https://stackoverflow.com/questions/2901102/how-to-print-a-number-with-commas-as-thousands-separators-in-javascript\n      var parts = value.split(this.radix);\n      parts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, this.thousandsSeparator);\n      return parts.join(this.radix);\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"doPrepare\",\n    value: function doPrepare(str) {\n      var _get2;\n\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      return (_get2 = _get(_getPrototypeOf(MaskedNumber.prototype), \"doPrepare\", this)).call.apply(_get2, [this, this._removeThousandsSeparators(str.replace(this._mapToRadixRegExp, this.radix))].concat(args));\n    }\n    /** */\n\n  }, {\n    key: \"_separatorsCount\",\n    value: function _separatorsCount(to) {\n      var extendOnSeparators = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var count = 0;\n\n      for (var pos = 0; pos < to; ++pos) {\n        if (this._value.indexOf(this.thousandsSeparator, pos) === pos) {\n          ++count;\n          if (extendOnSeparators) to += this.thousandsSeparator.length;\n        }\n      }\n\n      return count;\n    }\n    /** */\n\n  }, {\n    key: \"_separatorsCountFromSlice\",\n    value: function _separatorsCountFromSlice() {\n      var slice = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this._value;\n      return this._separatorsCount(this._removeThousandsSeparators(slice).length, true);\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"extractInput\",\n    value: function extractInput() {\n      var fromPos = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.value.length;\n      var flags = arguments.length > 2 ? arguments[2] : undefined;\n\n      var _this$_adjustRangeWit = this._adjustRangeWithSeparators(fromPos, toPos);\n\n      var _this$_adjustRangeWit2 = _slicedToArray(_this$_adjustRangeWit, 2);\n\n      fromPos = _this$_adjustRangeWit2[0];\n      toPos = _this$_adjustRangeWit2[1];\n      return this._removeThousandsSeparators(_get(_getPrototypeOf(MaskedNumber.prototype), \"extractInput\", this).call(this, fromPos, toPos, flags));\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"_appendCharRaw\",\n    value: function _appendCharRaw(ch) {\n      var flags = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      if (!this.thousandsSeparator) return _get(_getPrototypeOf(MaskedNumber.prototype), \"_appendCharRaw\", this).call(this, ch, flags);\n      var prevBeforeTailValue = flags.tail && flags._beforeTailState ? flags._beforeTailState._value : this._value;\n\n      var prevBeforeTailSeparatorsCount = this._separatorsCountFromSlice(prevBeforeTailValue);\n\n      this._value = this._removeThousandsSeparators(this.value);\n\n      var appendDetails = _get(_getPrototypeOf(MaskedNumber.prototype), \"_appendCharRaw\", this).call(this, ch, flags);\n\n      this._value = this._insertThousandsSeparators(this._value);\n      var beforeTailValue = flags.tail && flags._beforeTailState ? flags._beforeTailState._value : this._value;\n\n      var beforeTailSeparatorsCount = this._separatorsCountFromSlice(beforeTailValue);\n\n      appendDetails.tailShift += (beforeTailSeparatorsCount - prevBeforeTailSeparatorsCount) * this.thousandsSeparator.length;\n      return appendDetails;\n    }\n    /** */\n\n  }, {\n    key: \"_findSeparatorAround\",\n    value: function _findSeparatorAround(pos) {\n      if (this.thousandsSeparator) {\n        var searchFrom = pos - this.thousandsSeparator.length + 1;\n        var separatorPos = this.value.indexOf(this.thousandsSeparator, searchFrom);\n        if (separatorPos <= pos) return separatorPos;\n      }\n\n      return -1;\n    }\n  }, {\n    key: \"_adjustRangeWithSeparators\",\n    value: function _adjustRangeWithSeparators(from, to) {\n      var separatorAroundFromPos = this._findSeparatorAround(from);\n\n      if (separatorAroundFromPos >= 0) from = separatorAroundFromPos;\n\n      var separatorAroundToPos = this._findSeparatorAround(to);\n\n      if (separatorAroundToPos >= 0) to = separatorAroundToPos + this.thousandsSeparator.length;\n      return [from, to];\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"remove\",\n    value: function remove() {\n      var fromPos = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.value.length;\n\n      var _this$_adjustRangeWit3 = this._adjustRangeWithSeparators(fromPos, toPos);\n\n      var _this$_adjustRangeWit4 = _slicedToArray(_this$_adjustRangeWit3, 2);\n\n      fromPos = _this$_adjustRangeWit4[0];\n      toPos = _this$_adjustRangeWit4[1];\n      var valueBeforePos = this.value.slice(0, fromPos);\n      var valueAfterPos = this.value.slice(toPos);\n\n      var prevBeforeTailSeparatorsCount = this._separatorsCount(valueBeforePos.length);\n\n      this._value = this._insertThousandsSeparators(this._removeThousandsSeparators(valueBeforePos + valueAfterPos));\n\n      var beforeTailSeparatorsCount = this._separatorsCountFromSlice(valueBeforePos);\n\n      return new ChangeDetails({\n        tailShift: (beforeTailSeparatorsCount - prevBeforeTailSeparatorsCount) * this.thousandsSeparator.length\n      });\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"nearestInputPos\",\n    value: function nearestInputPos(cursorPos, direction) {\n      if (!this.thousandsSeparator) return cursorPos;\n\n      switch (direction) {\n        case DIRECTION.NONE:\n        case DIRECTION.LEFT:\n        case DIRECTION.FORCE_LEFT:\n          {\n            var separatorAtLeftPos = this._findSeparatorAround(cursorPos - 1);\n\n            if (separatorAtLeftPos >= 0) {\n              var separatorAtLeftEndPos = separatorAtLeftPos + this.thousandsSeparator.length;\n\n              if (cursorPos < separatorAtLeftEndPos || this.value.length <= separatorAtLeftEndPos || direction === DIRECTION.FORCE_LEFT) {\n                return separatorAtLeftPos;\n              }\n            }\n\n            break;\n          }\n\n        case DIRECTION.RIGHT:\n        case DIRECTION.FORCE_RIGHT:\n          {\n            var separatorAtRightPos = this._findSeparatorAround(cursorPos);\n\n            if (separatorAtRightPos >= 0) {\n              return separatorAtRightPos + this.thousandsSeparator.length;\n            }\n          }\n      }\n\n      return cursorPos;\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"doValidate\",\n    value: function doValidate(flags) {\n      var regexp = flags.input ? this._numberRegExpInput : this._numberRegExp; // validate as string\n\n      var valid = regexp.test(this._removeThousandsSeparators(this.value));\n\n      if (valid) {\n        // validate as number\n        var number = this.number;\n        valid = valid && !isNaN(number) && ( // check min bound for negative values\n        this.min == null || this.min >= 0 || this.min <= this.number) && ( // check max bound for positive values\n        this.max == null || this.max <= 0 || this.number <= this.max);\n      }\n\n      return valid && _get(_getPrototypeOf(MaskedNumber.prototype), \"doValidate\", this).call(this, flags);\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"doCommit\",\n    value: function doCommit() {\n      if (this.value) {\n        var number = this.number;\n        var validnum = number; // check bounds\n\n        if (this.min != null) validnum = Math.max(validnum, this.min);\n        if (this.max != null) validnum = Math.min(validnum, this.max);\n        if (validnum !== number) this.unmaskedValue = String(validnum);\n        var formatted = this.value;\n        if (this.normalizeZeros) formatted = this._normalizeZeros(formatted);\n        if (this.padFractionalZeros) formatted = this._padFractionalZeros(formatted);\n        this._value = formatted;\n      }\n\n      _get(_getPrototypeOf(MaskedNumber.prototype), \"doCommit\", this).call(this);\n    }\n    /** */\n\n  }, {\n    key: \"_normalizeZeros\",\n    value: function _normalizeZeros(value) {\n      var parts = this._removeThousandsSeparators(value).split(this.radix); // remove leading zeros\n\n\n      parts[0] = parts[0].replace(/^(\\D*)(0*)(\\d*)/, function (match, sign, zeros, num) {\n        return sign + num;\n      }); // add leading zero\n\n      if (value.length && !/\\d$/.test(parts[0])) parts[0] = parts[0] + '0';\n\n      if (parts.length > 1) {\n        parts[1] = parts[1].replace(/0*$/, ''); // remove trailing zeros\n\n        if (!parts[1].length) parts.length = 1; // remove fractional\n      }\n\n      return this._insertThousandsSeparators(parts.join(this.radix));\n    }\n    /** */\n\n  }, {\n    key: \"_padFractionalZeros\",\n    value: function _padFractionalZeros(value) {\n      if (!value) return value;\n      var parts = value.split(this.radix);\n      if (parts.length < 2) parts.push('');\n      parts[1] = parts[1].padEnd(this.scale, '0');\n      return parts.join(this.radix);\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"unmaskedValue\",\n    get: function get() {\n      return this._removeThousandsSeparators(this._normalizeZeros(this.value)).replace(this.radix, '.');\n    },\n    set: function set(unmaskedValue) {\n      _set(_getPrototypeOf(MaskedNumber.prototype), \"unmaskedValue\", unmaskedValue.replace('.', this.radix), this, true);\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"typedValue\",\n    get: function get() {\n      return Number(this.unmaskedValue);\n    },\n    set: function set(n) {\n      _set(_getPrototypeOf(MaskedNumber.prototype), \"unmaskedValue\", String(n), this, true);\n    }\n    /** Parsed Number */\n\n  }, {\n    key: \"number\",\n    get: function get() {\n      return this.typedValue;\n    },\n    set: function set(number) {\n      this.typedValue = number;\n    }\n    /**\r\n      Is negative allowed\r\n      @readonly\r\n    */\n\n  }, {\n    key: \"allowNegative\",\n    get: function get() {\n      return this.signed || this.min != null && this.min < 0 || this.max != null && this.max < 0;\n    }\n  }]);\n\n  return MaskedNumber;\n}(Masked);\nMaskedNumber.DEFAULTS = {\n  radix: ',',\n  thousandsSeparator: '',\n  mapToRadix: ['.'],\n  scale: 2,\n  signed: false,\n  normalizeZeros: true,\n  padFractionalZeros: false\n};\nIMask.MaskedNumber = MaskedNumber;\n\nexport default MaskedNumber;\n","import { d as _inherits, a as _createClass, b as _classCallCheck, e as _possibleConstructorReturn, f as _getPrototypeOf, g as _get } from '../_rollupPluginBabelHelpers-3c58f0e3.js';\nimport '../core/utils.js';\nimport '../core/change-details.js';\nimport '../core/continuous-tail-details.js';\nimport IMask from '../core/holder.js';\nimport Masked from './base.js';\n\n/** Masking by RegExp */\n\nvar MaskedRegExp =\n/*#__PURE__*/\nfunction (_Masked) {\n  _inherits(MaskedRegExp, _Masked);\n\n  function MaskedRegExp() {\n    _classCallCheck(this, MaskedRegExp);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(MaskedRegExp).apply(this, arguments));\n  }\n\n  _createClass(MaskedRegExp, [{\n    key: \"_update\",\n\n    /**\r\n      @override\r\n      @param {Object} opts\r\n    */\n    value: function _update(opts) {\n      if (opts.mask) opts.validate = function (value) {\n        return value.search(opts.mask) >= 0;\n      };\n\n      _get(_getPrototypeOf(MaskedRegExp.prototype), \"_update\", this).call(this, opts);\n    }\n  }]);\n\n  return MaskedRegExp;\n}(Masked);\nIMask.MaskedRegExp = MaskedRegExp;\n\nexport default MaskedRegExp;\n","import { d as _inherits, a as _createClass, b as _classCallCheck, e as _possibleConstructorReturn, f as _getPrototypeOf, g as _get } from '../_rollupPluginBabelHelpers-3c58f0e3.js';\nimport '../core/utils.js';\nimport '../core/change-details.js';\nimport '../core/continuous-tail-details.js';\nimport IMask from '../core/holder.js';\nimport Masked from './base.js';\n\n/** Masking by custom Function */\n\nvar MaskedFunction =\n/*#__PURE__*/\nfunction (_Masked) {\n  _inherits(MaskedFunction, _Masked);\n\n  function MaskedFunction() {\n    _classCallCheck(this, MaskedFunction);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(MaskedFunction).apply(this, arguments));\n  }\n\n  _createClass(MaskedFunction, [{\n    key: \"_update\",\n\n    /**\r\n      @override\r\n      @param {Object} opts\r\n    */\n    value: function _update(opts) {\n      if (opts.mask) opts.validate = opts.mask;\n\n      _get(_getPrototypeOf(MaskedFunction.prototype), \"_update\", this).call(this, opts);\n    }\n  }]);\n\n  return MaskedFunction;\n}(Masked);\nIMask.MaskedFunction = MaskedFunction;\n\nexport default MaskedFunction;\n","import { d as _inherits, a as _createClass, b as _classCallCheck, e as _possibleConstructorReturn, f as _getPrototypeOf, g as _get, h as _set, c as _objectWithoutProperties } from '../_rollupPluginBabelHelpers-3c58f0e3.js';\nimport '../core/utils.js';\nimport ChangeDetails from '../core/change-details.js';\nimport '../core/continuous-tail-details.js';\nimport IMask from '../core/holder.js';\nimport Masked from './base.js';\nimport createMask from './factory.js';\n\n/** Dynamic mask for choosing apropriate mask in run-time */\nvar MaskedDynamic =\n/*#__PURE__*/\nfunction (_Masked) {\n  _inherits(MaskedDynamic, _Masked);\n\n  /** Currently chosen mask */\n\n  /** Compliled {@link Masked} options */\n\n  /** Chooses {@link Masked} depending on input value */\n\n  /**\r\n    @param {Object} opts\r\n  */\n  function MaskedDynamic(opts) {\n    var _this;\n\n    _classCallCheck(this, MaskedDynamic);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(MaskedDynamic).call(this, Object.assign({}, MaskedDynamic.DEFAULTS, {}, opts)));\n    _this.currentMask = null;\n    return _this;\n  }\n  /**\r\n    @override\r\n  */\n\n\n  _createClass(MaskedDynamic, [{\n    key: \"_update\",\n    value: function _update(opts) {\n      _get(_getPrototypeOf(MaskedDynamic.prototype), \"_update\", this).call(this, opts);\n\n      if ('mask' in opts) {\n        // mask could be totally dynamic with only `dispatch` option\n        this.compiledMasks = Array.isArray(opts.mask) ? opts.mask.map(function (m) {\n          return createMask(m);\n        }) : [];\n      }\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"_appendCharRaw\",\n    value: function _appendCharRaw() {\n      var details = this._applyDispatch.apply(this, arguments);\n\n      if (this.currentMask) {\n        var _this$currentMask;\n\n        details.aggregate((_this$currentMask = this.currentMask)._appendChar.apply(_this$currentMask, arguments));\n      }\n\n      return details;\n    }\n  }, {\n    key: \"_applyDispatch\",\n    value: function _applyDispatch() {\n      var appended = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n      var flags = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var prevValueBeforeTail = flags.tail && flags._beforeTailState != null ? flags._beforeTailState._value : this.value;\n      var inputValue = this.rawInputValue;\n      var insertValue = flags.tail && flags._beforeTailState != null ? // $FlowFixMe - tired to fight with type system\n      flags._beforeTailState._rawInputValue : inputValue;\n      var tailValue = inputValue.slice(insertValue.length);\n      var prevMask = this.currentMask;\n      var details = new ChangeDetails();\n      var prevMaskState = prevMask && prevMask.state; // clone flags to prevent overwriting `_beforeTailState`\n\n      this.currentMask = this.doDispatch(appended, Object.assign({}, flags)); // restore state after dispatch\n\n      if (this.currentMask) {\n        if (this.currentMask !== prevMask) {\n          // if mask changed reapply input\n          this.currentMask.reset(); // $FlowFixMe - it's ok, we don't change current mask above\n\n          var d = this.currentMask.append(insertValue, {\n            raw: true\n          });\n          details.tailShift = d.inserted.length - prevValueBeforeTail.length;\n\n          if (tailValue) {\n            // $FlowFixMe - it's ok, we don't change current mask above\n            details.tailShift += this.currentMask.append(tailValue, {\n              raw: true,\n              tail: true\n            }).tailShift;\n          }\n        } else {\n          // Dispatch can do something bad with state, so\n          // restore prev mask state\n          this.currentMask.state = prevMaskState;\n        }\n      }\n\n      return details;\n    }\n  }, {\n    key: \"_appendPlaceholder\",\n    value: function _appendPlaceholder() {\n      var details = this._applyDispatch.apply(this, arguments);\n\n      if (this.currentMask) {\n        details.aggregate(this.currentMask._appendPlaceholder());\n      }\n\n      return details;\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"doDispatch\",\n    value: function doDispatch(appended) {\n      var flags = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      return this.dispatch(appended, this, flags);\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"doValidate\",\n    value: function doValidate() {\n      var _get2, _this$currentMask2;\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return (_get2 = _get(_getPrototypeOf(MaskedDynamic.prototype), \"doValidate\", this)).call.apply(_get2, [this].concat(args)) && (!this.currentMask || (_this$currentMask2 = this.currentMask).doValidate.apply(_this$currentMask2, args));\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      if (this.currentMask) this.currentMask.reset();\n      this.compiledMasks.forEach(function (m) {\n        return m.reset();\n      });\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"remove\",\n\n    /**\r\n      @override\r\n    */\n    value: function remove() {\n      var details = new ChangeDetails();\n\n      if (this.currentMask) {\n        var _this$currentMask3;\n\n        details.aggregate((_this$currentMask3 = this.currentMask).remove.apply(_this$currentMask3, arguments)) // update with dispatch\n        .aggregate(this._applyDispatch());\n      }\n\n      return details;\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"extractInput\",\n\n    /**\r\n      @override\r\n    */\n    value: function extractInput() {\n      var _this$currentMask4;\n\n      return this.currentMask ? (_this$currentMask4 = this.currentMask).extractInput.apply(_this$currentMask4, arguments) : '';\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"extractTail\",\n    value: function extractTail() {\n      var _this$currentMask5, _get3;\n\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      return this.currentMask ? (_this$currentMask5 = this.currentMask).extractTail.apply(_this$currentMask5, args) : (_get3 = _get(_getPrototypeOf(MaskedDynamic.prototype), \"extractTail\", this)).call.apply(_get3, [this].concat(args));\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"doCommit\",\n    value: function doCommit() {\n      if (this.currentMask) this.currentMask.doCommit();\n\n      _get(_getPrototypeOf(MaskedDynamic.prototype), \"doCommit\", this).call(this);\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"nearestInputPos\",\n    value: function nearestInputPos() {\n      var _this$currentMask6, _get4;\n\n      for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        args[_key3] = arguments[_key3];\n      }\n\n      return this.currentMask ? (_this$currentMask6 = this.currentMask).nearestInputPos.apply(_this$currentMask6, args) : (_get4 = _get(_getPrototypeOf(MaskedDynamic.prototype), \"nearestInputPos\", this)).call.apply(_get4, [this].concat(args));\n    }\n  }, {\n    key: \"value\",\n    get: function get() {\n      return this.currentMask ? this.currentMask.value : '';\n    },\n    set: function set(value) {\n      _set(_getPrototypeOf(MaskedDynamic.prototype), \"value\", value, this, true);\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"unmaskedValue\",\n    get: function get() {\n      return this.currentMask ? this.currentMask.unmaskedValue : '';\n    },\n    set: function set(unmaskedValue) {\n      _set(_getPrototypeOf(MaskedDynamic.prototype), \"unmaskedValue\", unmaskedValue, this, true);\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"typedValue\",\n    get: function get() {\n      return this.currentMask ? this.currentMask.typedValue : '';\n    } // probably typedValue should not be used with dynamic\n    ,\n    set: function set(value) {\n      var unmaskedValue = String(value); // double check it\n\n      if (this.currentMask) {\n        this.currentMask.typedValue = value;\n        unmaskedValue = this.currentMask.unmaskedValue;\n      }\n\n      this.unmaskedValue = unmaskedValue;\n    }\n    /**\r\n      @override\r\n    */\n\n  }, {\n    key: \"isComplete\",\n    get: function get() {\n      return !!this.currentMask && this.currentMask.isComplete;\n    }\n  }, {\n    key: \"state\",\n    get: function get() {\n      return Object.assign({}, _get(_getPrototypeOf(MaskedDynamic.prototype), \"state\", this), {\n        _rawInputValue: this.rawInputValue,\n        compiledMasks: this.compiledMasks.map(function (m) {\n          return m.state;\n        }),\n        currentMaskRef: this.currentMask,\n        currentMask: this.currentMask && this.currentMask.state\n      });\n    },\n    set: function set(state) {\n      var compiledMasks = state.compiledMasks,\n          currentMaskRef = state.currentMaskRef,\n          currentMask = state.currentMask,\n          maskedState = _objectWithoutProperties(state, [\"compiledMasks\", \"currentMaskRef\", \"currentMask\"]);\n\n      this.compiledMasks.forEach(function (m, mi) {\n        return m.state = compiledMasks[mi];\n      });\n\n      if (currentMaskRef != null) {\n        this.currentMask = currentMaskRef;\n        this.currentMask.state = currentMask;\n      }\n\n      _set(_getPrototypeOf(MaskedDynamic.prototype), \"state\", maskedState, this, true);\n    }\n  }, {\n    key: \"overwrite\",\n    get: function get() {\n      return this.currentMask ? this.currentMask.overwrite : _get(_getPrototypeOf(MaskedDynamic.prototype), \"overwrite\", this);\n    },\n    set: function set(overwrite) {\n      console.warn('\"overwrite\" option is not available in dynamic mask, use this option in siblings');\n    }\n  }]);\n\n  return MaskedDynamic;\n}(Masked);\nMaskedDynamic.DEFAULTS = {\n  dispatch: function dispatch(appended, masked, flags) {\n    if (!masked.compiledMasks.length) return;\n    var inputValue = masked.rawInputValue; // simulate input\n\n    var inputs = masked.compiledMasks.map(function (m, index) {\n      m.reset();\n      m.append(inputValue, {\n        raw: true\n      });\n      m.append(appended, flags);\n      var weight = m.rawInputValue.length;\n      return {\n        weight: weight,\n        index: index\n      };\n    }); // pop masks with longer values first\n\n    inputs.sort(function (i1, i2) {\n      return i2.weight - i1.weight;\n    });\n    return masked.compiledMasks[inputs[0].index];\n  }\n};\nIMask.MaskedDynamic = MaskedDynamic;\n\nexport default MaskedDynamic;\n","import '../_rollupPluginBabelHelpers-3c58f0e3.js';\nimport '../core/utils.js';\nimport IMask from '../core/holder.js';\nimport createMask from './factory.js';\n\n/** Mask pipe source and destination types */\n\nvar PIPE_TYPE = {\n  MASKED: 'value',\n  UNMASKED: 'unmaskedValue',\n  TYPED: 'typedValue'\n};\n/** Creates new pipe function depending on mask type, source and destination options */\n\nfunction createPipe(mask) {\n  var from = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : PIPE_TYPE.MASKED;\n  var to = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : PIPE_TYPE.MASKED;\n  var masked = createMask(mask);\n  return function (value) {\n    return masked.runIsolated(function (m) {\n      m[from] = value;\n      return m[to];\n    });\n  };\n}\n/** Pipes value through mask depending on mask type, source and destination options */\n\nfunction pipe(value) {\n  for (var _len = arguments.length, pipeArgs = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    pipeArgs[_key - 1] = arguments[_key];\n  }\n\n  return createPipe.apply(void 0, pipeArgs)(value);\n}\nIMask.PIPE_TYPE = PIPE_TYPE;\nIMask.createPipe = createPipe;\nIMask.pipe = pipe;\n\nexport { PIPE_TYPE, createPipe, pipe };\n","import './_rollupPluginBabelHelpers-3c58f0e3.js';\nimport './core/utils.js';\nimport './core/action-details.js';\nimport './core/change-details.js';\nimport './core/continuous-tail-details.js';\nimport './core/holder.js';\nexport { default as Masked } from './masked/base.js';\nexport { default as createMask } from './masked/factory.js';\nimport './masked/pattern/input-definition.js';\nimport './masked/pattern/fixed-definition.js';\nimport './masked/pattern/chunk-tail-details.js';\nexport { default as MaskedPattern } from './masked/pattern.js';\nexport { default as MaskedRange } from './masked/range.js';\nexport { default as MaskedDate } from './masked/date.js';\nexport { default as MaskElement } from './controls/mask-element.js';\nexport { default as HTMLMaskElement } from './controls/html-mask-element.js';\nexport { default as HTMLContenteditableMaskElement } from './controls/html-contenteditable-mask-element.js';\nexport { default as InputMask } from './controls/input.js';\nimport IMask from './imask.js';\nexport { default as MaskedEnum } from './masked/enum.js';\nexport { default as MaskedNumber } from './masked/number.js';\nexport { default as MaskedRegExp } from './masked/regexp.js';\nexport { default as MaskedFunction } from './masked/function.js';\nexport { default as MaskedDynamic } from './masked/dynamic.js';\nexport { PIPE_TYPE, createPipe, pipe } from './masked/pipe.js';\n\nglobalThis.IMask = IMask;\n\nexport default IMask;\n","const allCountries = [\n  [\"Afghanistan ()\", \"af\", \"93\"],\n  [\"Albania (Shqipri)\", \"al\", \"355\"],\n  [\"Algeria ()\", \"dz\", \"213\"],\n  [\"American Samoa\", \"as\", \"1684\"],\n  [\"Andorra\", \"ad\", \"376\"],\n  [\"Angola\", \"ao\", \"244\"],\n  [\"Anguilla\", \"ai\", \"1264\"],\n  [\"Antigua and Barbuda\", \"ag\", \"1268\"],\n  [\"Argentina\", \"ar\", \"54\"],\n  [\"Armenia ()\", \"am\", \"374\"],\n  [\"Aruba\", \"aw\", \"297\"],\n  [\"Australia\", \"au\", \"61\", 0],\n  [\"Austria (sterreich)\", \"at\", \"43\"],\n  [\"Azerbaijan (Azrbaycan)\", \"az\", \"994\"],\n  [\"Bahamas\", \"bs\", \"1242\"],\n  [\"Bahrain ()\", \"bh\", \"973\"],\n  [\"Bangladesh ()\", \"bd\", \"880\"],\n  [\"Barbados\", \"bb\", \"1246\"],\n  [\"Belarus ()\", \"by\", \"375\"],\n  [\"Belgium (Belgi)\", \"be\", \"32\"],\n  [\"Belize\", \"bz\", \"501\"],\n  [\"Benin (Bnin)\", \"bj\", \"229\"],\n  [\"Bermuda\", \"bm\", \"1441\"],\n  [\"Bhutan ()\", \"bt\", \"975\"],\n  [\"Bolivia\", \"bo\", \"591\"],\n  [\"Bosnia and Herzegovina (  )\", \"ba\", \"387\"],\n  [\"Botswana\", \"bw\", \"267\"],\n  [\"Brazil (Brasil)\", \"br\", \"55\"],\n  [\"British Indian Ocean Territory\", \"io\", \"246\"],\n  [\"British Virgin Islands\", \"vg\", \"1284\"],\n  [\"Brunei\", \"bn\", \"673\"],\n  [\"Bulgaria ()\", \"bg\", \"359\"],\n  [\"Burkina Faso\", \"bf\", \"226\"],\n  [\"Burundi (Uburundi)\", \"bi\", \"257\"],\n  [\"Cambodia ()\", \"kh\", \"855\"],\n  [\"Cameroon (Cameroun)\", \"cm\", \"237\"],\n  [\n    \"Canada\",\n    \"ca\",\n    \"1\",\n    1,\n    [\n      \"204\",\n      \"226\",\n      \"236\",\n      \"249\",\n      \"250\",\n      \"289\",\n      \"306\",\n      \"343\",\n      \"365\",\n      \"387\",\n      \"403\",\n      \"416\",\n      \"418\",\n      \"431\",\n      \"437\",\n      \"438\",\n      \"450\",\n      \"506\",\n      \"514\",\n      \"519\",\n      \"548\",\n      \"579\",\n      \"581\",\n      \"587\",\n      \"604\",\n      \"613\",\n      \"639\",\n      \"647\",\n      \"672\",\n      \"705\",\n      \"709\",\n      \"742\",\n      \"778\",\n      \"780\",\n      \"782\",\n      \"807\",\n      \"819\",\n      \"825\",\n      \"867\",\n      \"873\",\n      \"902\",\n      \"905\"\n    ]\n  ],\n  [\"Cape Verde (Kabu Verdi)\", \"cv\", \"238\"],\n  [\"Caribbean Netherlands\", \"bq\", \"599\", 1],\n  [\"Cayman Islands\", \"ky\", \"1345\"],\n  [\"Central African Republic (Rpublique centrafricaine)\", \"cf\", \"236\"],\n  [\"Chad (Tchad)\", \"td\", \"235\"],\n  [\"Chile\", \"cl\", \"56\"],\n  [\"China ()\", \"cn\", \"86\"],\n  [\"Christmas Island\", \"cx\", \"61\", 2],\n  [\"Cocos (Keeling) Islands\", \"cc\", \"61\", 1],\n  [\"Colombia\", \"co\", \"57\"],\n  [\"Comoros ( )\", \"km\", \"269\"],\n  [\"Congo (DRC) (Jamhuri ya Kidemokrasia ya Kongo)\", \"cd\", \"243\"],\n  [\"Congo (Republic) (Congo-Brazzaville)\", \"cg\", \"242\"],\n  [\"Cook Islands\", \"ck\", \"682\"],\n  [\"Costa Rica\", \"cr\", \"506\"],\n  [\"Cte dIvoire\", \"ci\", \"225\"],\n  [\"Croatia (Hrvatska)\", \"hr\", \"385\"],\n  [\"Cuba\", \"cu\", \"53\"],\n  [\"Curaao\", \"cw\", \"599\", 0],\n  [\"Cyprus ()\", \"cy\", \"357\"],\n  [\"Czech Republic (esk republika)\", \"cz\", \"420\"],\n  [\"Denmark (Danmark)\", \"dk\", \"45\"],\n  [\"Djibouti\", \"dj\", \"253\"],\n  [\"Dominica\", \"dm\", \"1767\"],\n  [\n    \"Dominican Republic (Repblica Dominicana)\",\n    \"do\",\n    \"1\",\n    2,\n    [\"809\", \"829\", \"849\"]\n  ],\n  [\"Ecuador\", \"ec\", \"593\"],\n  [\"Egypt ()\", \"eg\", \"20\"],\n  [\"El Salvador\", \"sv\", \"503\"],\n  [\"Equatorial Guinea (Guinea Ecuatorial)\", \"gq\", \"240\"],\n  [\"Eritrea\", \"er\", \"291\"],\n  [\"Estonia (Eesti)\", \"ee\", \"372\"],\n  [\"Ethiopia\", \"et\", \"251\"],\n  [\"Falkland Islands (Islas Malvinas)\", \"fk\", \"500\"],\n  [\"Faroe Islands (Froyar)\", \"fo\", \"298\"],\n  [\"Fiji\", \"fj\", \"679\"],\n  [\"Finland (Suomi)\", \"fi\", \"358\", 0],\n  [\"France\", \"fr\", \"33\"],\n  [\"French Guiana (Guyane franaise)\", \"gf\", \"594\"],\n  [\"French Polynesia (Polynsie franaise)\", \"pf\", \"689\"],\n  [\"Gabon\", \"ga\", \"241\"],\n  [\"Gambia\", \"gm\", \"220\"],\n  [\"Georgia ()\", \"ge\", \"995\"],\n  [\"Germany (Deutschland)\", \"de\", \"49\"],\n  [\"Ghana (Gaana)\", \"gh\", \"233\"],\n  [\"Gibraltar\", \"gi\", \"350\"],\n  [\"Greece ()\", \"gr\", \"30\"],\n  [\"Greenland (Kalaallit Nunaat)\", \"gl\", \"299\"],\n  [\"Grenada\", \"gd\", \"1473\"],\n  [\"Guadeloupe\", \"gp\", \"590\", 0],\n  [\"Guam\", \"gu\", \"1671\"],\n  [\"Guatemala\", \"gt\", \"502\"],\n  [\"Guernsey\", \"gg\", \"44\", 1],\n  [\"Guinea (Guine)\", \"gn\", \"224\"],\n  [\"Guinea-Bissau (Guin Bissau)\", \"gw\", \"245\"],\n  [\"Guyana\", \"gy\", \"592\"],\n  [\"Haiti\", \"ht\", \"509\"],\n  [\"Honduras\", \"hn\", \"504\"],\n  [\"Hong Kong ()\", \"hk\", \"852\"],\n  [\"Hungary (Magyarorszg)\", \"hu\", \"36\"],\n  [\"Iceland (sland)\", \"is\", \"354\"],\n  [\"India ()\", \"in\", \"91\"],\n  [\"Indonesia\", \"id\", \"62\"],\n  [\"Iran ()\", \"ir\", \"98\"],\n  [\"Iraq ()\", \"iq\", \"964\"],\n  [\"Ireland\", \"ie\", \"353\"],\n  [\"Isle of Man\", \"im\", \"44\", 2],\n  [\"Israel ()\", \"il\", \"972\"],\n  [\"Italy (Italia)\", \"it\", \"39\", 0],\n  [\"Jamaica\", \"jm\", \"1876\"],\n  [\"Japan ()\", \"jp\", \"81\"],\n  [\"Jersey\", \"je\", \"44\", 3],\n  [\"Jordan ()\", \"jo\", \"962\"],\n  [\"Kazakhstan ()\", \"kz\", \"7\", 1],\n  [\"Kenya\", \"ke\", \"254\"],\n  [\"Kiribati\", \"ki\", \"686\"],\n  [\"Kosovo\", \"xk\", \"383\"],\n  [\"Kuwait ()\", \"kw\", \"965\"],\n  [\"Kyrgyzstan ()\", \"kg\", \"996\"],\n  [\"Laos ()\", \"la\", \"856\"],\n  [\"Latvia (Latvija)\", \"lv\", \"371\"],\n  [\"Lebanon ()\", \"lb\", \"961\"],\n  [\"Lesotho\", \"ls\", \"266\"],\n  [\"Liberia\", \"lr\", \"231\"],\n  [\"Libya ()\", \"ly\", \"218\"],\n  [\"Liechtenstein\", \"li\", \"423\"],\n  [\"Lithuania (Lietuva)\", \"lt\", \"370\"],\n  [\"Luxembourg\", \"lu\", \"352\"],\n  [\"Macau ()\", \"mo\", \"853\"],\n  [\"Macedonia (FYROM) ()\", \"mk\", \"389\"],\n  [\"Madagascar (Madagasikara)\", \"mg\", \"261\"],\n  [\"Malawi\", \"mw\", \"265\"],\n  [\"Malaysia\", \"my\", \"60\"],\n  [\"Maldives\", \"mv\", \"960\"],\n  [\"Mali\", \"ml\", \"223\"],\n  [\"Malta\", \"mt\", \"356\"],\n  [\"Marshall Islands\", \"mh\", \"692\"],\n  [\"Martinique\", \"mq\", \"596\"],\n  [\"Mauritania ()\", \"mr\", \"222\"],\n  [\"Mauritius (Moris)\", \"mu\", \"230\"],\n  [\"Mayotte\", \"yt\", \"262\", 1],\n  [\"Mexico (Mxico)\", \"mx\", \"52\"],\n  [\"Micronesia\", \"fm\", \"691\"],\n  [\"Moldova (Republica Moldova)\", \"md\", \"373\"],\n  [\"Monaco\", \"mc\", \"377\"],\n  [\"Mongolia ()\", \"mn\", \"976\"],\n  [\"Montenegro (Crna Gora)\", \"me\", \"382\"],\n  [\"Montserrat\", \"ms\", \"1664\"],\n  [\"Morocco ()\", \"ma\", \"212\", 0],\n  [\"Mozambique (Moambique)\", \"mz\", \"258\"],\n  [\"Myanmar (Burma) ()\", \"mm\", \"95\"],\n  [\"Namibia (Namibi)\", \"na\", \"264\"],\n  [\"Nauru\", \"nr\", \"674\"],\n  [\"Nepal ()\", \"np\", \"977\"],\n  [\"Netherlands (Nederland)\", \"nl\", \"31\"],\n  [\"New Caledonia (Nouvelle-Caldonie)\", \"nc\", \"687\"],\n  [\"New Zealand\", \"nz\", \"64\"],\n  [\"Nicaragua\", \"ni\", \"505\"],\n  [\"Niger (Nijar)\", \"ne\", \"227\"],\n  [\"Nigeria\", \"ng\", \"234\"],\n  [\"Niue\", \"nu\", \"683\"],\n  [\"Norfolk Island\", \"nf\", \"672\"],\n  [\"North Korea (   )\", \"kp\", \"850\"],\n  [\"Northern Mariana Islands\", \"mp\", \"1670\"],\n  [\"Norway (Norge)\", \"no\", \"47\", 0],\n  [\"Oman ()\", \"om\", \"968\"],\n  [\"Pakistan ()\", \"pk\", \"92\"],\n  [\"Palau\", \"pw\", \"680\"],\n  [\"Palestine ()\", \"ps\", \"970\"],\n  [\"Panama (Panam)\", \"pa\", \"507\"],\n  [\"Papua New Guinea\", \"pg\", \"675\"],\n  [\"Paraguay\", \"py\", \"595\"],\n  [\"Peru (Per)\", \"pe\", \"51\"],\n  [\"Philippines\", \"ph\", \"63\"],\n  [\"Poland (Polska)\", \"pl\", \"48\"],\n  [\"Portugal\", \"pt\", \"351\"],\n  [\"Puerto Rico\", \"pr\", \"1\", 3, [\"787\", \"939\"]],\n  [\"Qatar ()\", \"qa\", \"974\"],\n  [\"Runion (La Runion)\", \"re\", \"262\", 0],\n  [\"Romania (Romnia)\", \"ro\", \"40\"],\n  [\"Russia ()\", \"ru\", \"7\", 0],\n  [\"Rwanda\", \"rw\", \"250\"],\n  [\"Saint Barthlemy\", \"bl\", \"590\", 1],\n  [\"Saint Helena\", \"sh\", \"290\"],\n  [\"Saint Kitts and Nevis\", \"kn\", \"1869\"],\n  [\"Saint Lucia\", \"lc\", \"1758\"],\n  [\"Saint Martin (Saint-Martin (partie franaise))\", \"mf\", \"590\", 2],\n  [\"Saint Pierre and Miquelon (Saint-Pierre-et-Miquelon)\", \"pm\", \"508\"],\n  [\"Saint Vincent and the Grenadines\", \"vc\", \"1784\"],\n  [\"Samoa\", \"ws\", \"685\"],\n  [\"San Marino\", \"sm\", \"378\"],\n  [\"So Tom and Prncipe (So Tom e Prncipe)\", \"st\", \"239\"],\n  [\"Saudi Arabia (  )\", \"sa\", \"966\"],\n  [\"Senegal (Sngal)\", \"sn\", \"221\"],\n  [\"Serbia ()\", \"rs\", \"381\"],\n  [\"Seychelles\", \"sc\", \"248\"],\n  [\"Sierra Leone\", \"sl\", \"232\"],\n  [\"Singapore\", \"sg\", \"65\"],\n  [\"Sint Maarten\", \"sx\", \"1721\"],\n  [\"Slovakia (Slovensko)\", \"sk\", \"421\"],\n  [\"Slovenia (Slovenija)\", \"si\", \"386\"],\n  [\"Solomon Islands\", \"sb\", \"677\"],\n  [\"Somalia (Soomaaliya)\", \"so\", \"252\"],\n  [\"South Africa\", \"za\", \"27\"],\n  [\"South Korea ()\", \"kr\", \"82\"],\n  [\"South Sudan ( )\", \"ss\", \"211\"],\n  [\"Spain (Espaa)\", \"es\", \"34\"],\n  [\"Sri Lanka ( )\", \"lk\", \"94\"],\n  [\"Sudan ()\", \"sd\", \"249\"],\n  [\"Suriname\", \"sr\", \"597\"],\n  [\"Svalbard and Jan Mayen\", \"sj\", \"47\", 1],\n  [\"Swaziland\", \"sz\", \"268\"],\n  [\"Sweden (Sverige)\", \"se\", \"46\"],\n  [\"Switzerland (Schweiz)\", \"ch\", \"41\"],\n  [\"Syria ()\", \"sy\", \"963\"],\n  [\"Taiwan ()\", \"tw\", \"886\"],\n  [\"Tajikistan\", \"tj\", \"992\"],\n  [\"Tanzania\", \"tz\", \"255\"],\n  [\"Thailand ()\", \"th\", \"66\"],\n  [\"Timor-Leste\", \"tl\", \"670\"],\n  [\"Togo\", \"tg\", \"228\"],\n  [\"Tokelau\", \"tk\", \"690\"],\n  [\"Tonga\", \"to\", \"676\"],\n  [\"Trinidad and Tobago\", \"tt\", \"1868\"],\n  [\"Tunisia ()\", \"tn\", \"216\"],\n  [\"Turkey (Trkiye)\", \"tr\", \"90\"],\n  [\"Turkmenistan\", \"tm\", \"993\"],\n  [\"Turks and Caicos Islands\", \"tc\", \"1649\"],\n  [\"Tuvalu\", \"tv\", \"688\"],\n  [\"U.S. Virgin Islands\", \"vi\", \"1340\"],\n  [\"Uganda\", \"ug\", \"256\"],\n  [\"Ukraine ()\", \"ua\", \"380\"],\n  [\"United Arab Emirates (  )\", \"ae\", \"971\"],\n  [\"United Kingdom\", \"gb\", \"44\", 0],\n  [\"United States\", \"us\", \"1\", 0],\n  [\"Uruguay\", \"uy\", \"598\"],\n  [\"Uzbekistan (Ozbekiston)\", \"uz\", \"998\"],\n  [\"Vanuatu\", \"vu\", \"678\"],\n  [\"Vatican City (Citt del Vaticano)\", \"va\", \"39\", 1],\n  [\"Venezuela\", \"ve\", \"58\"],\n  [\"Vietnam (Vit Nam)\", \"vn\", \"84\"],\n  [\"Wallis and Futuna (Wallis-et-Futuna)\", \"wf\", \"681\"],\n  [\"Western Sahara ( )\", \"eh\", \"212\", 1],\n  [\"Yemen ()\", \"ye\", \"967\"],\n  [\"Zambia\", \"zm\", \"260\"],\n  [\"Zimbabwe\", \"zw\", \"263\"],\n  [\"land Islands\", \"ax\", \"358\", 1]\n];\n\nexport default allCountries.map(country => ({\n  name: country[0],\n  iso2: country[1],\n  dialCode: country[2],\n  priority: country[3] || 0,\n  areaCodes: country[4] || null\n}));\n","<template>\n  <div :class=\"[ 'login-form', {'has-error' : !!getErrorMessage } ]\">\n    <form class=\"login-form__form\" @submit.prevent=\"login\">\n      <label\n        class=\"login-form__label\">\n        <span v-if=\"!isPhoneApproved\">  : </span>\n        <span v-else class=\"login-form__title\">    :</span>\n        <div class=\"login-form__check\" v-if=\"!isPhoneApproved\">\n          <i :class=\"['flag-icon','flag-icon-' + country, isPhoneApproved && 'flag-icon--reverse']\"></i>\n          <imask-input\n            ref=\"phone\"\n            class=\"login-form__input phone-input\"\n            v-model=\"phone\"\n            :mask=\"mask\"\n            :unmask=\"false\"\n            inputmode=\"numeric\"\n          />\n        </div>\n        <div class=\"login-form__check\" v-else>\n          <imask-input\n            ref=\"password\"\n            class=\"login-form__input login-form__input--password\"\n            v-model=\"password\"\n            inputmode=\"numeric\"\n            type=\"password\"\n          />\n        </div>\n      </label>\n      <button class=\"login-form__btn\" type=\"submit\" :disabled=\"loading\">\n        {{ loading ? \"\" : isPhoneApproved ? '': '' }}\n      </button>\n    </form>\n    <div class=\"login-form__notif\">{{ getErrorMessage }}</div>\n  </div>\n</template>\n\n<script>\n  import {IMaskComponent} from \"vue-imask\";\n  import {mapActions, mapGetters} from \"vuex\";\n  import allCountries from \"../../constants/country.codes\";\n\n  export default {\n    name: \"LoginForm\",\n    data() {\n      return {\n        password: process.env.NODE_ENV === \"production\" ? \"\" : \"000000\",\n        phone: process.env.NODE_ENV === \"production\" ? \"\" : \"380633076719\",\n        country: \"\",\n        mask: \"+000000000000000\",\n        loading: false\n      }\n    },\n    components: {\n      \"imask-input\": IMaskComponent\n    },\n    methods: {\n      ...mapActions([\"AUTH_REQUEST\", \"AUTH_LOGIN\"]),\n\n      getCountry: function() {\n        if (this.phone.length > 1) {\n          const country = allCountries.filter(el =>\n            !parseFloat(this.phone).toString().indexOf(el.dialCode));\n          if (country.length > 1) {\n            const sorted = country.slice().sort((a, b) => parseFloat(b.priority)\n              ? 0 : parseFloat(a.priority) > parseFloat(b.priority)\n                ? 1 : -1);\n            this.country = sorted[country.length - 1].iso2;\n            return\n          } else {\n            if (country.length > 0) this.country = country[0].iso2;\n          }\n        }\n      },\n\n      login() {\n        const { password, phone } = this;\n        this.loading = true;\n        this.isPhoneApproved\n          ? this.AUTH_LOGIN({ password, phone }).then(() => (this.loading = false))\n          : this.AUTH_REQUEST(phone).then(() => { this.loading = false; });\n      }\n    },\n    computed: {\n      ...mapGetters([\"isPhoneApproved\", \"getErrorMessage\"])\n    },\n\n    watch: {\n      phone: function() {\n        this.getCountry();\n      }\n    },\n  }\n</script>\n\n<style scoped lang=\"scss\">\n  .away {\n    animation: flag-reveal;\n  }\n  .flag-icon {\n    position: absolute;\n    top: 50%;\n    font-size: 2rem;\n    border-radius: .8rem;\n    left: 2rem;\n    margin: 0;\n    transition: .3s ease-in-out;\n    animation: flag-reveal ;\n    animation-duration: 0.3s;\n    animation-timing-function: ease-in-out;\n    transform-origin: top;\n    transform: translateY(-50%);\n    &--reverse {\n      opacity: 0;\n      transition: .15s ease-out;\n    }\n  }\n  .login-form {\n    width: 100%;\n    position: relative;\n\n    &__form {\n      display: flex;\n      flex-direction: column;\n      width: 100%;\n      align-items: center;\n      transition: 0.2s ease-in-out;\n    }\n\n\n\n    &__check {\n      position: relative;\n      display: flex;\n      flex-direction: column;\n      margin-bottom: 4rem;\n      width: 100%;\n      max-width: 28rem;\n      height: 4.8rem;\n\n\n    }\n    &__label {\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      width: 100%;\n\n      span {\n        transition: 0.3s ease-in-out;\n        animation: reveal-form;\n        animation-duration: 0.3s;\n        animation-timing-function: ease-in-out;\n        animation-delay: .85s;\n        animation-fill-mode: forwards;\n        transform-origin: top;\n        margin-bottom: 1rem;\n        color: $grey;\n        opacity: 0;\n        transform: translate(0, -50%);\n        font-family: \"Rubik\", sans-serif;\n\n        &.login-form__title {\n          animation-delay: 0s;\n        }\n      }\n    }\n    &__input,\n    &__btn {\n      animation: reveal-form;\n      animation-duration: 0.4s;\n      animation-timing-function: ease-in-out;\n      animation-fill-mode: forwards;\n      transform-origin: top;\n      animation-delay: .85s;\n      opacity: 0;\n      transform: translate(0, -50%);\n    }\n\n    &__input {\n      background: rgba($white, 0.05);\n      box-shadow: 0 0.1rem 0.8rem rgba($shadow-color, 0.02);\n      border-radius: 3.7rem;\n      border: 1px solid rgba($white, 0.04);\n      height: 4.8rem;\n      padding: 1.4rem 2rem;\n      max-width: 28rem;\n      width: 100%;\n      box-sizing: border-box;\n      text-align: center;\n      font-size: 1.6rem;\n      color: rgba($white, 0.8);\n      transition: .3s ease-in-out;\n      .login-form__check {\n        .flag-icon {\n          opacity: 1;\n        }\n      }\n      &::placeholder {\n        color: $white;\n        transition: border 0.3s ease-in-out;\n        opacity: 1;\n      }\n\n      &:focus {\n        box-shadow: 0 0.1rem 0.8rem rgba($shadow-color, 0.06);\n        border: 1px solid rgba($white, 0.12);\n        &::placeholder {\n          opacity: 0.1;\n        }\n      }\n\n      &--password {\n        transform: translate(0, -10%);\n        opacity: 0;\n        animation: reveal-form;\n        animation-duration: 0.3s;\n        animation-timing-function: ease-in-out;\n        animation-fill-mode: forwards;\n        transform-origin: top;\n        .login-form__check {\n          .flag-icon {\n            opacity: 0;\n          }\n        }\n      }\n\n    }\n    &__notif {\n      color: red;\n      position: absolute;\n      top: 8.5rem;\n      font-family: \"Roboto\", sans-serif;\n      font-size: 1.2rem;\n      transform: translateX(-50%);\n      left: 50%;\n      opacity: 1;\n      transition: 0.3s ease-in-out;\n    }\n\n    &__text {\n      color: $grey;\n      font-size: 1.4rem;\n      text-decoration: none;\n      cursor: pointer;\n      opacity: 0.5;\n      margin-bottom: 4rem;\n      text-transform: lowercase;\n      transition: 0.25s ease-in-out;\n      padding: 1.5rem 0;\n      @include desktop-lg {\n        margin-bottom: 12rem;\n      }\n      &:hover {\n        color: rgba($white, 0.8);\n      }\n    }\n\n    &__title {\n      animation: reveal-form;\n      animation-duration: .3s;\n      animation-delay: 0s;\n    }\n\n    &__btn {\n      color: $white;\n      background: $main;\n      box-shadow: 0 0.1rem 0.8rem rgba($shadow-color, 0.1);\n      border-radius: 3.7rem;\n      overflow: hidden;\n      height: 4.8rem;\n      box-sizing: border-box;\n      padding: 0 1.4rem;\n      font-weight: 500;\n      font-size: 1.8rem;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      cursor: pointer;\n      max-width: 23rem;\n      width: 100%;\n      transition: 0.3s ease-in-out;\n      border: none;\n      &:hover {\n        background: $main-hover;\n      }\n    }\n  }\n\n  .has-error {\n    .login-form__input {\n      border-color: rgba(132, 30, 30, 0.5);\n      &:not(:focus) {\n        background: rgba(236, 34, 34, 0.05);\n        &::placeholder {\n          color: rgba(255, 190, 183, 0.84);\n        }\n      }\n    }\n    .login-form__notif {\n      opacity: 1;\n      transition: 0.3s ease-in-out;\n    }\n  }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=53d92f7c&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=53d92f7c&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"53d92f7c\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"main-loader\" v-if=\"enableLoader\"></div>\n  <div class=\"auth\" v-else>\n    <img class=\"auth__img\" src=\"../assets/crystal.png\" alt=\"crystal\" />\n    <img class=\"auth__logo\" src=\"../assets/logo.svg\" alt=\"ARTDOCK\" />\n    <LoginForm></LoginForm>\n  </div>\n</template>\n\n<script>\n  import LoginForm from \"../components/login-form\"\n  import { mapGetters, mapActions } from \"vuex\";\n  export default {\n  name: \"Login\",\n    data() {\n      return {\n        loading: false,\n        enableLoader: false\n      }\n    },\n    components: {\n      LoginForm\n    },\n    methods: {\n      ...mapActions(['DATA_REQUEST']),\n      ...mapGetters(['isChartDataLoaded', 'getChartData'])\n    },\n    async beforeRouteLeave(to,from,next) {\n      this.enableLoader = true;\n      const response = await this.DATA_REQUEST()\n\n      if (this.isChartDataLoaded()) {\n        console.log(this.getChartData())\n        this.enableLoader = false;\n        return next();\n      }\n\n    }\n  }\n</script>\n\n<style scoped lang=\"scss\">\n.auth {\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n  flex-shrink: 0;\n  width: 100%;\n  height: 100%;\n  margin-top: -7rem;\n\n  &__img {\n    height: auto;\n    max-height: 15.5rem;\n    max-width: 18.85rem;\n    width: 100%;\n    margin: -2rem auto 1rem;\n    position: relative;\n    left: -3rem;\n    animation: reveal-top;\n    animation-duration: 1s;\n    animation-timing-function: cubic-bezier(0.78, 0.13, 0, 0.97);\n    animation-fill-mode: forwards;\n    transform: translate(0, -100%);\n    opacity: 0;\n\n    @include tablet {\n      max-height: 20.5rem;\n      max-width: 24.85rem;\n      margin: -3rem auto 3rem;\n\n    }\n  }\n  &__logo {\n    margin-left: auto;\n    margin-right: auto;\n    max-width: 22.7rem;\n    width: 100%;\n    height: auto;\n    margin-bottom: 7rem;\n    animation: reveal-logo;\n    animation-duration: 0.35s;\n    animation-delay: 0.75s;\n    animation-timing-function: cubic-bezier(0, 0.82, 0.86, 0.85);\n    animation-fill-mode: forwards;\n    transform-origin: top;\n    transform: scaleY(0);\n    opacity: 0;\n    @include tablet {\n      margin-bottom: 10rem;\n    }\n    @include desktop-lg {\n      margin-bottom: 12rem;\n    }\n    @include desktop-lg {\n      margin-bottom: 5%;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=0bb4e1a5&scoped=true&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=0bb4e1a5&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0bb4e1a5\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=53d92f7c&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=53d92f7c&scoped=true&lang=scss&\"","'use strict';\nvar $ = require('../internals/export');\nvar isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar createProperty = require('../internals/create-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('slice');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('slice', { ACCESSORS: true, 0: 0, 1: 2 });\n\nvar SPECIES = wellKnownSymbol('species');\nvar nativeSlice = [].slice;\nvar max = Math.max;\n\n// `Array.prototype.slice` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.slice\n// fallback for not array-like ES3 strings and DOM objects\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  slice: function slice(start, end) {\n    var O = toIndexedObject(this);\n    var length = toLength(O.length);\n    var k = toAbsoluteIndex(start, length);\n    var fin = toAbsoluteIndex(end === undefined ? length : end, length);\n    // inline `ArraySpeciesCreate` for usage native `Array#slice` where it's possible\n    var Constructor, result, n;\n    if (isArray(O)) {\n      Constructor = O.constructor;\n      // cross-realm fallback\n      if (typeof Constructor == 'function' && (Constructor === Array || isArray(Constructor.prototype))) {\n        Constructor = undefined;\n      } else if (isObject(Constructor)) {\n        Constructor = Constructor[SPECIES];\n        if (Constructor === null) Constructor = undefined;\n      }\n      if (Constructor === Array || Constructor === undefined) {\n        return nativeSlice.call(O, k, fin);\n      }\n    }\n    result = new (Constructor === undefined ? Array : Constructor)(max(fin - k, 0));\n    for (n = 0; k < fin; k++, n++) if (k in O) createProperty(result, n, O[k]);\n    result.length = n;\n    return result;\n  }\n});\n"],"sourceRoot":""}