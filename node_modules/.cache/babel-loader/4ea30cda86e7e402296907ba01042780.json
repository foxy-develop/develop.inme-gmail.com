{"remainingRequest":"/Users/Front-End/Desktop/cp-v1.2/node_modules/babel-loader/lib/index.js!/Users/Front-End/Desktop/cp-v1.2/src/store/modules/auth.js","dependencies":[{"path":"/Users/Front-End/Desktop/cp-v1.2/src/store/modules/auth.js","mtime":1585520377000},{"path":"/Users/Front-End/Desktop/cp-v1.2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Front-End/Desktop/cp-v1.2/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICIvVXNlcnMvRnJvbnQtRW5kL0Rlc2t0b3AvY3AtdjEuMi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvVXNlcnMvRnJvbnQtRW5kL0Rlc2t0b3AvY3AtdjEuMi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7Cgp2YXIgX2FjdGlvbnMsIF9tdXRhdGlvbnM7CgovKiBlc2xpbnQtZGlzYWJsZSBwcm9taXNlL3BhcmFtLW5hbWVzICovCmltcG9ydCB7IEFVVEhfUkVRVUVTVCwgQVVUSF9FUlJPUiwgQVVUSF9MT0dJTiwgQVVUSF9TVUNDRVNTLCBBVVRIX0xPR09VVCB9IGZyb20gIi4uL2FjdGlvbnMvYXV0aCI7CmltcG9ydCBBdXRoU2VydmljZSBmcm9tICIuLi8uLi9hcGkvYXV0aC5zZXJ2aWNlIjsKaW1wb3J0IHJvdXRlciBmcm9tICIuLi8uLi9yb3V0ZXIiOwp2YXIgc3RhdGUgPSB7CiAgc3RhdHVzOiBmYWxzZSwKICBlcnJvck1lc3NhZ2U6IG51bGwsCiAgcGhvbmU6IG51bGwsCiAgc2hvd1VJOiBmYWxzZQp9Owp2YXIgZ2V0dGVycyA9IHsKICBpc1Bob25lQXBwcm92ZWQ6IGZ1bmN0aW9uIGlzUGhvbmVBcHByb3ZlZChzdGF0ZSkgewogICAgcmV0dXJuIHN0YXRlLnBob25lOwogIH0sCiAgZ2V0RXJyb3JNZXNzYWdlOiBmdW5jdGlvbiBnZXRFcnJvck1lc3NhZ2Uoc3RhdGUpIHsKICAgIHJldHVybiBzdGF0ZS5lcnJvck1lc3NhZ2U7CiAgfSwKICBpc1Nob3dVSTogZnVuY3Rpb24gaXNTaG93VUkoc3RhdGUpIHsKICAgIHJldHVybiBzdGF0ZS5zaG93VUk7CiAgfQp9Owp2YXIgYWN0aW9ucyA9IChfYWN0aW9ucyA9IHt9LCBfZGVmaW5lUHJvcGVydHkoX2FjdGlvbnMsIEFVVEhfUkVRVUVTVCwgZnVuY3Rpb24gKCkgewogIHZhciBfcmVmMiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShfcmVmLCBwaG9uZSkgewogICAgdmFyIGNvbW1pdCwgcjsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgY29tbWl0ID0gX3JlZi5jb21taXQ7CiAgICAgICAgICAgIGNvbW1pdChBVVRIX1JFUVVFU1QpOwogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgcmV0dXJuIEF1dGhTZXJ2aWNlLmF1dGgocGhvbmUpOwoKICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgciA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgIHIuc3RhdHVzID8gY29tbWl0KEFVVEhfU1VDQ0VTUywgcGhvbmUpIDogY29tbWl0KEFVVEhfRVJST1IsIHIubWVzc2FnZSk7CgogICAgICAgICAgY2FzZSA2OgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWUpOwogIH0pKTsKCiAgcmV0dXJuIGZ1bmN0aW9uIChfeCwgX3gyKSB7CiAgICByZXR1cm4gX3JlZjIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICB9Owp9KCkpLCBfZGVmaW5lUHJvcGVydHkoX2FjdGlvbnMsIEFVVEhfTE9HSU4sIGZ1bmN0aW9uICgpIHsKICB2YXIgX3JlZjUgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKF9yZWYzLCBfcmVmNCkgewogICAgdmFyIGNvbW1pdCwgZGlzcGF0Y2gsIHBhc3N3b3JkLCBwaG9uZSwgcjsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYzLmNvbW1pdCwgZGlzcGF0Y2ggPSBfcmVmMy5kaXNwYXRjaDsKICAgICAgICAgICAgcGFzc3dvcmQgPSBfcmVmNC5wYXNzd29yZCwgcGhvbmUgPSBfcmVmNC5waG9uZTsKICAgICAgICAgICAgY29tbWl0KEFVVEhfUkVRVUVTVCk7CiAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNTsKICAgICAgICAgICAgcmV0dXJuIEF1dGhTZXJ2aWNlLmxvZ2luKHBhc3N3b3JkLCBwaG9uZSk7CgogICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICByID0gX2NvbnRleHQyLnNlbnQ7CgogICAgICAgICAgICBpZiAoci5zdGF0dXMpIHsKICAgICAgICAgICAgICByb3V0ZXIucHVzaCgiLyIpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgY29tbWl0KEFVVEhfU1VDQ0VTUywgci50b2tlbik7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgY29tbWl0KEFVVEhfRVJST1IsIHIubWVzc2FnZSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCByLnN0YXR1cyk7CgogICAgICAgICAgY2FzZSA4OgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlMik7CiAgfSkpOwoKICByZXR1cm4gZnVuY3Rpb24gKF94MywgX3g0KSB7CiAgICByZXR1cm4gX3JlZjUuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICB9Owp9KCkpLCBfZGVmaW5lUHJvcGVydHkoX2FjdGlvbnMsIEFVVEhfTE9HT1VULCBmdW5jdGlvbiAoX3JlZjYpIHsKICB2YXIgY29tbWl0ID0gX3JlZjYuY29tbWl0OwogIEF1dGhTZXJ2aWNlLmxvZ291dCgpOwogIGNvbW1pdChBVVRIX0xPR09VVCk7CiAgcm91dGVyLnB1c2goIi9sb2dpbiIpLnRoZW4oZnVuY3Rpb24gKHIpIHsKICAgIHJldHVybiByOwogIH0pOwp9KSwgX2RlZmluZVByb3BlcnR5KF9hY3Rpb25zLCBBVVRIX0VSUk9SLCBmdW5jdGlvbiAoX3JlZjcsIG1zZykgewogIHZhciBjb21taXQgPSBfcmVmNy5jb21taXQsCiAgICAgIGRpc3BhdGNoID0gX3JlZjcuZGlzcGF0Y2g7CiAgY29tbWl0KEFVVEhfRVJST1IsIG1zZyk7CiAgZGlzcGF0Y2goQVVUSF9MT0dPVVQpOwp9KSwgX2FjdGlvbnMpOwp2YXIgbXV0YXRpb25zID0gKF9tdXRhdGlvbnMgPSB7fSwgX2RlZmluZVByb3BlcnR5KF9tdXRhdGlvbnMsIEFVVEhfUkVRVUVTVCwgZnVuY3Rpb24gKHN0YXRlKSB7CiAgc3RhdGUuc3RhdHVzID0gImxvYWRpbmciOwp9KSwgX2RlZmluZVByb3BlcnR5KF9tdXRhdGlvbnMsIEFVVEhfU1VDQ0VTUywgZnVuY3Rpb24gKHN0YXRlKSB7CiAgc3RhdGUuc3RhdHVzID0gInRydWUiOwogIHN0YXRlLnBob25lID0gdHJ1ZTsKICBzdGF0ZS5lcnJvck1lc3NhZ2UgPSAiIjsKICBzdGF0ZS5zaG93VUkgPSB0cnVlOwp9KSwgX2RlZmluZVByb3BlcnR5KF9tdXRhdGlvbnMsIEFVVEhfRVJST1IsIGZ1bmN0aW9uIChzdGF0ZSwgbXNnKSB7CiAgc3RhdGUuZXJyb3JNZXNzYWdlID0gbXNnOwogIHN0YXRlLnN0YXR1cyA9ICJmYWxzZSI7Cn0pLCBfZGVmaW5lUHJvcGVydHkoX211dGF0aW9ucywgQVVUSF9MT0dPVVQsIGZ1bmN0aW9uICgpIHsKICBzdGF0ZS50b2tlbiA9IG51bGw7CiAgc3RhdGUucGhvbmUgPSBmYWxzZTsKICBzdGF0ZS5lcnJvck1lc3NhZ2UgPSBudWxsOwogIHN0YXRlLnNob3dVSSA9IGZhbHNlOwp9KSwgX211dGF0aW9ucyk7CmV4cG9ydCBkZWZhdWx0IHsKICBzdGF0ZTogc3RhdGUsCiAgZ2V0dGVyczogZ2V0dGVycywKICBhY3Rpb25zOiBhY3Rpb25zLAogIG11dGF0aW9uczogbXV0YXRpb25zCn07"},{"version":3,"sources":["/Users/Front-End/Desktop/cp-v1.2/src/store/modules/auth.js"],"names":["AUTH_REQUEST","AUTH_ERROR","AUTH_LOGIN","AUTH_SUCCESS","AUTH_LOGOUT","AuthService","router","state","status","errorMessage","phone","showUI","getters","isPhoneApproved","getErrorMessage","isShowUI","actions","commit","auth","r","message","dispatch","password","login","push","then","token","logout","msg","mutations"],"mappings":";;;;;;AACA;AACA,SACEA,YADF,EAEEC,UAFF,EAGEC,UAHF,EAIEC,YAJF,EAKEC,WALF,QAMO,iBANP;AAQA,OAAOC,WAAP,MAAwB,wBAAxB;AACA,OAAOC,MAAP,MAAmB,cAAnB;AAEA,IAAMC,KAAK,GAAG;AACZC,EAAAA,MAAM,EAAE,KADI;AAEZC,EAAAA,YAAY,EAAE,IAFF;AAGZC,EAAAA,KAAK,EAAE,IAHK;AAIZC,EAAAA,MAAM,EAAE;AAJI,CAAd;AAOA,IAAMC,OAAO,GAAG;AACdC,EAAAA,eAAe,EAAE,yBAAAN,KAAK;AAAA,WAAIA,KAAK,CAACG,KAAV;AAAA,GADR;AAEdI,EAAAA,eAAe,EAAE,yBAAAP,KAAK;AAAA,WAAIA,KAAK,CAACE,YAAV;AAAA,GAFR;AAGdM,EAAAA,QAAQ,EAAE,kBAAAR,KAAK;AAAA,WAAIA,KAAK,CAACI,MAAV;AAAA;AAHD,CAAhB;AAMA,IAAMK,OAAO,6CACVhB,YADU;AAAA,sEACK,uBAAmBU,KAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAASO,YAAAA,MAAT,QAASA,MAAT;AACdA,YAAAA,MAAM,CAACjB,YAAD,CAAN;AADc;AAAA,mBAEEK,WAAW,CAACa,IAAZ,CAAiBR,KAAjB,CAFF;;AAAA;AAERS,YAAAA,CAFQ;AAGdA,YAAAA,CAAC,CAACX,MAAF,GAAWS,MAAM,CAACd,YAAD,EAAeO,KAAf,CAAjB,GAAyCO,MAAM,CAAChB,UAAD,EAAakB,CAAC,CAACC,OAAf,CAA/C;;AAHc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GADL;;AAAA;AAAA;AAAA;AAAA,gCAMVlB,UANU;AAAA,sEAMG;AAAA;AAAA;AAAA;AAAA;AAAA;AAASe,YAAAA,MAAT,SAASA,MAAT,EAAiBI,QAAjB,SAAiBA,QAAjB;AAA+BC,YAAAA,QAA/B,SAA+BA,QAA/B,EAAyCZ,KAAzC,SAAyCA,KAAzC;AACZO,YAAAA,MAAM,CAACjB,YAAD,CAAN;AADY;AAAA,mBAEIK,WAAW,CAACkB,KAAZ,CAAkBD,QAAlB,EAA4BZ,KAA5B,CAFJ;;AAAA;AAENS,YAAAA,CAFM;;AAGZ,gBAAIA,CAAC,CAACX,MAAN,EAAc;AACZF,cAAAA,MAAM,CAACkB,IAAP,CAAY,GAAZ,EAAiBC,IAAjB,CAAsB,YAAW;AAC/BR,gBAAAA,MAAM,CAACd,YAAD,EAAegB,CAAC,CAACO,KAAjB,CAAN;AACD,eAFD;AAGD,aAJD,MAIO;AACLT,cAAAA,MAAM,CAAChB,UAAD,EAAakB,CAAC,CAACC,OAAf,CAAN;AACD;;AATW,8CAULD,CAAC,CAACX,MAVG;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GANH;;AAAA;AAAA;AAAA;AAAA,gCAkBVJ,WAlBU,EAkBI,iBAAgB;AAAA,MAAba,MAAa,SAAbA,MAAa;AAC7BZ,EAAAA,WAAW,CAACsB,MAAZ;AACAV,EAAAA,MAAM,CAACb,WAAD,CAAN;AACAE,EAAAA,MAAM,CAACkB,IAAP,CAAY,QAAZ,EAAsBC,IAAtB,CAA2B,UAAAN,CAAC;AAAA,WAAIA,CAAJ;AAAA,GAA5B;AACD,CAtBU,6BAuBVlB,UAvBU,EAuBG,iBAAuB2B,GAAvB,EAA+B;AAAA,MAA5BX,MAA4B,SAA5BA,MAA4B;AAAA,MAApBI,QAAoB,SAApBA,QAAoB;AAC3CJ,EAAAA,MAAM,CAAChB,UAAD,EAAa2B,GAAb,CAAN;AACAP,EAAAA,QAAQ,CAACjB,WAAD,CAAR;AACD,CA1BU,YAAb;AA6BA,IAAMyB,SAAS,iDACZ7B,YADY,EACG,UAAAO,KAAK,EAAI;AACvBA,EAAAA,KAAK,CAACC,MAAN,GAAe,SAAf;AACD,CAHY,+BAIZL,YAJY,EAIG,UAAAI,KAAK,EAAI;AACvBA,EAAAA,KAAK,CAACC,MAAN,GAAe,MAAf;AACAD,EAAAA,KAAK,CAACG,KAAN,GAAc,IAAd;AACAH,EAAAA,KAAK,CAACE,YAAN,GAAqB,EAArB;AAEAF,EAAAA,KAAK,CAACI,MAAN,GAAe,IAAf;AACD,CAVY,+BAWZV,UAXY,EAWC,UAACM,KAAD,EAAQqB,GAAR,EAAgB;AAC5BrB,EAAAA,KAAK,CAACE,YAAN,GAAqBmB,GAArB;AACArB,EAAAA,KAAK,CAACC,MAAN,GAAe,OAAf;AAED,CAfY,+BAgBZJ,WAhBY,EAgBE,YAAM;AACnBG,EAAAA,KAAK,CAACmB,KAAN,GAAc,IAAd;AACAnB,EAAAA,KAAK,CAACG,KAAN,GAAc,KAAd;AACAH,EAAAA,KAAK,CAACE,YAAN,GAAqB,IAArB;AACAF,EAAAA,KAAK,CAACI,MAAN,GAAe,KAAf;AACD,CArBY,cAAf;AAwBA,eAAe;AACbJ,EAAAA,KAAK,EAALA,KADa;AAEbK,EAAAA,OAAO,EAAPA,OAFa;AAGbI,EAAAA,OAAO,EAAPA,OAHa;AAIba,EAAAA,SAAS,EAATA;AAJa,CAAf","sourcesContent":["\n/* eslint-disable promise/param-names */\nimport {\n  AUTH_REQUEST,\n  AUTH_ERROR,\n  AUTH_LOGIN,\n  AUTH_SUCCESS,\n  AUTH_LOGOUT\n} from \"../actions/auth\";\n\nimport AuthService from \"../../api/auth.service\";\nimport router from \"../../router\";\n\nconst state = {\n  status: false,\n  errorMessage: null,\n  phone: null,\n  showUI: false\n};\n\nconst getters = {\n  isPhoneApproved: state => state.phone,\n  getErrorMessage: state => state.errorMessage,\n  isShowUI: state => state.showUI\n};\n\nconst actions = {\n  [AUTH_REQUEST]: async ({ commit }, phone) => {\n    commit(AUTH_REQUEST);\n    const r = await AuthService.auth(phone);\n    r.status ? commit(AUTH_SUCCESS, phone) : commit(AUTH_ERROR, r.message);\n  },\n  [AUTH_LOGIN]: async ({ commit, dispatch }, { password, phone }) => {\n    commit(AUTH_REQUEST);\n    const r = await AuthService.login(password, phone);\n    if (r.status) {\n      router.push(\"/\").then(function() {\n        commit(AUTH_SUCCESS, r.token);\n      });\n    } else {\n      commit(AUTH_ERROR, r.message);\n    }\n    return r.status;\n  },\n  [AUTH_LOGOUT]: ({ commit }) => {\n    AuthService.logout();\n    commit(AUTH_LOGOUT);\n    router.push(\"/login\").then(r => r);\n  },\n  [AUTH_ERROR]: ({ commit, dispatch }, msg) => {\n    commit(AUTH_ERROR, msg);\n    dispatch(AUTH_LOGOUT);\n  }\n};\n\nconst mutations = {\n  [AUTH_REQUEST]: state => {\n    state.status = \"loading\";\n  },\n  [AUTH_SUCCESS]: state => {\n    state.status = \"true\";\n    state.phone = true;\n    state.errorMessage = \"\";\n\n    state.showUI = true;\n  },\n  [AUTH_ERROR]: (state, msg) => {\n    state.errorMessage = msg;\n    state.status = \"false\";\n\n  },\n  [AUTH_LOGOUT]: () => {\n    state.token = null;\n    state.phone = false;\n    state.errorMessage = null;\n    state.showUI = false;\n  }\n};\n\nexport default {\n  state,\n  getters,\n  actions,\n  mutations\n};\n"]}]}