{"remainingRequest":"/Users/Front-End/Desktop/cp-v1.2/node_modules/babel-loader/lib/index.js!/Users/Front-End/Desktop/cp-v1.2/src/store/modules/auth.js","dependencies":[{"path":"/Users/Front-End/Desktop/cp-v1.2/src/store/modules/auth.js","mtime":1585515456000},{"path":"/Users/Front-End/Desktop/cp-v1.2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Front-End/Desktop/cp-v1.2/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICIvVXNlcnMvRnJvbnQtRW5kL0Rlc2t0b3AvY3AtdjEuMi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvVXNlcnMvRnJvbnQtRW5kL0Rlc2t0b3AvY3AtdjEuMi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7Cgp2YXIgX2FjdGlvbnMsIF9tdXRhdGlvbnM7CgovKiBlc2xpbnQtZGlzYWJsZSBwcm9taXNlL3BhcmFtLW5hbWVzICovCmltcG9ydCB7IEFVVEhfUkVRVUVTVCwgQVVUSF9FUlJPUiwgQVVUSF9MT0dJTiwgQVVUSF9TVUNDRVNTLCBBVVRIX0xPR09VVCB9IGZyb20gIi4uL2FjdGlvbnMvYXV0aCI7CmltcG9ydCBBdXRoU2VydmljZSBmcm9tICIuLi8uLi9hcGkvYXV0aC5zZXJ2aWNlIjsKaW1wb3J0IHJvdXRlciBmcm9tICIuLi8uLi9yb3V0ZXIiOwp2YXIgc3RhdGUgPSB7CiAgc3RhdHVzOiBmYWxzZSwKICBlcnJvck1lc3NhZ2U6IG51bGwsCiAgcGhvbmU6IG51bGwKfTsKdmFyIGdldHRlcnMgPSB7CiAgaXNQaG9uZUFwcHJvdmVkOiBmdW5jdGlvbiBpc1Bob25lQXBwcm92ZWQoc3RhdGUpIHsKICAgIHJldHVybiBzdGF0ZS5waG9uZTsKICB9LAogIGdldEVycm9yTWVzc2FnZTogZnVuY3Rpb24gZ2V0RXJyb3JNZXNzYWdlKHN0YXRlKSB7CiAgICByZXR1cm4gc3RhdGUuZXJyb3JNZXNzYWdlOwogIH0KfTsKdmFyIGFjdGlvbnMgPSAoX2FjdGlvbnMgPSB7fSwgX2RlZmluZVByb3BlcnR5KF9hY3Rpb25zLCBBVVRIX1JFUVVFU1QsIGZ1bmN0aW9uICgpIHsKICB2YXIgX3JlZjIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoX3JlZiwgcGhvbmUpIHsKICAgIHZhciBjb21taXQsIHI7CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogICAgICAgICAgICBjb21taXQoQVVUSF9SRVFVRVNUKTsKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgIHJldHVybiBBdXRoU2VydmljZS5hdXRoKHBob25lKTsKCiAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgIHIgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICByLnN0YXR1cyA/IGNvbW1pdChBVVRIX1NVQ0NFU1MsIHBob25lKSA6IGNvbW1pdChBVVRIX0VSUk9SLCByLm1lc3NhZ2UpOwogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCByLnN0YXR1cyk7CgogICAgICAgICAgY2FzZSA3OgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWUpOwogIH0pKTsKCiAgcmV0dXJuIGZ1bmN0aW9uIChfeCwgX3gyKSB7CiAgICByZXR1cm4gX3JlZjIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICB9Owp9KCkpLCBfZGVmaW5lUHJvcGVydHkoX2FjdGlvbnMsIEFVVEhfTE9HSU4sIGZ1bmN0aW9uICgpIHsKICB2YXIgX3JlZjUgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKF9yZWYzLCBfcmVmNCkgewogICAgdmFyIGNvbW1pdCwgZGlzcGF0Y2gsIHBhc3N3b3JkLCBwaG9uZSwgcjsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYzLmNvbW1pdCwgZGlzcGF0Y2ggPSBfcmVmMy5kaXNwYXRjaDsKICAgICAgICAgICAgcGFzc3dvcmQgPSBfcmVmNC5wYXNzd29yZCwgcGhvbmUgPSBfcmVmNC5waG9uZTsKICAgICAgICAgICAgY29tbWl0KEFVVEhfUkVRVUVTVCk7CiAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNTsKICAgICAgICAgICAgcmV0dXJuIEF1dGhTZXJ2aWNlLmxvZ2luKHBhc3N3b3JkLCBwaG9uZSk7CgogICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICByID0gX2NvbnRleHQyLnNlbnQ7CgogICAgICAgICAgICBpZiAoci5zdGF0dXMpIHsKICAgICAgICAgICAgICBjb21taXQoQVVUSF9TVUNDRVNTLCByLnRva2VuKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBjb21taXQoQVVUSF9FUlJPUiwgci5tZXNzYWdlKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIHIuc3RhdHVzKTsKCiAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWUyKTsKICB9KSk7CgogIHJldHVybiBmdW5jdGlvbiAoX3gzLCBfeDQpIHsKICAgIHJldHVybiBfcmVmNS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogIH07Cn0oKSksIF9kZWZpbmVQcm9wZXJ0eShfYWN0aW9ucywgQVVUSF9MT0dPVVQsIGZ1bmN0aW9uIChfcmVmNikgewogIHZhciBjb21taXQgPSBfcmVmNi5jb21taXQ7CiAgQXV0aFNlcnZpY2UubG9nb3V0KCk7CiAgY29tbWl0KEFVVEhfTE9HT1VUKTsKICByb3V0ZXIucHVzaCgiL2xvZ2luIikudGhlbihmdW5jdGlvbiAocikgewogICAgcmV0dXJuIHI7CiAgfSk7Cn0pLCBfZGVmaW5lUHJvcGVydHkoX2FjdGlvbnMsIEFVVEhfRVJST1IsIGZ1bmN0aW9uIChfcmVmNywgbXNnKSB7CiAgdmFyIGNvbW1pdCA9IF9yZWY3LmNvbW1pdCwKICAgICAgZGlzcGF0Y2ggPSBfcmVmNy5kaXNwYXRjaDsKICBjb21taXQoQVVUSF9FUlJPUiwgbXNnKTsKICBkaXNwYXRjaChBVVRIX0xPR09VVCk7Cn0pLCBfYWN0aW9ucyk7CnZhciBtdXRhdGlvbnMgPSAoX211dGF0aW9ucyA9IHt9LCBfZGVmaW5lUHJvcGVydHkoX211dGF0aW9ucywgQVVUSF9SRVFVRVNULCBmdW5jdGlvbiAoc3RhdGUpIHsKICBzdGF0ZS5zdGF0dXMgPSAibG9hZGluZyI7Cn0pLCBfZGVmaW5lUHJvcGVydHkoX211dGF0aW9ucywgQVVUSF9TVUNDRVNTLCBmdW5jdGlvbiAoc3RhdGUpIHsKICBzdGF0ZS5zdGF0dXMgPSAidHJ1ZSI7CiAgc3RhdGUucGhvbmUgPSB0cnVlOwogIHN0YXRlLmVycm9yTWVzc2FnZSA9ICIiOwp9KSwgX2RlZmluZVByb3BlcnR5KF9tdXRhdGlvbnMsIEFVVEhfRVJST1IsIGZ1bmN0aW9uIChzdGF0ZSwgbXNnKSB7CiAgc3RhdGUuZXJyb3JNZXNzYWdlID0gbXNnOwogIHN0YXRlLnN0YXR1cyA9ICJmYWxzZSI7Cn0pLCBfZGVmaW5lUHJvcGVydHkoX211dGF0aW9ucywgQVVUSF9MT0dPVVQsIGZ1bmN0aW9uICgpIHsKICBzdGF0ZS50b2tlbiA9IG51bGw7CiAgc3RhdGUucGhvbmUgPSBmYWxzZTsKICBzdGF0ZS5lcnJvck1lc3NhZ2UgPSBudWxsOwp9KSwgX211dGF0aW9ucyk7CmV4cG9ydCBkZWZhdWx0IHsKICBzdGF0ZTogc3RhdGUsCiAgZ2V0dGVyczogZ2V0dGVycywKICBhY3Rpb25zOiBhY3Rpb25zLAogIG11dGF0aW9uczogbXV0YXRpb25zCn07"},{"version":3,"sources":["/Users/Front-End/Desktop/cp-v1.2/src/store/modules/auth.js"],"names":["AUTH_REQUEST","AUTH_ERROR","AUTH_LOGIN","AUTH_SUCCESS","AUTH_LOGOUT","AuthService","router","state","status","errorMessage","phone","getters","isPhoneApproved","getErrorMessage","actions","commit","auth","r","message","dispatch","password","login","token","logout","push","then","msg","mutations"],"mappings":";;;;;;AACA;AACA,SACEA,YADF,EAEEC,UAFF,EAGEC,UAHF,EAIEC,YAJF,EAKEC,WALF,QAMO,iBANP;AAQA,OAAOC,WAAP,MAAwB,wBAAxB;AACA,OAAOC,MAAP,MAAmB,cAAnB;AAEA,IAAMC,KAAK,GAAG;AACZC,EAAAA,MAAM,EAAE,KADI;AAEZC,EAAAA,YAAY,EAAE,IAFF;AAGZC,EAAAA,KAAK,EAAE;AAHK,CAAd;AAMA,IAAMC,OAAO,GAAG;AACdC,EAAAA,eAAe,EAAE,yBAAAL,KAAK;AAAA,WAAIA,KAAK,CAACG,KAAV;AAAA,GADR;AAEdG,EAAAA,eAAe,EAAE,yBAAAN,KAAK;AAAA,WAAIA,KAAK,CAACE,YAAV;AAAA;AAFR,CAAhB;AAKA,IAAMK,OAAO,6CACVd,YADU;AAAA,sEACK,uBAAmBU,KAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAASK,YAAAA,MAAT,QAASA,MAAT;AACdA,YAAAA,MAAM,CAACf,YAAD,CAAN;AADc;AAAA,mBAEEK,WAAW,CAACW,IAAZ,CAAiBN,KAAjB,CAFF;;AAAA;AAERO,YAAAA,CAFQ;AAGdA,YAAAA,CAAC,CAACT,MAAF,GAAWO,MAAM,CAACZ,YAAD,EAAeO,KAAf,CAAjB,GAAyCK,MAAM,CAACd,UAAD,EAAagB,CAAC,CAACC,OAAf,CAA/C;AAHc,6CAIPD,CAAC,CAACT,MAJK;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GADL;;AAAA;AAAA;AAAA;AAAA,gCAOVN,UAPU;AAAA,sEAOG;AAAA;AAAA;AAAA;AAAA;AAAA;AAASa,YAAAA,MAAT,SAASA,MAAT,EAAiBI,QAAjB,SAAiBA,QAAjB;AAA+BC,YAAAA,QAA/B,SAA+BA,QAA/B,EAAyCV,KAAzC,SAAyCA,KAAzC;AACZK,YAAAA,MAAM,CAACf,YAAD,CAAN;AADY;AAAA,mBAEIK,WAAW,CAACgB,KAAZ,CAAkBD,QAAlB,EAA4BV,KAA5B,CAFJ;;AAAA;AAENO,YAAAA,CAFM;;AAGZ,gBAAIA,CAAC,CAACT,MAAN,EAAc;AACZO,cAAAA,MAAM,CAACZ,YAAD,EAAec,CAAC,CAACK,KAAjB,CAAN;AACD,aAFD,MAEO;AACLP,cAAAA,MAAM,CAACd,UAAD,EAAagB,CAAC,CAACC,OAAf,CAAN;AACD;;AAPW,8CAQLD,CAAC,CAACT,MARG;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAPH;;AAAA;AAAA;AAAA;AAAA,gCAiBVJ,WAjBU,EAiBI,iBAAgB;AAAA,MAAbW,MAAa,SAAbA,MAAa;AAC7BV,EAAAA,WAAW,CAACkB,MAAZ;AACAR,EAAAA,MAAM,CAACX,WAAD,CAAN;AACAE,EAAAA,MAAM,CAACkB,IAAP,CAAY,QAAZ,EAAsBC,IAAtB,CAA2B,UAAAR,CAAC;AAAA,WAAIA,CAAJ;AAAA,GAA5B;AACD,CArBU,6BAsBVhB,UAtBU,EAsBG,iBAAuByB,GAAvB,EAA+B;AAAA,MAA5BX,MAA4B,SAA5BA,MAA4B;AAAA,MAApBI,QAAoB,SAApBA,QAAoB;AAC3CJ,EAAAA,MAAM,CAACd,UAAD,EAAayB,GAAb,CAAN;AACAP,EAAAA,QAAQ,CAACf,WAAD,CAAR;AACD,CAzBU,YAAb;AA4BA,IAAMuB,SAAS,iDACZ3B,YADY,EACG,UAAAO,KAAK,EAAI;AACvBA,EAAAA,KAAK,CAACC,MAAN,GAAe,SAAf;AACD,CAHY,+BAIZL,YAJY,EAIG,UAAAI,KAAK,EAAI;AACvBA,EAAAA,KAAK,CAACC,MAAN,GAAe,MAAf;AACAD,EAAAA,KAAK,CAACG,KAAN,GAAc,IAAd;AACAH,EAAAA,KAAK,CAACE,YAAN,GAAqB,EAArB;AACD,CARY,+BASZR,UATY,EASC,UAACM,KAAD,EAAQmB,GAAR,EAAgB;AAC5BnB,EAAAA,KAAK,CAACE,YAAN,GAAqBiB,GAArB;AACAnB,EAAAA,KAAK,CAACC,MAAN,GAAe,OAAf;AAED,CAbY,+BAcZJ,WAdY,EAcE,YAAM;AACnBG,EAAAA,KAAK,CAACe,KAAN,GAAc,IAAd;AACAf,EAAAA,KAAK,CAACG,KAAN,GAAc,KAAd;AACAH,EAAAA,KAAK,CAACE,YAAN,GAAqB,IAArB;AACD,CAlBY,cAAf;AAqBA,eAAe;AACbF,EAAAA,KAAK,EAALA,KADa;AAEbI,EAAAA,OAAO,EAAPA,OAFa;AAGbG,EAAAA,OAAO,EAAPA,OAHa;AAIba,EAAAA,SAAS,EAATA;AAJa,CAAf","sourcesContent":["\n/* eslint-disable promise/param-names */\nimport {\n  AUTH_REQUEST,\n  AUTH_ERROR,\n  AUTH_LOGIN,\n  AUTH_SUCCESS,\n  AUTH_LOGOUT\n} from \"../actions/auth\";\n\nimport AuthService from \"../../api/auth.service\";\nimport router from \"../../router\";\n\nconst state = {\n  status: false,\n  errorMessage: null,\n  phone: null\n};\n\nconst getters = {\n  isPhoneApproved: state => state.phone,\n  getErrorMessage: state => state.errorMessage,\n};\n\nconst actions = {\n  [AUTH_REQUEST]: async ({ commit }, phone) => {\n    commit(AUTH_REQUEST);\n    const r = await AuthService.auth(phone);\n    r.status ? commit(AUTH_SUCCESS, phone) : commit(AUTH_ERROR, r.message);\n    return r.status;\n  },\n  [AUTH_LOGIN]: async ({ commit, dispatch }, { password, phone }) => {\n    commit(AUTH_REQUEST);\n    const r = await AuthService.login(password, phone);\n    if (r.status) {\n      commit(AUTH_SUCCESS, r.token);\n    } else {\n      commit(AUTH_ERROR, r.message);\n    }\n    return r.status;\n  },\n  [AUTH_LOGOUT]: ({ commit }) => {\n    AuthService.logout();\n    commit(AUTH_LOGOUT);\n    router.push(\"/login\").then(r => r);\n  },\n  [AUTH_ERROR]: ({ commit, dispatch }, msg) => {\n    commit(AUTH_ERROR, msg);\n    dispatch(AUTH_LOGOUT);\n  }\n};\n\nconst mutations = {\n  [AUTH_REQUEST]: state => {\n    state.status = \"loading\";\n  },\n  [AUTH_SUCCESS]: state => {\n    state.status = \"true\";\n    state.phone = true;\n    state.errorMessage = \"\";\n  },\n  [AUTH_ERROR]: (state, msg) => {\n    state.errorMessage = msg;\n    state.status = \"false\";\n\n  },\n  [AUTH_LOGOUT]: () => {\n    state.token = null;\n    state.phone = false;\n    state.errorMessage = null;\n  }\n};\n\nexport default {\n  state,\n  getters,\n  actions,\n  mutations\n};\n"]}]}