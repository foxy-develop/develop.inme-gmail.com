{"remainingRequest":"/Users/inme1/PhpstormProjects/new-cp/develop.inme-gmail.com/node_modules/thread-loader/dist/cjs.js!/Users/inme1/PhpstormProjects/new-cp/develop.inme-gmail.com/node_modules/babel-loader/lib/index.js!/Users/inme1/PhpstormProjects/new-cp/develop.inme-gmail.com/src/store/modules/charts.js","dependencies":[{"path":"/Users/inme1/PhpstormProjects/new-cp/develop.inme-gmail.com/src/store/modules/charts.js","mtime":1585746332576},{"path":"/Users/inme1/PhpstormProjects/new-cp/develop.inme-gmail.com/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/inme1/PhpstormProjects/new-cp/develop.inme-gmail.com/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/inme1/PhpstormProjects/new-cp/develop.inme-gmail.com/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICIvVXNlcnMvaW5tZTEvUGhwc3Rvcm1Qcm9qZWN0cy9uZXctY3AvZGV2ZWxvcC5pbm1lLWdtYWlsLmNvbS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvVXNlcnMvaW5tZTEvUGhwc3Rvcm1Qcm9qZWN0cy9uZXctY3AvZGV2ZWxvcC5pbm1lLWdtYWlsLmNvbS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7Cgp2YXIgX2FjdGlvbnMsIF9tdXRhdGlvbnM7CgppbXBvcnQgeyBEQVRBX1JFUVVFU1QsIERBVEFfU1VDQ0VTUywgREFUQV9QUkVMT0FELCBEQVRBX1NXSVRDSCwgREFUQV9GSUxURVIsIERBVEFfRVJST1IgfSBmcm9tICIuLi9hY3Rpb25zL2NoYXJ0cyI7CmltcG9ydCBEYXRhU2VydmljZSBmcm9tICIuLi8uLi9hcGkvZGF0YS5zZXJ2aWNlIjsKaW1wb3J0IHsgQVVUSF9MT0dPVVQgfSBmcm9tICIuLi9hY3Rpb25zL2F1dGgiOwppbXBvcnQgY2hhcnRzRGF0YU1vZGVsIGZyb20gIi4uL21vZGVscy9jaGFydHMiOwp2YXIgc3RhdGUgPSBPYmplY3QuYXNzaWduKHt9LCBjaGFydHNEYXRhTW9kZWwpOwp2YXIgZ2V0dGVycyA9IHsKICBnZXRQZXJpb2Q6IGZ1bmN0aW9uIGdldFBlcmlvZChzdGF0ZSkgewogICAgcmV0dXJuIHN0YXRlLnBlcmlvZDsKICB9LAogIGdldENoYXJ0RmlsdGVyczogZnVuY3Rpb24gZ2V0Q2hhcnRGaWx0ZXJzKHN0YXRlKSB7CiAgICByZXR1cm4gc3RhdGUuZmlsdGVyOwogIH0sCiAgZ2V0Q2hhcnREYXRhOiBmdW5jdGlvbiBnZXRDaGFydERhdGEoc3RhdGUpIHsKICAgIHJldHVybiBzdGF0ZS5kYXRhW3N0YXRlLnBlcmlvZF07CiAgfSwKICBpc0NoYXJ0RGF0YUxvYWRlZDogZnVuY3Rpb24gaXNDaGFydERhdGFMb2FkZWQoc3RhdGUpIHsKICAgIHJldHVybiBzdGF0ZS5sb2FkZWQ7CiAgfSwKICBnZXRQZXJpb2RzOiBmdW5jdGlvbiBnZXRQZXJpb2RzKHN0YXRlKSB7CiAgICByZXR1cm4gc3RhdGUucGVyaW9kczsKICB9Cn07CnZhciBhY3Rpb25zID0gKF9hY3Rpb25zID0ge30sIF9kZWZpbmVQcm9wZXJ0eShfYWN0aW9ucywgREFUQV9SRVFVRVNULCBmdW5jdGlvbiAoKSB7CiAgdmFyIF9yZWYyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKF9yZWYpIHsKICAgIHZhciBjb21taXQsIGRpc3BhdGNoLCByOwogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBjb21taXQgPSBfcmVmLmNvbW1pdCwgZGlzcGF0Y2ggPSBfcmVmLmRpc3BhdGNoOwogICAgICAgICAgICBjb21taXQoREFUQV9SRVFVRVNUKTsKCiAgICAgICAgICAgIGlmIChzdGF0ZS5kYXRhW3N0YXRlLnBlcmlvZF0ubGFiZWxzLmxlbmd0aCkgewogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA3OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CgogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTsKICAgICAgICAgICAgcmV0dXJuIERhdGFTZXJ2aWNlLmdldENoYXJ0c0RhdGEoc3RhdGUucGVyaW9kKTsKCiAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgIHIgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICByLnN0YXR1cy5kYXRhLnN0YXR1cyA/IGNvbW1pdChEQVRBX1NVQ0NFU1MsIHsKICAgICAgICAgICAgICBkYXRhOiByLmRhdGEsCiAgICAgICAgICAgICAgcGVyaW9kOiBzdGF0ZS5wZXJpb2QKICAgICAgICAgICAgfSkgOiBkaXNwYXRjaChBVVRIX0xPR09VVCk7CgogICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICBkaXNwYXRjaChEQVRBX1BSRUxPQUQpOwoKICAgICAgICAgIGNhc2UgODoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlKTsKICB9KSk7CgogIHJldHVybiBmdW5jdGlvbiAoX3gpIHsKICAgIHJldHVybiBfcmVmMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogIH07Cn0oKSksIF9kZWZpbmVQcm9wZXJ0eShfYWN0aW9ucywgREFUQV9QUkVMT0FELCBmdW5jdGlvbiAoX3JlZjMpIHsKICB2YXIgY29tbWl0ID0gX3JlZjMuY29tbWl0OwogIHN0YXRlLnBlcmlvZHMuZm9yRWFjaCggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgIHZhciBfcmVmNCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIocCkgewogICAgICB2YXIgcjsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBpZiAoc3RhdGUuZGF0YVtwLmlkXS5sYWJlbHMubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDU7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzsKICAgICAgICAgICAgICByZXR1cm4gRGF0YVNlcnZpY2UuZ2V0Q2hhcnRzRGF0YShwLmlkKTsKCiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICByID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgY29tbWl0KERBVEFfU1VDQ0VTUywgewogICAgICAgICAgICAgICAgZGF0YTogci5kYXRhLAogICAgICAgICAgICAgICAgcGVyaW9kOiBwLmlkCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMik7CiAgICB9KSk7CgogICAgcmV0dXJuIGZ1bmN0aW9uIChfeDIpIHsKICAgICAgcmV0dXJuIF9yZWY0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9OwogIH0oKSk7Cn0pLCBfZGVmaW5lUHJvcGVydHkoX2FjdGlvbnMsIERBVEFfU1dJVENILCBmdW5jdGlvbiAoX3JlZjUsIHBlcmlvZCkgewogIHZhciBjb21taXQgPSBfcmVmNS5jb21taXQ7CiAgY29tbWl0KERBVEFfU1dJVENILCBwZXJpb2QpOwp9KSwgX2RlZmluZVByb3BlcnR5KF9hY3Rpb25zLCBEQVRBX0ZJTFRFUiwgZnVuY3Rpb24gKF9yZWY2LCBfcmVmNykgewogIHZhciBjb21taXQgPSBfcmVmNi5jb21taXQ7CiAgdmFyIHR5cGUgPSBfcmVmNy50eXBlOwogIGNvbW1pdChEQVRBX0ZJTFRFUiwgdHlwZSk7Cn0pLCBfYWN0aW9ucyk7CnZhciBtdXRhdGlvbnMgPSAoX211dGF0aW9ucyA9IHt9LCBfZGVmaW5lUHJvcGVydHkoX211dGF0aW9ucywgREFUQV9SRVFVRVNULCBmdW5jdGlvbiAoc3RhdGUpIHsKICBzdGF0ZS5sb2FkZWQgPSBmYWxzZTsKfSksIF9kZWZpbmVQcm9wZXJ0eShfbXV0YXRpb25zLCBEQVRBX1NVQ0NFU1MsIGZ1bmN0aW9uIChzdGF0ZSwgcmVzcG9uc2UpIHsKICBzdGF0ZS5kYXRhW3Jlc3BvbnNlLnBlcmlvZF0gPSByZXNwb25zZS5kYXRhOwogIHN0YXRlLmxvYWRlZCA9IHRydWU7Cn0pLCBfZGVmaW5lUHJvcGVydHkoX211dGF0aW9ucywgREFUQV9GSUxURVIsIGZ1bmN0aW9uIChzdGF0ZSwgdHlwZSkgewogIHN0YXRlLmZpbHRlclt0eXBlXSA9ICFzdGF0ZS5maWx0ZXJbdHlwZV07Cn0pLCBfZGVmaW5lUHJvcGVydHkoX211dGF0aW9ucywgREFUQV9TV0lUQ0gsIGZ1bmN0aW9uIChzdGF0ZSwgcGVyaW9kKSB7CiAgc3RhdGUucGVyaW9kID0gcGVyaW9kOwp9KSwgX2RlZmluZVByb3BlcnR5KF9tdXRhdGlvbnMsIEFVVEhfTE9HT1VULCBmdW5jdGlvbiAoc3RhdGUpIHsKICBzdGF0ZSA9IE9iamVjdC5hc3NpZ24oe30sIGNoYXJ0c0RhdGFNb2RlbCk7Cn0pLCBfbXV0YXRpb25zKTsKZXhwb3J0IGRlZmF1bHQgewogIHN0YXRlOiBzdGF0ZSwKICBnZXR0ZXJzOiBnZXR0ZXJzLAogIGFjdGlvbnM6IGFjdGlvbnMsCiAgbXV0YXRpb25zOiBtdXRhdGlvbnMKfTs="},{"version":3,"sources":["/Users/inme1/PhpstormProjects/new-cp/develop.inme-gmail.com/src/store/modules/charts.js"],"names":["DATA_REQUEST","DATA_SUCCESS","DATA_PRELOAD","DATA_SWITCH","DATA_FILTER","DATA_ERROR","DataService","AUTH_LOGOUT","chartsDataModel","state","Object","assign","getters","getPeriod","period","getChartFilters","filter","getChartData","data","isChartDataLoaded","loaded","getPeriods","periods","actions","commit","dispatch","labels","length","getChartsData","r","status","forEach","p","id","type","mutations","response"],"mappings":"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","sourcesContent":["import {\n  DATA_REQUEST,\n  DATA_SUCCESS,\n  DATA_PRELOAD,\n  DATA_SWITCH,\n  DATA_FILTER,\n  DATA_ERROR\n} from \"../actions/charts\";\n\nimport DataService from \"../../api/data.service\";\nimport { AUTH_LOGOUT } from \"../actions/auth\";\nimport chartsDataModel from \"../models/charts\";\n\nconst state = Object.assign({}, chartsDataModel);\n\nconst getters = {\n  getPeriod: state => state.period,\n  getChartFilters: state => state.filter,\n  getChartData: state => state.data[state.period],\n  isChartDataLoaded: state => state.loaded,\n  getPeriods: state => state.periods,\n};\n\nconst actions = {\n  [DATA_REQUEST]: async ({ commit, dispatch }) => {\n    commit(DATA_REQUEST);\n    if (!state.data[state.period].labels.length) {\n      const r = await DataService.getChartsData(state.period);\n      r.status.data.status\n        ? commit(DATA_SUCCESS, { data: r.data, period: state.period })\n        : dispatch(AUTH_LOGOUT);\n    }\n    dispatch(DATA_PRELOAD);\n  },\n  [DATA_PRELOAD]: ({ commit }) => {\n    state.periods.forEach(async p => {\n      if (!state.data[p.id].labels.length) {\n        const r = await DataService.getChartsData(p.id);\n        commit(DATA_SUCCESS, { data: r.data, period: p.id });\n      }\n    });\n  },\n  [DATA_SWITCH]: ({ commit }, period) => {\n    commit(DATA_SWITCH, period);\n  },\n  [DATA_FILTER]: ({ commit }, { type }) => {\n    commit(DATA_FILTER, type);\n  }\n};\n\nconst mutations = {\n  [DATA_REQUEST]: state => {\n    state.loaded = false;\n  },\n  [DATA_SUCCESS]: (state, response) => {\n    state.data[response.period] = response.data;\n    state.loaded = true;\n  },\n  [DATA_FILTER]: (state, type) => {\n    state.filter[type] = !state.filter[type];\n  },\n  [DATA_SWITCH]: (state, period) => {\n    state.period = period;\n  },\n  [AUTH_LOGOUT]: state => {\n    state = Object.assign({}, chartsDataModel);\n  }\n};\n\nexport default {\n  state,\n  getters,\n  actions,\n  mutations\n};\n"]}]}