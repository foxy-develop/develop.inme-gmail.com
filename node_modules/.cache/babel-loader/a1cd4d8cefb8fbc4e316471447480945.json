{"remainingRequest":"/Users/inme1/PhpstormProjects/new-cp/develop.inme-gmail.com/node_modules/babel-loader/lib/index.js!/Users/inme1/PhpstormProjects/new-cp/develop.inme-gmail.com/src/store/modules/current_notification.js","dependencies":[{"path":"/Users/inme1/PhpstormProjects/new-cp/develop.inme-gmail.com/src/store/modules/current_notification.js","mtime":1586280961528},{"path":"/Users/inme1/PhpstormProjects/new-cp/develop.inme-gmail.com/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/inme1/PhpstormProjects/new-cp/develop.inme-gmail.com/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICIvVXNlcnMvaW5tZTEvUGhwc3Rvcm1Qcm9qZWN0cy9uZXctY3AvZGV2ZWxvcC5pbm1lLWdtYWlsLmNvbS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvVXNlcnMvaW5tZTEvUGhwc3Rvcm1Qcm9qZWN0cy9uZXctY3AvZGV2ZWxvcC5pbm1lLWdtYWlsLmNvbS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7Cgp2YXIgX2FjdGlvbnMsIF9tdXRhdGlvbnM7CgppbXBvcnQgeyBOT1RJRklDQVRJT05TX0NVUlJFTlRfUkVRVUVTVCwgTk9USUZJQ0FUSU9OU19DVVJSRU5UX1NVQ0NFU1MsIE5PVElGSUNBVElPTlNfQ1VSUkVOVF9FUlJPUiwgTk9USUZJQ0FUSU9OU19DVVJSRU5UX1JFQUQgfSBmcm9tICIuLi9hY3Rpb25zL25vdGlmaWNhdGlvbnMiOwppbXBvcnQgTm90aWZpY2F0aW9uc1NlcnZpY2UgZnJvbSAiLi4vLi4vYXBpL25vdGlmaWNhdGlvbnMuc2VydmljZSI7CmltcG9ydCBDdXJyZW50Tm90aWZpY2F0aW9uTW9kZWwgZnJvbSAiLi4vbW9kZWxzL2N1cnJlbnRfbm90aWZpY2F0aW9uIjsKdmFyIHN0YXRlID0gT2JqZWN0LmFzc2lnbih7fSwgQ3VycmVudE5vdGlmaWNhdGlvbk1vZGVsKTsKdmFyIGdldHRlcnMgPSB7CiAgaXNOb3RpZmljYXRpb25Mb2FkZWQ6IGZ1bmN0aW9uIGlzTm90aWZpY2F0aW9uTG9hZGVkKHN0YXRlKSB7CiAgICByZXR1cm4gc3RhdGUuc3RhdHVzOwogIH0sCiAgaGFzTm90aWZpY2F0aW9uRXJyb3I6IGZ1bmN0aW9uIGhhc05vdGlmaWNhdGlvbkVycm9yKHN0YXRlKSB7CiAgICByZXR1cm4gc3RhdGUuaGFzRXJyb3I7CiAgfSwKICBnZXROb3RpZmljYXRpb246IGZ1bmN0aW9uIGdldE5vdGlmaWNhdGlvbihzdGF0ZSkgewogICAgcmV0dXJuIHN0YXRlLm5vdGlmaWNhdGlvbjsKICB9Cn07CnZhciBhY3Rpb25zID0gKF9hY3Rpb25zID0ge30sIF9kZWZpbmVQcm9wZXJ0eShfYWN0aW9ucywgTk9USUZJQ0FUSU9OU19DVVJSRU5UX1JFUVVFU1QsIGZ1bmN0aW9uICgpIHsKICB2YXIgX3JlZjIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoX3JlZiwgbm90aWZpY2F0aW9uX2lkKSB7CiAgICB2YXIgY29tbWl0LCBkaXNwYXRjaCwgcjsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgY29tbWl0ID0gX3JlZi5jb21taXQsIGRpc3BhdGNoID0gX3JlZi5kaXNwYXRjaDsKICAgICAgICAgICAgY29tbWl0KE5PVElGSUNBVElPTlNfQ1VSUkVOVF9SRVFVRVNUKTsKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgIHJldHVybiBOb3RpZmljYXRpb25zU2VydmljZS5nZXRDdXJyZW50Tm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbl9pZCk7CgogICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICByID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgY29uc29sZS5sb2cocik7CgogICAgICAgICAgICBpZiAoci5kYXRhLnN0YXR1cykgewogICAgICAgICAgICAgIGNvbW1pdChOT1RJRklDQVRJT05TX0NVUlJFTlRfU1VDQ0VTUywgci5kYXRhKTsKICAgICAgICAgICAgICBkaXNwYXRjaChOT1RJRklDQVRJT05TX0NVUlJFTlRfUkVBRCwgbm90aWZpY2F0aW9uX2lkKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBkaXNwYXRjaChOT1RJRklDQVRJT05TX0NVUlJFTlRfRVJST1IpOwogICAgICAgICAgICB9CgogICAgICAgICAgY2FzZSA3OgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWUpOwogIH0pKTsKCiAgcmV0dXJuIGZ1bmN0aW9uIChfeCwgX3gyKSB7CiAgICByZXR1cm4gX3JlZjIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICB9Owp9KCkpLCBfZGVmaW5lUHJvcGVydHkoX2FjdGlvbnMsIE5PVElGSUNBVElPTlNfQ1VSUkVOVF9SRUFELCBmdW5jdGlvbiAoKSB7CiAgdmFyIF9yZWY0ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMihfcmVmMywgbm90aWZpY2F0aW9uX2lkKSB7CiAgICB2YXIgY29tbWl0LCByOwogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgY29tbWl0ID0gX3JlZjMuY29tbWl0OwogICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM7CiAgICAgICAgICAgIHJldHVybiBOb3RpZmljYXRpb25zU2VydmljZS5yZWFkTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbl9pZCk7CgogICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICByID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgIHIuZGF0YS5zdGF0dXMgJiYgY29tbWl0KE5PVElGSUNBVElPTlNfQ1VSUkVOVF9SRUFEKTsKCiAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWUyKTsKICB9KSk7CgogIHJldHVybiBmdW5jdGlvbiAoX3gzLCBfeDQpIHsKICAgIHJldHVybiBfcmVmNC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogIH07Cn0oKSksIF9kZWZpbmVQcm9wZXJ0eShfYWN0aW9ucywgTk9USUZJQ0FUSU9OU19DVVJSRU5UX0VSUk9SLCBmdW5jdGlvbiAoX3JlZjUpIHsKICB2YXIgY29tbWl0ID0gX3JlZjUuY29tbWl0OwogIGNvbW1pdChOT1RJRklDQVRJT05TX0NVUlJFTlRfRVJST1IpOwp9KSwgX2FjdGlvbnMpOwp2YXIgbXV0YXRpb25zID0gKF9tdXRhdGlvbnMgPSB7fSwgX2RlZmluZVByb3BlcnR5KF9tdXRhdGlvbnMsIE5PVElGSUNBVElPTlNfQ1VSUkVOVF9SRVFVRVNULCBmdW5jdGlvbiAoc3RhdGUpIHsKICBzdGF0ZS5zdGF0dXMgPSBmYWxzZTsKfSksIF9kZWZpbmVQcm9wZXJ0eShfbXV0YXRpb25zLCBOT1RJRklDQVRJT05TX0NVUlJFTlRfU1VDQ0VTUywgZnVuY3Rpb24gKHN0YXRlLCBub3RpZmljYXRpb24pIHsKICBzdGF0ZS5zdGF0dXMgPSB0cnVlOwogIHN0YXRlLm5vdGlmaWNhdGlvbiA9IG5vdGlmaWNhdGlvbi5ub3RpZmljYXRpb247Cn0pLCBfZGVmaW5lUHJvcGVydHkoX211dGF0aW9ucywgTk9USUZJQ0FUSU9OU19DVVJSRU5UX1JFQUQsIGZ1bmN0aW9uIChzdGF0ZSkgewogIHN0YXRlLm5vdGlmaWNhdGlvbi5ub3RpZmljYXRpb25faXNfcmVhZCA9IDE7Cn0pLCBfZGVmaW5lUHJvcGVydHkoX211dGF0aW9ucywgTk9USUZJQ0FUSU9OU19DVVJSRU5UX0VSUk9SLCBmdW5jdGlvbiAoc3RhdGUpIHsKICBzdGF0ZS5zdGF0dXMgPSBmYWxzZTsKICBzdGF0ZS5oYXNFcnJvciA9IHRydWU7Cn0pLCBfbXV0YXRpb25zKTsKZXhwb3J0IGRlZmF1bHQgewogIHN0YXRlOiBzdGF0ZSwKICBnZXR0ZXJzOiBnZXR0ZXJzLAogIGFjdGlvbnM6IGFjdGlvbnMsCiAgbXV0YXRpb25zOiBtdXRhdGlvbnMKfTs="},{"version":3,"sources":["/Users/inme1/PhpstormProjects/new-cp/develop.inme-gmail.com/src/store/modules/current_notification.js"],"names":["NOTIFICATIONS_CURRENT_REQUEST","NOTIFICATIONS_CURRENT_SUCCESS","NOTIFICATIONS_CURRENT_ERROR","NOTIFICATIONS_CURRENT_READ","NotificationsService","CurrentNotificationModel","state","Object","assign","getters","isNotificationLoaded","status","hasNotificationError","hasError","getNotification","notification","actions","notification_id","commit","dispatch","getCurrentNotification","r","console","log","data","readNotification","mutations","notification_is_read"],"mappings":"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","sourcesContent":["import {\n  NOTIFICATIONS_CURRENT_REQUEST,\n  NOTIFICATIONS_CURRENT_SUCCESS,\n  NOTIFICATIONS_CURRENT_ERROR,\n  NOTIFICATIONS_CURRENT_READ\n} from \"../actions/notifications\";\n\nimport NotificationsService from \"../../api/notifications.service\";\nimport CurrentNotificationModel from \"../models/current_notification\";\n\nconst state = Object.assign({}, CurrentNotificationModel);\n\nconst getters = {\n  isNotificationLoaded: state => state.status,\n  hasNotificationError: state => state.hasError,\n  getNotification: state => state.notification\n};\n\nconst actions = {\n  [NOTIFICATIONS_CURRENT_REQUEST]: async ({ commit, dispatch }, notification_id ) => {\n    commit(NOTIFICATIONS_CURRENT_REQUEST);\n    const r = await NotificationsService.getCurrentNotification(notification_id);\n    console.log(r);\n    if ( r.data.status ) {\n      commit(NOTIFICATIONS_CURRENT_SUCCESS, r.data)\n      dispatch(NOTIFICATIONS_CURRENT_READ, notification_id);\n    } else {\n      dispatch(NOTIFICATIONS_CURRENT_ERROR);\n    }\n  },\n  [NOTIFICATIONS_CURRENT_READ]: async  ({ commit }, notification_id) => {\n    const r = await NotificationsService.readNotification( notification_id );\n    r.data.status && commit(NOTIFICATIONS_CURRENT_READ);\n  },\n\n  [NOTIFICATIONS_CURRENT_ERROR]: ({ commit }) => {\n    commit(NOTIFICATIONS_CURRENT_ERROR);\n  }\n\n};\n\nconst mutations = {\n  [NOTIFICATIONS_CURRENT_REQUEST]: state => {\n    state.status = false;\n  },\n  [NOTIFICATIONS_CURRENT_SUCCESS]: (state, notification) => {\n    state.status = true;\n    state.notification = notification.notification;\n  },\n  [NOTIFICATIONS_CURRENT_READ]: state => {\n    state.notification.notification_is_read = 1;\n  },\n  [NOTIFICATIONS_CURRENT_ERROR]: state => {\n    state.status = false;\n    state.hasError = true;\n  }\n};\n\nexport default {\n  state,\n  getters,\n  actions,\n  mutations\n};\n"]}]}