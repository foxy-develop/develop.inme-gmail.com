{"remainingRequest":"/Users/inme1/PhpstormProjects/new-cp/develop.inme-gmail.com/node_modules/babel-loader/lib/index.js!/Users/inme1/PhpstormProjects/new-cp/develop.inme-gmail.com/src/store/modules/current_notification.js","dependencies":[{"path":"/Users/inme1/PhpstormProjects/new-cp/develop.inme-gmail.com/src/store/modules/current_notification.js","mtime":1586389600795},{"path":"/Users/inme1/PhpstormProjects/new-cp/develop.inme-gmail.com/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/inme1/PhpstormProjects/new-cp/develop.inme-gmail.com/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICIvVXNlcnMvaW5tZTEvUGhwc3Rvcm1Qcm9qZWN0cy9uZXctY3AvZGV2ZWxvcC5pbm1lLWdtYWlsLmNvbS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvVXNlcnMvaW5tZTEvUGhwc3Rvcm1Qcm9qZWN0cy9uZXctY3AvZGV2ZWxvcC5pbm1lLWdtYWlsLmNvbS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7Cgp2YXIgX2FjdGlvbnMsIF9tdXRhdGlvbnM7CgppbXBvcnQgeyBOT1RJRklDQVRJT05TX0NVUlJFTlRfUkVRVUVTVCwgTk9USUZJQ0FUSU9OU19DVVJSRU5UX1NVQ0NFU1MsIE5PVElGSUNBVElPTlNfQ1VSUkVOVF9FUlJPUiwgTk9USUZJQ0FUSU9OU19DVVJSRU5UX1JFQUQgfSBmcm9tICIuLi9hY3Rpb25zL25vdGlmaWNhdGlvbnMiOwppbXBvcnQgTm90aWZpY2F0aW9uc1NlcnZpY2UgZnJvbSAiLi4vLi4vYXBpL25vdGlmaWNhdGlvbnMuc2VydmljZSI7CmltcG9ydCBDdXJyZW50Tm90aWZpY2F0aW9uTW9kZWwgZnJvbSAiLi4vbW9kZWxzL2N1cnJlbnRfbm90aWZpY2F0aW9uIjsKaW1wb3J0IHsgQVVUSF9MT0dPVVQgfSBmcm9tICIuLi9hY3Rpb25zL2F1dGgiOwp2YXIgc3RhdGUgPSBDdXJyZW50Tm90aWZpY2F0aW9uTW9kZWwoKTsKdmFyIGdldHRlcnMgPSB7CiAgaXNOb3RpZmljYXRpb25Mb2FkZWQ6IGZ1bmN0aW9uIGlzTm90aWZpY2F0aW9uTG9hZGVkKHN0YXRlKSB7CiAgICByZXR1cm4gc3RhdGUuc3RhdHVzOwogIH0sCiAgaGFzTm90aWZpY2F0aW9uRXJyb3I6IGZ1bmN0aW9uIGhhc05vdGlmaWNhdGlvbkVycm9yKHN0YXRlKSB7CiAgICByZXR1cm4gc3RhdGUuaGFzRXJyb3I7CiAgfSwKICBnZXROb3RpZmljYXRpb246IGZ1bmN0aW9uIGdldE5vdGlmaWNhdGlvbihzdGF0ZSkgewogICAgcmV0dXJuIHN0YXRlLm5vdGlmaWNhdGlvbjsKICB9Cn07CnZhciBhY3Rpb25zID0gKF9hY3Rpb25zID0ge30sIF9kZWZpbmVQcm9wZXJ0eShfYWN0aW9ucywgTk9USUZJQ0FUSU9OU19DVVJSRU5UX1JFUVVFU1QsIGZ1bmN0aW9uICgpIHsKICB2YXIgX3JlZjIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoX3JlZiwgbm90aWZpY2F0aW9uX2lkKSB7CiAgICB2YXIgY29tbWl0LCBkaXNwYXRjaCwgcjsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgY29tbWl0ID0gX3JlZi5jb21taXQsIGRpc3BhdGNoID0gX3JlZi5kaXNwYXRjaDsKICAgICAgICAgICAgY29tbWl0KE5PVElGSUNBVElPTlNfQ1VSUkVOVF9SRVFVRVNUKTsKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgIHJldHVybiBOb3RpZmljYXRpb25zU2VydmljZS5nZXRDdXJyZW50Tm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbl9pZCk7CgogICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICByID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgIGlmIChyLmRhdGEuc3RhdHVzKSB7CiAgICAgICAgICAgICAgY29tbWl0KE5PVElGSUNBVElPTlNfQ1VSUkVOVF9TVUNDRVNTLCByLmRhdGEpOwogICAgICAgICAgICAgIGRpc3BhdGNoKE5PVElGSUNBVElPTlNfQ1VSUkVOVF9SRUFELCBub3RpZmljYXRpb25faWQpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIGRpc3BhdGNoKE5PVElGSUNBVElPTlNfQ1VSUkVOVF9FUlJPUik7CiAgICAgICAgICAgIH0KCiAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZSk7CiAgfSkpOwoKICByZXR1cm4gZnVuY3Rpb24gKF94LCBfeDIpIHsKICAgIHJldHVybiBfcmVmMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogIH07Cn0oKSksIF9kZWZpbmVQcm9wZXJ0eShfYWN0aW9ucywgTk9USUZJQ0FUSU9OU19DVVJSRU5UX1JFQUQsIGZ1bmN0aW9uICgpIHsKICB2YXIgX3JlZjQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKF9yZWYzLCBub3RpZmljYXRpb25faWQpIHsKICAgIHZhciBjb21taXQsIHI7CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBjb21taXQgPSBfcmVmMy5jb21taXQ7CiAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzsKICAgICAgICAgICAgcmV0dXJuIE5vdGlmaWNhdGlvbnNTZXJ2aWNlLnJlYWROb3RpZmljYXRpb24obm90aWZpY2F0aW9uX2lkKTsKCiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgIHIgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgci5kYXRhLnN0YXR1cyAmJiBjb21taXQoTk9USUZJQ0FUSU9OU19DVVJSRU5UX1JFQUQpOwoKICAgICAgICAgIGNhc2UgNToKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZTIpOwogIH0pKTsKCiAgcmV0dXJuIGZ1bmN0aW9uIChfeDMsIF94NCkgewogICAgcmV0dXJuIF9yZWY0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgfTsKfSgpKSwgX2RlZmluZVByb3BlcnR5KF9hY3Rpb25zLCBOT1RJRklDQVRJT05TX0NVUlJFTlRfRVJST1IsIGZ1bmN0aW9uIChfcmVmNSkgewogIHZhciBjb21taXQgPSBfcmVmNS5jb21taXQ7CiAgY29tbWl0KE5PVElGSUNBVElPTlNfQ1VSUkVOVF9FUlJPUik7Cn0pLCBfYWN0aW9ucyk7CnZhciBtdXRhdGlvbnMgPSAoX211dGF0aW9ucyA9IHt9LCBfZGVmaW5lUHJvcGVydHkoX211dGF0aW9ucywgTk9USUZJQ0FUSU9OU19DVVJSRU5UX1JFUVVFU1QsIGZ1bmN0aW9uIChzdGF0ZSkgewogIHN0YXRlLnN0YXR1cyA9IGZhbHNlOwp9KSwgX2RlZmluZVByb3BlcnR5KF9tdXRhdGlvbnMsIE5PVElGSUNBVElPTlNfQ1VSUkVOVF9TVUNDRVNTLCBmdW5jdGlvbiAoc3RhdGUsIG5vdGlmaWNhdGlvbikgewogIHN0YXRlLnN0YXR1cyA9IHRydWU7CiAgc3RhdGUubm90aWZpY2F0aW9uID0gbm90aWZpY2F0aW9uLm5vdGlmaWNhdGlvbjsKfSksIF9kZWZpbmVQcm9wZXJ0eShfbXV0YXRpb25zLCBOT1RJRklDQVRJT05TX0NVUlJFTlRfUkVBRCwgZnVuY3Rpb24gKHN0YXRlKSB7CiAgc3RhdGUubm90aWZpY2F0aW9uLm5vdGlmaWNhdGlvbl9pc19yZWFkID0gMTsKfSksIF9kZWZpbmVQcm9wZXJ0eShfbXV0YXRpb25zLCBOT1RJRklDQVRJT05TX0NVUlJFTlRfRVJST1IsIGZ1bmN0aW9uIChzdGF0ZSkgewogIHN0YXRlLnN0YXR1cyA9IGZhbHNlOwogIHN0YXRlLmhhc0Vycm9yID0gdHJ1ZTsKfSksIF9kZWZpbmVQcm9wZXJ0eShfbXV0YXRpb25zLCBBVVRIX0xPR09VVCwgZnVuY3Rpb24gKHN0YXRlKSB7CiAgT2JqZWN0LmFzc2lnbihzdGF0ZSwgQ3VycmVudE5vdGlmaWNhdGlvbk1vZGVsKTsKfSksIF9tdXRhdGlvbnMpOwpleHBvcnQgZGVmYXVsdCB7CiAgc3RhdGU6IHN0YXRlLAogIGdldHRlcnM6IGdldHRlcnMsCiAgYWN0aW9uczogYWN0aW9ucywKICBtdXRhdGlvbnM6IG11dGF0aW9ucwp9Ow=="},{"version":3,"sources":["/Users/inme1/PhpstormProjects/new-cp/develop.inme-gmail.com/src/store/modules/current_notification.js"],"names":["NOTIFICATIONS_CURRENT_REQUEST","NOTIFICATIONS_CURRENT_SUCCESS","NOTIFICATIONS_CURRENT_ERROR","NOTIFICATIONS_CURRENT_READ","NotificationsService","CurrentNotificationModel","AUTH_LOGOUT","state","getters","isNotificationLoaded","status","hasNotificationError","hasError","getNotification","notification","actions","notification_id","commit","dispatch","getCurrentNotification","r","data","readNotification","mutations","notification_is_read","Object","assign"],"mappings":";;;;;;AAAA,SACEA,6BADF,EAEEC,6BAFF,EAGEC,2BAHF,EAIEC,0BAJF,QAKO,0BALP;AAOA,OAAOC,oBAAP,MAAiC,iCAAjC;AACA,OAAOC,wBAAP,MAAqC,gCAArC;AACA,SAAQC,WAAR,QAA0B,iBAA1B;AAEA,IAAMC,KAAK,GAAGF,wBAAwB,EAAtC;AAEA,IAAMG,OAAO,GAAG;AACdC,EAAAA,oBAAoB,EAAE,8BAAAF,KAAK;AAAA,WAAIA,KAAK,CAACG,MAAV;AAAA,GADb;AAEdC,EAAAA,oBAAoB,EAAE,8BAAAJ,KAAK;AAAA,WAAIA,KAAK,CAACK,QAAV;AAAA,GAFb;AAGdC,EAAAA,eAAe,EAAE,yBAAAN,KAAK;AAAA,WAAIA,KAAK,CAACO,YAAV;AAAA;AAHR,CAAhB;AAMA,IAAMC,OAAO,6CACVf,6BADU;AAAA,sEACsB,uBAA6BgB,eAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAASC,YAAAA,MAAT,QAASA,MAAT,EAAiBC,QAAjB,QAAiBA,QAAjB;AAC/BD,YAAAA,MAAM,CAACjB,6BAAD,CAAN;AAD+B;AAAA,mBAEfI,oBAAoB,CAACe,sBAArB,CAA4CH,eAA5C,CAFe;;AAAA;AAEzBI,YAAAA,CAFyB;;AAG/B,gBAAKA,CAAC,CAACC,IAAF,CAAOX,MAAZ,EAAqB;AACnBO,cAAAA,MAAM,CAAChB,6BAAD,EAAgCmB,CAAC,CAACC,IAAlC,CAAN;AACAH,cAAAA,QAAQ,CAACf,0BAAD,EAA6Ba,eAA7B,CAAR;AACD,aAHD,MAGO;AACLE,cAAAA,QAAQ,CAAChB,2BAAD,CAAR;AACD;;AAR8B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GADtB;;AAAA;AAAA;AAAA;AAAA,gCAWVC,0BAXU;AAAA,sEAWmB,yBAAoBa,eAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAUC,YAAAA,MAAV,SAAUA,MAAV;AAAA;AAAA,mBACZb,oBAAoB,CAACkB,gBAArB,CAAuCN,eAAvC,CADY;;AAAA;AACtBI,YAAAA,CADsB;AAE5BA,YAAAA,CAAC,CAACC,IAAF,CAAOX,MAAP,IAAiBO,MAAM,CAACd,0BAAD,CAAvB;;AAF4B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAXnB;;AAAA;AAAA;AAAA;AAAA,gCAgBVD,2BAhBU,EAgBoB,iBAAgB;AAAA,MAAbe,MAAa,SAAbA,MAAa;AAC7CA,EAAAA,MAAM,CAACf,2BAAD,CAAN;AACD,CAlBU,YAAb;AAqBA,IAAMqB,SAAS,iDACZvB,6BADY,EACoB,UAAAO,KAAK,EAAI;AACxCA,EAAAA,KAAK,CAACG,MAAN,GAAe,KAAf;AACD,CAHY,+BAIZT,6BAJY,EAIoB,UAACM,KAAD,EAAQO,YAAR,EAAyB;AACxDP,EAAAA,KAAK,CAACG,MAAN,GAAe,IAAf;AACAH,EAAAA,KAAK,CAACO,YAAN,GAAqBA,YAAY,CAACA,YAAlC;AACD,CAPY,+BAQZX,0BARY,EAQiB,UAAAI,KAAK,EAAI;AACrCA,EAAAA,KAAK,CAACO,YAAN,CAAmBU,oBAAnB,GAA0C,CAA1C;AACD,CAVY,+BAWZtB,2BAXY,EAWkB,UAAAK,KAAK,EAAI;AACtCA,EAAAA,KAAK,CAACG,MAAN,GAAe,KAAf;AACAH,EAAAA,KAAK,CAACK,QAAN,GAAiB,IAAjB;AACD,CAdY,+BAeZN,WAfY,EAeE,UAAAC,KAAK,EAAI;AACtBkB,EAAAA,MAAM,CAACC,MAAP,CAAcnB,KAAd,EAAqBF,wBAArB;AACD,CAjBY,cAAf;AAoBA,eAAe;AACbE,EAAAA,KAAK,EAALA,KADa;AAEbC,EAAAA,OAAO,EAAPA,OAFa;AAGbO,EAAAA,OAAO,EAAPA,OAHa;AAIbQ,EAAAA,SAAS,EAATA;AAJa,CAAf","sourcesContent":["import {\n  NOTIFICATIONS_CURRENT_REQUEST,\n  NOTIFICATIONS_CURRENT_SUCCESS,\n  NOTIFICATIONS_CURRENT_ERROR,\n  NOTIFICATIONS_CURRENT_READ\n} from \"../actions/notifications\";\n\nimport NotificationsService from \"../../api/notifications.service\";\nimport CurrentNotificationModel from \"../models/current_notification\";\nimport {AUTH_LOGOUT} from \"../actions/auth\";\n\nconst state = CurrentNotificationModel();\n\nconst getters = {\n  isNotificationLoaded: state => state.status,\n  hasNotificationError: state => state.hasError,\n  getNotification: state => state.notification\n};\n\nconst actions = {\n  [NOTIFICATIONS_CURRENT_REQUEST]: async ({ commit, dispatch }, notification_id ) => {\n    commit(NOTIFICATIONS_CURRENT_REQUEST);\n    const r = await NotificationsService.getCurrentNotification(notification_id);\n    if ( r.data.status ) {\n      commit(NOTIFICATIONS_CURRENT_SUCCESS, r.data)\n      dispatch(NOTIFICATIONS_CURRENT_READ, notification_id);\n    } else {\n      dispatch(NOTIFICATIONS_CURRENT_ERROR);\n    }\n  },\n  [NOTIFICATIONS_CURRENT_READ]: async  ({ commit }, notification_id) => {\n    const r = await NotificationsService.readNotification( notification_id );\n    r.data.status && commit(NOTIFICATIONS_CURRENT_READ);\n  },\n\n  [NOTIFICATIONS_CURRENT_ERROR]: ({ commit }) => {\n    commit(NOTIFICATIONS_CURRENT_ERROR);\n  }\n};\n\nconst mutations = {\n  [NOTIFICATIONS_CURRENT_REQUEST]: state => {\n    state.status = false;\n  },\n  [NOTIFICATIONS_CURRENT_SUCCESS]: (state, notification) => {\n    state.status = true;\n    state.notification = notification.notification;\n  },\n  [NOTIFICATIONS_CURRENT_READ]: state => {\n    state.notification.notification_is_read = 1;\n  },\n  [NOTIFICATIONS_CURRENT_ERROR]: state => {\n    state.status = false;\n    state.hasError = true;\n  },\n  [AUTH_LOGOUT]: state => {\n    Object.assign(state, CurrentNotificationModel);\n  }\n};\n\nexport default {\n  state,\n  getters,\n  actions,\n  mutations\n};\n"]}]}