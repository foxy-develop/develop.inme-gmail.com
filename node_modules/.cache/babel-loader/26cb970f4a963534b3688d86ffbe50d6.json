{"remainingRequest":"/Users/inme1/PhpstormProjects/new-cp/develop.inme-gmail.com/node_modules/babel-loader/lib/index.js!/Users/inme1/PhpstormProjects/new-cp/develop.inme-gmail.com/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/inme1/PhpstormProjects/new-cp/develop.inme-gmail.com/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/inme1/PhpstormProjects/new-cp/develop.inme-gmail.com/src/components/filters/mentions-filter.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/inme1/PhpstormProjects/new-cp/develop.inme-gmail.com/src/components/filters/mentions-filter.vue","mtime":1586377508371},{"path":"/Users/inme1/PhpstormProjects/new-cp/develop.inme-gmail.com/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/inme1/PhpstormProjects/new-cp/develop.inme-gmail.com/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/inme1/PhpstormProjects/new-cp/develop.inme-gmail.com/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/inme1/PhpstormProjects/new-cp/develop.inme-gmail.com/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2lubWUxL1BocHN0b3JtUHJvamVjdHMvbmV3LWNwL2RldmVsb3AuaW5tZS1nbWFpbC5jb20vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgRHJvcGRvd24gZnJvbSAiLi4vZHJvcGRvd24iOwppbXBvcnQgeyBtYXBHZXR0ZXJzLCBtYXBBY3Rpb25zIH0gZnJvbSAidnVleCI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiTWVudGlvbnNGaWx0ZXIiLAogIGNvbXBvbmVudHM6IHsKICAgIERyb3Bkb3duOiBEcm9wZG93bgogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGRhdGE6ICIiLAogICAgICBwZXJfcGFnZTogIiIsCiAgICAgIGNvdW50cnk6ICIiLAogICAgICBrZXl3b3JkczogIiIKICAgIH07CiAgfSwKICBtZXRob2RzOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBBY3Rpb25zKFsiTUVOVElPTlNfQ0hBTkdFX0ZJTFRFUiJdKSwgewogICAgc2F2ZUZpbHRlcjogZnVuY3Rpb24gc2F2ZUZpbHRlcigpIHsKICAgICAgdmFyIG9wdGlvbnMgPSB7CiAgICAgICAga2V5d29yZHM6IHRoaXMua2V5d29yZHMsCiAgICAgICAgbGltaXRfb3B0aW9uczogdGhpcy5wZXJfcGFnZSwKICAgICAgICBjb3VudHJpZXM6IHRoaXMuY291bnRyeQogICAgICB9OwogICAgICB0aGlzLk1FTlRJT05TX0NIQU5HRV9GSUxURVIoewogICAgICAgIG9wdGlvbnM6IG9wdGlvbnMKICAgICAgfSk7CiAgICB9LAogICAgdXBkYXRlU2VsZWN0ZWRDb3VudHJ5OiBmdW5jdGlvbiB1cGRhdGVTZWxlY3RlZENvdW50cnkocGF5bG9hZCkgewogICAgICB0aGlzLmNvdW50cnkgPSBwYXlsb2FkLmlkOwogICAgfSwKICAgIHVwZGF0ZVNlbGVjdGVkVG9wOiBmdW5jdGlvbiB1cGRhdGVTZWxlY3RlZFRvcChwYXlsb2FkKSB7CiAgICAgIHRoaXMucGVyX3BhZ2UgPSBwYXlsb2FkLmlkOwogICAgfSwKICAgIHVwZGF0ZVNlbGVjdGVkS2V5d29yZHM6IGZ1bmN0aW9uIHVwZGF0ZVNlbGVjdGVkS2V5d29yZHMocGF5bG9hZCkgewogICAgICB0aGlzLmtleXdvcmRzID0gcGF5bG9hZC5pZDsKICAgIH0KICB9KSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZCh7fSwgbWFwR2V0dGVycyhbImdldEZpbHRlclN0YXRlIiwgImdldEZpbHRlciIsICJpc0RhdGFMb2FkZWQiXSksIHsKICAgIGNvdW50cnlGbGFnOiBmdW5jdGlvbiBjb3VudHJ5RmxhZygpIHsKICAgICAgdmFyIHN0YXRlRmlsdGVyID0gdGhpcy5nZXRGaWx0ZXJTdGF0ZSgiY291bnRyaWVzIilbMF07CgogICAgICBpZiAoc3RhdGVGaWx0ZXIpIHsKICAgICAgICByZXR1cm4gc3RhdGVGaWx0ZXIudGl0bGVfc2hvcnQudG9Mb3dlckNhc2UoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gdGhpcy5nZXRGaWx0ZXIuY291bnRyaWVzWzBdLnRpdGxlX3Nob3J0LnRvTG93ZXJDYXNlKCk7CiAgICAgIH0KICAgIH0KICB9KSwKICB3YXRjaDogewogICAga2V5d29yZHM6IGZ1bmN0aW9uIGtleXdvcmRzKCkgewogICAgICB0aGlzLnNhdmVGaWx0ZXIoKTsKICAgIH0sCiAgICBwZXJfcGFnZTogZnVuY3Rpb24gcGVyX3BhZ2UoKSB7CiAgICAgIHRoaXMuc2F2ZUZpbHRlcigpOwogICAgfSwKICAgIGNvdW50cnk6IGZ1bmN0aW9uIGNvdW50cnkoKSB7CiAgICAgIHRoaXMuc2F2ZUZpbHRlcigpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["mentions-filter.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoCA,OAAA,QAAA,MAAA,aAAA;AACA,SAAA,UAAA,EAAA,UAAA,QAAA,MAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,gBADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,QAAA,EAAA;AADA,GAFA;AAKA,EAAA,IALA,kBAKA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,EADA;AAEA,MAAA,QAAA,EAAA,EAFA;AAGA,MAAA,OAAA,EAAA,EAHA;AAIA,MAAA,QAAA,EAAA;AAJA,KAAA;AAMA,GAZA;AAaA,EAAA,OAAA,oBACA,UAAA,CAAA,CAAA,wBAAA,CAAA,CADA;AAEA,IAAA,UAFA,wBAEA;AACA,UAAA,OAAA,GAAA;AACA,QAAA,QAAA,EAAA,KAAA,QADA;AAEA,QAAA,aAAA,EAAA,KAAA,QAFA;AAGA,QAAA,SAAA,EAAA,KAAA;AAHA,OAAA;AAKA,WAAA,sBAAA,CAAA;AAAA,QAAA,OAAA,EAAA;AAAA,OAAA;AACA,KATA;AAWA,IAAA,qBAXA,iCAWA,OAXA,EAWA;AACA,WAAA,OAAA,GAAA,OAAA,CAAA,EAAA;AACA,KAbA;AAeA,IAAA,iBAfA,6BAeA,OAfA,EAeA;AACA,WAAA,QAAA,GAAA,OAAA,CAAA,EAAA;AACA,KAjBA;AAmBA,IAAA,sBAnBA,kCAmBA,OAnBA,EAmBA;AACA,WAAA,QAAA,GAAA,OAAA,CAAA,EAAA;AACA;AArBA,IAbA;AAoCA,EAAA,QAAA,oBACA,UAAA,CAAA,CAAA,gBAAA,EAAA,WAAA,EAAA,cAAA,CAAA,CADA;AAEA,IAAA,WAFA,yBAEA;AACA,UAAA,WAAA,GAAA,KAAA,cAAA,CAAA,WAAA,EAAA,CAAA,CAAA;;AACA,UAAA,WAAA,EAAA;AACA,eAAA,WAAA,CAAA,WAAA,CAAA,WAAA,EAAA;AACA,OAFA,MAEA;AACA,eAAA,KAAA,SAAA,CAAA,SAAA,CAAA,CAAA,EAAA,WAAA,CAAA,WAAA,EAAA;AACA;AACA;AATA,IApCA;AA+CA,EAAA,KAAA,EAAA;AACA,IAAA,QAAA,EAAA,oBAAA;AACA,WAAA,UAAA;AACA,KAHA;AAIA,IAAA,QAAA,EAAA,oBAAA;AACA,WAAA,UAAA;AACA,KANA;AAOA,IAAA,OAAA,EAAA,mBAAA;AACA,WAAA,UAAA;AACA;AATA;AA/CA,CAAA","sourcesContent":["<template>\n  <transition-group appear tag=\"div\" class=\"filters\" name=\"filters__animate\">\n    <div key=\"keywords\" class=\"filters__item\">\n        <Dropdown\n          :type=\"'keywords'\"\n          :options=\"getFilter.keywords\"\n          :selected=\"getFilterState('keywords')[0] || ''\"\n          v-on:updateOption=\"updateSelectedKeywords\"\n          :placeholder=\"'Ключевое слово'\"\n        >\n        </Dropdown>\n    </div>\n    <div key=\"top\" class=\"filters__item\">\n        <Dropdown\n          :options=\"getFilter.limit_options\"\n          :type=\"'top'\"\n          :selected=\"getFilterState('limit_options')[0]\"\n          v-on:updateOption=\"updateSelectedTop\"\n          :placeholder=\"'ТОП'\"\n        >\n        </Dropdown>\n    </div>\n    <div key=\"countries\" class=\"filters__item\">\n        <Dropdown\n          :options=\"getFilter.countries\"\n          :type=\"'country'\"\n          :selected=\"getFilterState('countries')[0] || getFilter.countries[0]\"\n          v-on:updateOption=\"updateSelectedCountry\"\n          :placeholder=\"'Страна'\"\n        >\n        </Dropdown>\n    </div>\n  </transition-group>\n</template>\n\n<script>\nimport Dropdown from \"../dropdown\";\nimport { mapGetters, mapActions } from \"vuex\";\n\nexport default {\n  name: \"MentionsFilter\",\n  components: {\n    Dropdown\n  },\n  data() {\n    return {\n      data: \"\",\n      per_page: \"\",\n      country: \"\",\n      keywords: \"\"\n    }\n  },\n  methods: {\n    ...mapActions([\"MENTIONS_CHANGE_FILTER\"]),\n    saveFilter() {\n      const options = {\n        keywords: this.keywords,\n        limit_options: this.per_page,\n        countries: this.country\n      };\n      this.MENTIONS_CHANGE_FILTER({ options });\n    },\n\n    updateSelectedCountry(payload) {\n      this.country = payload.id;\n    },\n\n    updateSelectedTop(payload) {\n      this.per_page = payload.id;\n    },\n\n    updateSelectedKeywords(payload) {\n      this.keywords = payload.id;\n    }\n  },\n  computed: {\n    ...mapGetters([\"getFilterState\", \"getFilter\", \"isDataLoaded\"]),\n    countryFlag() {\n      const stateFilter = this.getFilterState(\"countries\")[0];\n      if (stateFilter) {\n        return stateFilter.title_short.toLowerCase();\n      } else {\n        return this.getFilter.countries[0].title_short.toLowerCase();\n      }\n    }\n  },\n  watch: {\n    keywords: function() {\n      this.saveFilter();\n    },\n    per_page: function() {\n      this.saveFilter();\n    },\n    country: function() {\n      this.saveFilter();\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n  .filters {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: center;\n    box-sizing: border-box;\n    font-weight: 500;\n    font-size: 18px;\n    line-height: 20px;\n    font-family: \"Rubik\", sans-serif;\n    position: relative;\n    margin-bottom: 25px;\n    background: var(--el_bg);\n    box-shadow: 0px 1px 8px rgba(20, 46, 110, 0.1);\n    padding: 0;\n    border-radius: 8px;\n    transition: 0.3s ease-in-out;\n    z-index: 150;\n\n    &__animate {\n\n      &-leave-active {\n        transition: .2s ease-out;\n        @for $i from 1 through 5 {\n          &:nth-last-child(#{$i}) {\n            transition-delay: $i * 100ms;\n          }\n        }\n      }\n      &-enter-active {\n        transition: .3s ease-in;\n        @for $i from 1 through 5 {\n          &:nth-child(#{$i}) {\n            transition-delay: $i * 100ms;\n          }\n        }\n      }\n\n      &-enter, &-leave-to {\n        opacity: 0;\n        transform: translate(3.5rem, 0);\n      }\n    }\n\n    &__item {\n      width: 100%;\n      max-width: calc(100% / 3);\n      @include tablet {\n        margin-bottom: 2.5rem;\n        margin-right: 1.5rem;\n        max-width: calc( (100% - 3rem) / 3);\n        &:last-child {\n          margin-right: 0;\n        }\n      }\n    }\n    @include tablet {\n      margin-bottom: 0;\n      box-shadow: none;\n      background: rgba(255, 255, 255, 0);\n      justify-content: space-between;\n      padding: 0;\n    }\n  }\n</style>\n"],"sourceRoot":"src/components/filters"}]}