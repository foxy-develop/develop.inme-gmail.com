{"remainingRequest":"/Users/inme/new-cp/develop.inme-gmail.com/node_modules/babel-loader/lib/index.js!/Users/inme/new-cp/develop.inme-gmail.com/src/router/index.js","dependencies":[{"path":"/Users/inme/new-cp/develop.inme-gmail.com/src/router/index.js","mtime":1585569250828},{"path":"/Users/inme/new-cp/develop.inme-gmail.com/node_modules/cache-loader/dist/cjs.js","mtime":1585560594906},{"path":"/Users/inme/new-cp/develop.inme-gmail.com/node_modules/babel-loader/lib/index.js","mtime":1585560594458}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CmltcG9ydCBSb3V0ZXIgZnJvbSAndnVlLXJvdXRlcic7CmltcG9ydCB7IFRva2VuU2VydmljZSB9IGZyb20gIi4uL3NlcnZpY2VzL3N0b3JhZ2Uuc2VydmljZSI7CmltcG9ydCBzdG9yZSBmcm9tICIuLi9zdG9yZSI7ClZ1ZS51c2UoUm91dGVyKTsKCnZhciBIb21lID0gZnVuY3Rpb24gSG9tZSgpIHsKICByZXR1cm4gaW1wb3J0KCIuLi92aWV3cy9Ib21lIik7Cn07Cgp2YXIgQWJvdXQgPSBmdW5jdGlvbiBBYm91dCgpIHsKICByZXR1cm4gaW1wb3J0KCIuLi92aWV3cy9BYm91dCIpOwp9OwoKdmFyIExvZ2luID0gZnVuY3Rpb24gTG9naW4oKSB7CiAgcmV0dXJuIGltcG9ydCgiLi4vdmlld3MvTG9naW4iKTsKfTsKCnZhciBpZkVycm9yID0gZnVuY3Rpb24gaWZFcnJvcih0bywgZnJvbSwgbmV4dCkgewogIGlmIChUb2tlblNlcnZpY2UuZ2V0KCkpIHsKICAgIG5leHQoIi8iKTsKICAgIHJldHVybjsKICB9CgogIG5leHQoIi9sb2dpbiIpOwp9OwoKdmFyIHJvdXRlcyA9IFt7CiAgcGF0aDogIi8iLAogIG5hbWU6ICJIb21lIiwKICBjb21wb25lbnQ6IEhvbWUKfSwgewogIHBhdGg6ICIvYWJvdXQiLAogIG5hbWU6ICJBYm91dCIsCiAgY29tcG9uZW50OiBBYm91dAp9LCB7CiAgcGF0aDogIi9sb2dpbiIsCiAgbmFtZTogIkxvZ2luIiwKICBjb21wb25lbnQ6IExvZ2luCn1dOwp2YXIgcm91dGVyID0gbmV3IFJvdXRlcih7CiAgbW9kZTogJ2hpc3RvcnknLAogIGJhc2U6IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAiLyIsCiAgcm91dGVzOiByb3V0ZXMKfSk7CnJvdXRlci5iZWZvcmVFYWNoKGZ1bmN0aW9uICh0bywgZnJvbSwgbmV4dCkgewogIGlmICh0by5uYW1lICE9PSAnTG9naW4nICYmICFzdG9yZS5nZXR0ZXJzLmlzQXV0aGVudGljYXRlZCkgbmV4dCh7CiAgICBuYW1lOiAnTG9naW4nCiAgfSk7CiAgaWYgKHRvLm5hbWUgPT09ICdMb2dpbicgJiYgc3RvcmUuZ2V0dGVycy5pc0F1dGhlbnRpY2F0ZWQpIG5leHQoewogICAgbmFtZTogJ0hvbWUnCiAgfSk7ZWxzZSBuZXh0KCk7Cn0pOwpleHBvcnQgZGVmYXVsdCByb3V0ZXI7"},{"version":3,"sources":["/Users/inme/new-cp/develop.inme-gmail.com/src/router/index.js"],"names":["Vue","Router","TokenService","store","use","Home","About","Login","ifError","to","from","next","get","routes","path","name","component","router","mode","base","process","env","NODE_ENV","beforeEach","getters","isAuthenticated"],"mappings":";;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,MAAP,MAAmB,YAAnB;AACA,SAASC,YAAT,QAA6B,6BAA7B;AACA,OAAOC,KAAP,MAAkB,UAAlB;AAEAH,GAAG,CAACI,GAAJ,CAAQH,MAAR;;AACA,IAAMI,IAAI,GAAG,SAAPA,IAAO;AAAA,SAAM,OAAO,eAAP,CAAN;AAAA,CAAb;;AACA,IAAMC,KAAK,GAAG,SAARA,KAAQ;AAAA,SAAM,OAAO,gBAAP,CAAN;AAAA,CAAd;;AACA,IAAMC,KAAK,GAAG,SAARA,KAAQ;AAAA,SAAM,OAAO,gBAAP,CAAN;AAAA,CAAd;;AAEA,IAAMC,OAAO,GAAG,SAAVA,OAAU,CAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AAClC,MAAIT,YAAY,CAACU,GAAb,EAAJ,EAAwB;AACtBD,IAAAA,IAAI,CAAC,GAAD,CAAJ;AACA;AACD;;AACDA,EAAAA,IAAI,CAAC,QAAD,CAAJ;AACD,CAND;;AASA,IAAME,MAAM,GAAG,CACb;AACEC,EAAAA,IAAI,EAAE,GADR;AAEEC,EAAAA,IAAI,EAAE,MAFR;AAGEC,EAAAA,SAAS,EAAEX;AAHb,CADa,EAMb;AACES,EAAAA,IAAI,EAAE,QADR;AAEEC,EAAAA,IAAI,EAAE,OAFR;AAGEC,EAAAA,SAAS,EAAEV;AAHb,CANa,EAWb;AACEQ,EAAAA,IAAI,EAAE,QADR;AAEEC,EAAAA,IAAI,EAAE,OAFR;AAGEC,EAAAA,SAAS,EAAET;AAHb,CAXa,CAAf;AAkBA,IAAMU,MAAM,GAAG,IAAIhB,MAAJ,CAAW;AACxBiB,EAAAA,IAAI,EAAE,SADkB;AAExBC,EAAAA,IAAI,EAAEC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAwB,GAFN;AAGxBT,EAAAA,MAAM,EAANA;AAHwB,CAAX,CAAf;AAQAI,MAAM,CAACM,UAAP,CAAkB,UAACd,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AACpC,MAAIF,EAAE,CAACM,IAAH,KAAY,OAAZ,IAAuB,CAACZ,KAAK,CAACqB,OAAN,CAAcC,eAA1C,EAA2Dd,IAAI,CAAC;AAAEI,IAAAA,IAAI,EAAE;AAAR,GAAD,CAAJ;AAC3D,MAAIN,EAAE,CAACM,IAAH,KAAY,OAAZ,IAAuBZ,KAAK,CAACqB,OAAN,CAAcC,eAAzC,EAA0Dd,IAAI,CAAC;AAAEI,IAAAA,IAAI,EAAE;AAAR,GAAD,CAAJ,CAA1D,KACKJ,IAAI;AACV,CAJD;AAOA,eAAeM,MAAf","sourcesContent":["import Vue from 'vue'\nimport Router from 'vue-router'\nimport { TokenService } from \"../services/storage.service\";\nimport store from \"../store\";\n\nVue.use(Router);\nconst Home = () => import(\"../views/Home\");\nconst About = () => import(\"../views/About\");\nconst Login = () => import(\"../views/Login\");\n\nconst ifError = (to, from, next) => {\n  if (TokenService.get()) {\n    next(\"/\");\n    return;\n  }\n  next(\"/login\");\n};\n\n\nconst routes = [\n  {\n    path: \"/\",\n    name: \"Home\",\n    component: Home\n  },\n  {\n    path: \"/about\",\n    name: \"About\",\n    component: About\n  },\n  {\n    path: \"/login\",\n    name: \"Login\",\n    component: Login\n  },\n];\n\nconst router = new Router({\n  mode: 'history',\n  base: process.env.NODE_ENV ===\"/\",\n  routes\n});\n\n\n\nrouter.beforeEach((to, from, next) => {\n  if (to.name !== 'Login' && !store.getters.isAuthenticated) next({ name: 'Login' });\n  if (to.name === 'Login' && store.getters.isAuthenticated) next({ name: 'Home' });\n  else next()\n})\n\n\nexport default router\n"]}]}