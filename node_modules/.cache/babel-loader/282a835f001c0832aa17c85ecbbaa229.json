{"remainingRequest":"/Users/inme/new-cp/develop.inme-gmail.com/node_modules/babel-loader/lib/index.js!/Users/inme/new-cp/develop.inme-gmail.com/src/store/modules/auth.js","dependencies":[{"path":"/Users/inme/new-cp/develop.inme-gmail.com/src/store/modules/auth.js","mtime":1585567500930},{"path":"/Users/inme/new-cp/develop.inme-gmail.com/node_modules/cache-loader/dist/cjs.js","mtime":1585560594906},{"path":"/Users/inme/new-cp/develop.inme-gmail.com/node_modules/babel-loader/lib/index.js","mtime":1585560594458}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICIvVXNlcnMvaW5tZS9uZXctY3AvZGV2ZWxvcC5pbm1lLWdtYWlsLmNvbS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvVXNlcnMvaW5tZS9uZXctY3AvZGV2ZWxvcC5pbm1lLWdtYWlsLmNvbS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7Cgp2YXIgX2FjdGlvbnMsIF9tdXRhdGlvbnM7CgovKiBlc2xpbnQtZGlzYWJsZSBwcm9taXNlL3BhcmFtLW5hbWVzICovCmltcG9ydCB7IEFVVEhfUkVRVUVTVCwgQVVUSF9FUlJPUiwgQVVUSF9MT0dJTiwgQVVUSF9TVUNDRVNTLCBBVVRIX0xPR09VVCB9IGZyb20gIi4uL2FjdGlvbnMvYXV0aCI7CmltcG9ydCBBdXRoU2VydmljZSBmcm9tICIuLi8uLi9hcGkvYXV0aC5zZXJ2aWNlIjsKaW1wb3J0IHJvdXRlciBmcm9tICIuLi8uLi9yb3V0ZXIiOwppbXBvcnQgeyBVU0VSX1JFUVVFU1QgfSBmcm9tICIuLi9hY3Rpb25zL3VzZXIiOwp2YXIgc3RhdGUgPSB7CiAgc3RhdHVzOiBmYWxzZSwKICBlcnJvck1lc3NhZ2U6IG51bGwsCiAgcGhvbmU6IG51bGwKfTsKdmFyIGdldHRlcnMgPSB7CiAgaXNQaG9uZUFwcHJvdmVkOiBmdW5jdGlvbiBpc1Bob25lQXBwcm92ZWQoc3RhdGUpIHsKICAgIHJldHVybiBzdGF0ZS5waG9uZTsKICB9LAogIGdldEVycm9yTWVzc2FnZTogZnVuY3Rpb24gZ2V0RXJyb3JNZXNzYWdlKHN0YXRlKSB7CiAgICByZXR1cm4gc3RhdGUuZXJyb3JNZXNzYWdlOwogIH0KfTsKdmFyIGFjdGlvbnMgPSAoX2FjdGlvbnMgPSB7fSwgX2RlZmluZVByb3BlcnR5KF9hY3Rpb25zLCBBVVRIX1JFUVVFU1QsIGZ1bmN0aW9uICgpIHsKICB2YXIgX3JlZjIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoX3JlZiwgcGhvbmUpIHsKICAgIHZhciBjb21taXQsIHI7CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogICAgICAgICAgICBjb21taXQoQVVUSF9SRVFVRVNUKTsKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgIHJldHVybiBBdXRoU2VydmljZS5hdXRoKHBob25lKTsKCiAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgIHIgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICByLnN0YXR1cyA/IGNvbW1pdChBVVRIX1NVQ0NFU1MsIHBob25lKSA6IGNvbW1pdChBVVRIX0VSUk9SLCByLm1lc3NhZ2UpOwoKICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlKTsKICB9KSk7CgogIHJldHVybiBmdW5jdGlvbiAoX3gsIF94MikgewogICAgcmV0dXJuIF9yZWYyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgfTsKfSgpKSwgX2RlZmluZVByb3BlcnR5KF9hY3Rpb25zLCBBVVRIX0xPR0lOLCBmdW5jdGlvbiAoKSB7CiAgdmFyIF9yZWY1ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMihfcmVmMywgX3JlZjQpIHsKICAgIHZhciBjb21taXQsIGRpc3BhdGNoLCBwYXNzd29yZCwgcGhvbmUsIHI7CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBjb21taXQgPSBfcmVmMy5jb21taXQsIGRpc3BhdGNoID0gX3JlZjMuZGlzcGF0Y2g7CiAgICAgICAgICAgIHBhc3N3b3JkID0gX3JlZjQucGFzc3dvcmQsIHBob25lID0gX3JlZjQucGhvbmU7CiAgICAgICAgICAgIGNvbW1pdChBVVRIX1JFUVVFU1QpOwogICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDU7CiAgICAgICAgICAgIHJldHVybiBBdXRoU2VydmljZS5sb2dpbihwYXNzd29yZCwgcGhvbmUpOwoKICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgciA9IF9jb250ZXh0Mi5zZW50OwoKICAgICAgICAgICAgaWYgKHIuc3RhdHVzKSB7CiAgICAgICAgICAgICAgY29tbWl0KEFVVEhfU1VDQ0VTUywgci50b2tlbik7CiAgICAgICAgICAgICAgcm91dGVyLnB1c2goIi8iKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIHJldHVybiBkaXNwYXRjaChVU0VSX1JFUVVFU1QpOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIGNvbW1pdChBVVRIX0VSUk9SLCByLm1lc3NhZ2UpOwogICAgICAgICAgICB9CgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIiwgci5zdGF0dXMpOwoKICAgICAgICAgIGNhc2UgODoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZTIpOwogIH0pKTsKCiAgcmV0dXJuIGZ1bmN0aW9uIChfeDMsIF94NCkgewogICAgcmV0dXJuIF9yZWY1LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgfTsKfSgpKSwgX2RlZmluZVByb3BlcnR5KF9hY3Rpb25zLCBBVVRIX0xPR09VVCwgZnVuY3Rpb24gKF9yZWY2KSB7CiAgdmFyIGNvbW1pdCA9IF9yZWY2LmNvbW1pdDsKICBBdXRoU2VydmljZS5sb2dvdXQoKTsKICBjb21taXQoQVVUSF9MT0dPVVQpOwp9KSwgX2RlZmluZVByb3BlcnR5KF9hY3Rpb25zLCBBVVRIX0VSUk9SLCBmdW5jdGlvbiAoX3JlZjcsIG1zZykgewogIHZhciBjb21taXQgPSBfcmVmNy5jb21taXQsCiAgICAgIGRpc3BhdGNoID0gX3JlZjcuZGlzcGF0Y2g7CiAgY29tbWl0KEFVVEhfRVJST1IsIG1zZyk7CiAgZGlzcGF0Y2goQVVUSF9MT0dPVVQpOwp9KSwgX2FjdGlvbnMpOwp2YXIgbXV0YXRpb25zID0gKF9tdXRhdGlvbnMgPSB7fSwgX2RlZmluZVByb3BlcnR5KF9tdXRhdGlvbnMsIEFVVEhfUkVRVUVTVCwgZnVuY3Rpb24gKHN0YXRlKSB7CiAgc3RhdGUuc3RhdHVzID0gImxvYWRpbmciOwp9KSwgX2RlZmluZVByb3BlcnR5KF9tdXRhdGlvbnMsIEFVVEhfU1VDQ0VTUywgZnVuY3Rpb24gKHN0YXRlKSB7CiAgc3RhdGUuc3RhdHVzID0gdHJ1ZTsKICBzdGF0ZS5waG9uZSA9IHRydWU7CiAgc3RhdGUuZXJyb3JNZXNzYWdlID0gIiI7Cn0pLCBfZGVmaW5lUHJvcGVydHkoX211dGF0aW9ucywgQVVUSF9FUlJPUiwgZnVuY3Rpb24gKHN0YXRlLCBtc2cpIHsKICBzdGF0ZS5lcnJvck1lc3NhZ2UgPSBtc2c7CiAgc3RhdGUuc3RhdHVzID0gImZhbHNlIjsKfSksIF9kZWZpbmVQcm9wZXJ0eShfbXV0YXRpb25zLCBBVVRIX0xPR09VVCwgZnVuY3Rpb24gKCkgewogIHN0YXRlLnBob25lID0gZmFsc2U7CiAgc3RhdGUuZXJyb3JNZXNzYWdlID0gbnVsbDsKfSksIF9tdXRhdGlvbnMpOwpleHBvcnQgZGVmYXVsdCB7CiAgc3RhdGU6IHN0YXRlLAogIGdldHRlcnM6IGdldHRlcnMsCiAgYWN0aW9uczogYWN0aW9ucywKICBtdXRhdGlvbnM6IG11dGF0aW9ucwp9Ow=="},{"version":3,"sources":["/Users/inme/new-cp/develop.inme-gmail.com/src/store/modules/auth.js"],"names":["AUTH_REQUEST","AUTH_ERROR","AUTH_LOGIN","AUTH_SUCCESS","AUTH_LOGOUT","AuthService","router","USER_REQUEST","state","status","errorMessage","phone","getters","isPhoneApproved","getErrorMessage","actions","commit","auth","r","message","dispatch","password","login","token","push","then","logout","msg","mutations"],"mappings":"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","sourcesContent":["\n/* eslint-disable promise/param-names */\nimport {\n  AUTH_REQUEST,\n  AUTH_ERROR,\n  AUTH_LOGIN,\n  AUTH_SUCCESS,\n  AUTH_LOGOUT\n} from \"../actions/auth\";\n\nimport AuthService from \"../../api/auth.service\";\nimport router from \"../../router\";\nimport { USER_REQUEST } from \"../actions/user\";\n\nconst state = {\n  status: false,\n  errorMessage: null,\n  phone: null\n};\n\nconst getters = {\n  isPhoneApproved: state => state.phone,\n  getErrorMessage: state => state.errorMessage,\n};\n\nconst actions = {\n  [AUTH_REQUEST]: async ({ commit }, phone) => {\n    commit(AUTH_REQUEST);\n    const r = await AuthService.auth(phone);\n    r.status ? commit(AUTH_SUCCESS, phone) : commit(AUTH_ERROR, r.message);\n  },\n  [AUTH_LOGIN]: async ({ commit, dispatch }, { password, phone }) => {\n    commit(AUTH_REQUEST);\n    const r = await AuthService.login(password, phone);\n    if (r.status) {\n      commit(AUTH_SUCCESS, r.token);\n      router.push(\"/\").then(() => dispatch(USER_REQUEST));\n    } else {\n      commit(AUTH_ERROR, r.message);\n    }\n    return r.status;\n  },\n  [AUTH_LOGOUT]: ({ commit }) => {\n    AuthService.logout();\n    commit(AUTH_LOGOUT);\n  },\n  [AUTH_ERROR]: ({ commit, dispatch }, msg) => {\n    commit(AUTH_ERROR, msg);\n    dispatch(AUTH_LOGOUT);\n  }\n};\n\nconst mutations = {\n  [AUTH_REQUEST]: state => {\n    state.status = \"loading\";\n  },\n  [AUTH_SUCCESS]: state => {\n    state.status = true;\n    state.phone = true;\n    state.errorMessage = \"\";\n  },\n  [AUTH_ERROR]: (state, msg) => {\n    state.errorMessage = msg;\n    state.status = \"false\";\n  },\n  [AUTH_LOGOUT]: () => {\n    state.phone = false;\n    state.errorMessage = null;\n  }\n};\n\nexport default {\n  state,\n  getters,\n  actions,\n  mutations\n};\n"]}]}